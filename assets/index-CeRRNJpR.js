(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=e(a);fetch(a.href,s)}})();function EE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var fb={exports:{}},Hg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function Xz(){if(vw)return Hg;vw=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,a,s){var o=null;if(s!==void 0&&(o=""+s),a.key!==void 0&&(o=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:i,type:n,key:o,ref:a!==void 0?a:null,props:s}}return Hg.Fragment=t,Hg.jsx=e,Hg.jsxs=e,Hg}var yw;function qz(){return yw||(yw=1,fb.exports=Xz()),fb.exports}var yt=qz(),hb={exports:{}},nn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function Yz(){if(_w)return nn;_w=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function _(k){return k===null||typeof k!="object"?null:(k=v&&k[v]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function E(k,nt,_t){this.props=k,this.context=nt,this.refs=A,this.updater=_t||x}E.prototype.isReactComponent={},E.prototype.setState=function(k,nt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,nt,"setState")},E.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function b(){}b.prototype=E.prototype;function R(k,nt,_t){this.props=k,this.context=nt,this.refs=A,this.updater=_t||x}var D=R.prototype=new b;D.constructor=R,T(D,E.prototype),D.isPureReactComponent=!0;var N=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function F(k,nt,_t,wt,Rt,qt){return _t=qt.ref,{$$typeof:i,type:k,key:nt,ref:_t!==void 0?_t:null,props:qt}}function V(k,nt){return F(k.type,nt,void 0,void 0,void 0,k.props)}function L(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function B(k){var nt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(_t){return nt[_t]})}var W=/\/+/g;function $(k,nt){return typeof k=="object"&&k!==null&&k.key!=null?B(""+k.key):nt.toString(36)}function it(){}function ct(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(it,it):(k.status="pending",k.then(function(nt){k.status==="pending"&&(k.status="fulfilled",k.value=nt)},function(nt){k.status==="pending"&&(k.status="rejected",k.reason=nt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ut(k,nt,_t,wt,Rt){var qt=typeof k;(qt==="undefined"||qt==="boolean")&&(k=null);var mt=!1;if(k===null)mt=!0;else switch(qt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(k.$$typeof){case i:case t:mt=!0;break;case m:return mt=k._init,ut(mt(k._payload),nt,_t,wt,Rt)}}if(mt)return Rt=Rt(k),mt=wt===""?"."+$(k,0):wt,N(Rt)?(_t="",mt!=null&&(_t=mt.replace(W,"$&/")+"/"),ut(Rt,nt,_t,"",function(he){return he})):Rt!=null&&(L(Rt)&&(Rt=V(Rt,_t+(Rt.key==null||k&&k.key===Rt.key?"":(""+Rt.key).replace(W,"$&/")+"/")+mt)),nt.push(Rt)),1;mt=0;var Nt=wt===""?".":wt+":";if(N(k))for(var kt=0;kt<k.length;kt++)wt=k[kt],qt=Nt+$(wt,kt),mt+=ut(wt,nt,_t,qt,Rt);else if(kt=_(k),typeof kt=="function")for(k=kt.call(k),kt=0;!(wt=k.next()).done;)wt=wt.value,qt=Nt+$(wt,kt++),mt+=ut(wt,nt,_t,qt,Rt);else if(qt==="object"){if(typeof k.then=="function")return ut(ct(k),nt,_t,wt,Rt);throw nt=String(k),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return mt}function z(k,nt,_t){if(k==null)return k;var wt=[],Rt=0;return ut(k,wt,"","",function(qt){return nt.call(_t,qt,Rt++)}),wt}function q(k){if(k._status===-1){var nt=k._result;nt=nt(),nt.then(function(_t){(k._status===0||k._status===-1)&&(k._status=1,k._result=_t)},function(_t){(k._status===0||k._status===-1)&&(k._status=2,k._result=_t)}),k._status===-1&&(k._status=0,k._result=nt)}if(k._status===1)return k._result.default;throw k._result}var j=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function rt(){}return nn.Children={map:z,forEach:function(k,nt,_t){z(k,function(){nt.apply(this,arguments)},_t)},count:function(k){var nt=0;return z(k,function(){nt++}),nt},toArray:function(k){return z(k,function(nt){return nt})||[]},only:function(k){if(!L(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},nn.Component=E,nn.Fragment=e,nn.Profiler=a,nn.PureComponent=R,nn.StrictMode=n,nn.Suspense=h,nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,nn.__COMPILER_RUNTIME={__proto__:null,c:function(k){return U.H.useMemoCache(k)}},nn.cache=function(k){return function(){return k.apply(null,arguments)}},nn.cloneElement=function(k,nt,_t){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var wt=T({},k.props),Rt=k.key,qt=void 0;if(nt!=null)for(mt in nt.ref!==void 0&&(qt=void 0),nt.key!==void 0&&(Rt=""+nt.key),nt)!P.call(nt,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&nt.ref===void 0||(wt[mt]=nt[mt]);var mt=arguments.length-2;if(mt===1)wt.children=_t;else if(1<mt){for(var Nt=Array(mt),kt=0;kt<mt;kt++)Nt[kt]=arguments[kt+2];wt.children=Nt}return F(k.type,Rt,void 0,void 0,qt,wt)},nn.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:s,_context:k},k},nn.createElement=function(k,nt,_t){var wt,Rt={},qt=null;if(nt!=null)for(wt in nt.key!==void 0&&(qt=""+nt.key),nt)P.call(nt,wt)&&wt!=="key"&&wt!=="__self"&&wt!=="__source"&&(Rt[wt]=nt[wt]);var mt=arguments.length-2;if(mt===1)Rt.children=_t;else if(1<mt){for(var Nt=Array(mt),kt=0;kt<mt;kt++)Nt[kt]=arguments[kt+2];Rt.children=Nt}if(k&&k.defaultProps)for(wt in mt=k.defaultProps,mt)Rt[wt]===void 0&&(Rt[wt]=mt[wt]);return F(k,qt,void 0,void 0,null,Rt)},nn.createRef=function(){return{current:null}},nn.forwardRef=function(k){return{$$typeof:u,render:k}},nn.isValidElement=L,nn.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:q}},nn.memo=function(k,nt){return{$$typeof:p,type:k,compare:nt===void 0?null:nt}},nn.startTransition=function(k){var nt=U.T,_t={};U.T=_t;try{var wt=k(),Rt=U.S;Rt!==null&&Rt(_t,wt),typeof wt=="object"&&wt!==null&&typeof wt.then=="function"&&wt.then(rt,j)}catch(qt){j(qt)}finally{U.T=nt}},nn.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},nn.use=function(k){return U.H.use(k)},nn.useActionState=function(k,nt,_t){return U.H.useActionState(k,nt,_t)},nn.useCallback=function(k,nt){return U.H.useCallback(k,nt)},nn.useContext=function(k){return U.H.useContext(k)},nn.useDebugValue=function(){},nn.useDeferredValue=function(k,nt){return U.H.useDeferredValue(k,nt)},nn.useEffect=function(k,nt,_t){var wt=U.H;if(typeof _t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return wt.useEffect(k,nt)},nn.useId=function(){return U.H.useId()},nn.useImperativeHandle=function(k,nt,_t){return U.H.useImperativeHandle(k,nt,_t)},nn.useInsertionEffect=function(k,nt){return U.H.useInsertionEffect(k,nt)},nn.useLayoutEffect=function(k,nt){return U.H.useLayoutEffect(k,nt)},nn.useMemo=function(k,nt){return U.H.useMemo(k,nt)},nn.useOptimistic=function(k,nt){return U.H.useOptimistic(k,nt)},nn.useReducer=function(k,nt,_t){return U.H.useReducer(k,nt,_t)},nn.useRef=function(k){return U.H.useRef(k)},nn.useState=function(k){return U.H.useState(k)},nn.useSyncExternalStore=function(k,nt,_t){return U.H.useSyncExternalStore(k,nt,_t)},nn.useTransition=function(){return U.H.useTransition()},nn.version="19.1.1",nn}var xw;function mm(){return xw||(xw=1,hb.exports=Yz()),hb.exports}var et=mm();const AE=EE(et);var db={exports:{}},Gg={},pb={exports:{}},mb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function jz(){return Sw||(Sw=1,(function(i){function t(z,q){var j=z.length;z.push(q);t:for(;0<j;){var rt=j-1>>>1,k=z[rt];if(0<a(k,q))z[rt]=q,z[j]=k,j=rt;else break t}}function e(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var q=z[0],j=z.pop();if(j!==q){z[0]=j;t:for(var rt=0,k=z.length,nt=k>>>1;rt<nt;){var _t=2*(rt+1)-1,wt=z[_t],Rt=_t+1,qt=z[Rt];if(0>a(wt,j))Rt<k&&0>a(qt,wt)?(z[rt]=qt,z[Rt]=j,rt=Rt):(z[rt]=wt,z[_t]=j,rt=_t);else if(Rt<k&&0>a(qt,j))z[rt]=qt,z[Rt]=j,rt=Rt;else break t}}return q}function a(z,q){var j=z.sortIndex-q.sortIndex;return j!==0?j:z.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();i.unstable_now=function(){return o.now()-u}}var h=[],p=[],m=1,v=null,_=3,x=!1,T=!1,A=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function N(z){for(var q=e(p);q!==null;){if(q.callback===null)n(p);else if(q.startTime<=z)n(p),q.sortIndex=q.expirationTime,t(h,q);else break;q=e(p)}}function U(z){if(A=!1,N(z),!T)if(e(h)!==null)T=!0,P||(P=!0,$());else{var q=e(p);q!==null&&ut(U,q.startTime-z)}}var P=!1,F=-1,V=5,L=-1;function B(){return E?!0:!(i.unstable_now()-L<V)}function W(){if(E=!1,P){var z=i.unstable_now();L=z;var q=!0;try{t:{T=!1,A&&(A=!1,R(F),F=-1),x=!0;var j=_;try{e:{for(N(z),v=e(h);v!==null&&!(v.expirationTime>z&&B());){var rt=v.callback;if(typeof rt=="function"){v.callback=null,_=v.priorityLevel;var k=rt(v.expirationTime<=z);if(z=i.unstable_now(),typeof k=="function"){v.callback=k,N(z),q=!0;break e}v===e(h)&&n(h),N(z)}else n(h);v=e(h)}if(v!==null)q=!0;else{var nt=e(p);nt!==null&&ut(U,nt.startTime-z),q=!1}}break t}finally{v=null,_=j,x=!1}q=void 0}}finally{q?$():P=!1}}}var $;if(typeof D=="function")$=function(){D(W)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,ct=it.port2;it.port1.onmessage=W,$=function(){ct.postMessage(null)}}else $=function(){b(W,0)};function ut(z,q){F=b(function(){z(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(z){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var j=_;_=q;try{return z()}finally{_=j}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var j=_;_=z;try{return q()}finally{_=j}},i.unstable_scheduleCallback=function(z,q,j){var rt=i.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?rt+j:rt):j=rt,z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=j+k,z={id:m++,callback:q,priorityLevel:z,startTime:j,expirationTime:k,sortIndex:-1},j>rt?(z.sortIndex=j,t(p,z),e(h)===null&&z===e(p)&&(A?(R(F),F=-1):A=!0,ut(U,j-rt))):(z.sortIndex=k,t(h,z),T||x||(T=!0,P||(P=!0,$()))),z},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(z){var q=_;return function(){var j=_;_=q;try{return z.apply(this,arguments)}finally{_=j}}}})(mb)),mb}var bw;function Wz(){return bw||(bw=1,pb.exports=jz()),pb.exports}var gb={exports:{}},ka={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function Zz(){if(Mw)return ka;Mw=1;var i=mm();function t(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(h,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:p,implementation:m}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ka.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ka.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return s(h,p,null,m)},ka.flushSync=function(h){var p=o.T,m=n.p;try{if(o.T=null,n.p=2,h)return h()}finally{o.T=p,n.p=m,n.d.f()}},ka.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(h,p))},ka.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},ka.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?n.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:x}):m==="script"&&n.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ka.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);n.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(h)},ka.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin);n.d.L(h,m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ka.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=u(p.as,p.crossOrigin);n.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(h)},ka.requestFormReset=function(h){n.d.r(h)},ka.unstable_batchedUpdates=function(h,p){return h(p)},ka.useFormState=function(h,p,m){return o.H.useFormState(h,p,m)},ka.useFormStatus=function(){return o.H.useHostTransitionStatus()},ka.version="19.1.1",ka}var Tw;function Kz(){if(Tw)return gb.exports;Tw=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),gb.exports=Zz(),gb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function Qz(){if(Ew)return Gg;Ew=1;var i=Wz(),t=mm(),e=Kz();function n(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function s(r){var l=r,d=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(d=l.return),r=l.return;while(r)}return l.tag===3?d:null}function o(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function u(r){if(s(r)!==r)throw Error(n(188))}function h(r){var l=r.alternate;if(!l){if(l=s(r),l===null)throw Error(n(188));return l!==r?null:r}for(var d=r,g=l;;){var S=d.return;if(S===null)break;var w=S.alternate;if(w===null){if(g=S.return,g!==null){d=g;continue}break}if(S.child===w.child){for(w=S.child;w;){if(w===d)return u(S),r;if(w===g)return u(S),l;w=w.sibling}throw Error(n(188))}if(d.return!==g.return)d=S,g=w;else{for(var I=!1,G=S.child;G;){if(G===d){I=!0,d=S,g=w;break}if(G===g){I=!0,g=S,d=w;break}G=G.sibling}if(!I){for(G=w.child;G;){if(G===d){I=!0,d=w,g=S;break}if(G===g){I=!0,g=w,d=S;break}G=G.sibling}if(!I)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?r:l}function p(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=p(r),l!==null)return l;r=r.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=W&&r[W]||r["@@iterator"],typeof r=="function"?r:null)}var it=Symbol.for("react.client.reference");function ct(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===it?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case U:return"Suspense";case P:return"SuspenseList";case L:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case D:return(r.displayName||"Context")+".Provider";case R:return(r._context.displayName||"Context")+".Consumer";case N:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case F:return l=r.displayName||null,l!==null?l:ct(r.type)||"Memo";case V:l=r._payload,r=r._init;try{return ct(r(l))}catch{}}return null}var ut=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},rt=[],k=-1;function nt(r){return{current:r}}function _t(r){0>k||(r.current=rt[k],rt[k]=null,k--)}function wt(r,l){k++,rt[k]=r.current,r.current=l}var Rt=nt(null),qt=nt(null),mt=nt(null),Nt=nt(null);function kt(r,l){switch(wt(mt,l),wt(qt,r),wt(Rt,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?q2(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=q2(l),r=Y2(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}_t(Rt),wt(Rt,r)}function he(){_t(Rt),_t(qt),_t(mt)}function ce(r){r.memoizedState!==null&&wt(Nt,r);var l=Rt.current,d=Y2(l,r.type);l!==d&&(wt(qt,r),wt(Rt,d))}function Xe(r){qt.current===r&&(_t(Rt),_t(qt)),Nt.current===r&&(_t(Nt),zg._currentValue=j)}var hn=Object.prototype.hasOwnProperty,Q=i.unstable_scheduleCallback,Vt=i.unstable_cancelCallback,Bt=i.unstable_shouldYield,Pt=i.unstable_requestPaint,Dt=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,Xt=i.unstable_ImmediatePriority,Wt=i.unstable_UserBlockingPriority,we=i.unstable_NormalPriority,ze=i.unstable_LowPriority,Z=i.unstable_IdlePriority,H=i.log,pt=i.unstable_setDisableYieldValue,At=null,Lt=null;function Ct(r){if(typeof H=="function"&&pt(r),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(At,r)}catch{}}var re=Math.clz32?Math.clz32:ge,$t=Math.log,me=Math.LN2;function ge(r){return r>>>=0,r===0?32:31-($t(r)/me|0)|0}var Gt=256,ie=4194304;function be(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ve(r,l,d){var g=r.pendingLanes;if(g===0)return 0;var S=0,w=r.suspendedLanes,I=r.pingedLanes;r=r.warmLanes;var G=g&134217727;return G!==0?(g=G&~w,g!==0?S=be(g):(I&=G,I!==0?S=be(I):d||(d=G&~r,d!==0&&(S=be(d))))):(G=g&~w,G!==0?S=be(G):I!==0?S=be(I):d||(d=g&~r,d!==0&&(S=be(d)))),S===0?0:l!==0&&l!==S&&(l&w)===0&&(w=S&-S,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:S}function ae(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function Be(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var r=Gt;return Gt<<=1,(Gt&4194048)===0&&(Gt=256),r}function Zt(){var r=ie;return ie<<=1,(ie&62914560)===0&&(ie=4194304),r}function te(r){for(var l=[],d=0;31>d;d++)l.push(r);return l}function fe(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Yt(r,l,d,g,S,w){var I=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var G=r.entanglements,J=r.expirationTimes,xt=r.hiddenUpdates;for(d=I&~d;0<d;){var Ut=31-re(d),Ft=1<<Ut;G[Ut]=0,J[Ut]=-1;var bt=xt[Ut];if(bt!==null)for(xt[Ut]=null,Ut=0;Ut<bt.length;Ut++){var Mt=bt[Ut];Mt!==null&&(Mt.lane&=-536870913)}d&=~Ft}g!==0&&It(r,g,0),w!==0&&S===0&&r.tag!==0&&(r.suspendedLanes|=w&~(I&~l))}function It(r,l,d){r.pendingLanes|=l,r.suspendedLanes&=~l;var g=31-re(l);r.entangledLanes|=l,r.entanglements[g]=r.entanglements[g]|1073741824|d&4194090}function ye(r,l){var d=r.entangledLanes|=l;for(r=r.entanglements;d;){var g=31-re(d),S=1<<g;S&l|r[g]&l&&(r[g]|=l),d&=~S}}function Oe(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function dn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ln(){var r=q.p;return r!==0?r:(r=window.event,r===void 0?32:fw(r.type))}function ws(r,l){var d=q.p;try{return q.p=r,l()}finally{q.p=d}}var xi=Math.random().toString(36).slice(2),Si="__reactFiber$"+xi,Jn="__reactProps$"+xi,Cs="__reactContainer$"+xi,ts="__reactEvents$"+xi,df="__reactListeners$"+xi,es="__reactHandles$"+xi,ns="__reactResources$"+xi,is="__reactMarker$"+xi;function Fn(r){delete r[Si],delete r[Jn],delete r[ts],delete r[df],delete r[es]}function er(r){var l=r[Si];if(l)return l;for(var d=r.parentNode;d;){if(l=d[Cs]||d[Si]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(r=K2(r);r!==null;){if(d=r[Si])return d;r=K2(r)}return l}r=d,d=r.parentNode}return null}function Ar(r){if(r=r[Si]||r[Cs]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function Ho(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(n(33))}function ao(r){var l=r[ns];return l||(l=r[ns]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function bi(r){r[is]=!0}var Vu=new Set,Hu={};function X(r,l){lt(r,l),lt(r+"Capture",l)}function lt(r,l){for(Hu[r]=l,r=0;r<l.length;r++)Vu.add(l[r])}var vt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tt={},ht={};function jt(r){return hn.call(ht,r)?!0:hn.call(Tt,r)?!1:vt.test(r)?ht[r]=!0:(Tt[r]=!0,!1)}function ee(r,l,d){if(jt(l))if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+d)}}function de(r,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+d)}}function se(r,l,d,g){if(g===null)r.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(l,d,""+g)}}var Te,De;function Se(r){if(Te===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Te=l&&l[1]||"",De=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+r+De}var Ke=!1;function mn(r,l){if(!r||Ke)return"";Ke=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var Ft=function(){throw Error()};if(Object.defineProperty(Ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ft,[])}catch(Mt){var bt=Mt}Reflect.construct(r,[],Ft)}else{try{Ft.call()}catch(Mt){bt=Mt}r.call(Ft.prototype)}}else{try{throw Error()}catch(Mt){bt=Mt}(Ft=r())&&typeof Ft.catch=="function"&&Ft.catch(function(){})}}catch(Mt){if(Mt&&bt&&typeof Mt.stack=="string")return[Mt.stack,bt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),I=w[0],G=w[1];if(I&&G){var J=I.split(`
`),xt=G.split(`
`);for(S=g=0;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;for(;S<xt.length&&!xt[S].includes("DetermineComponentFrameRoot");)S++;if(g===J.length||S===xt.length)for(g=J.length-1,S=xt.length-1;1<=g&&0<=S&&J[g]!==xt[S];)S--;for(;1<=g&&0<=S;g--,S--)if(J[g]!==xt[S]){if(g!==1||S!==1)do if(g--,S--,0>S||J[g]!==xt[S]){var Ut=`
`+J[g].replace(" at new "," at ");return r.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",r.displayName)),Ut}while(1<=g&&0<=S);break}}}finally{Ke=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?Se(d):""}function Yn(r){switch(r.tag){case 26:case 27:case 5:return Se(r.type);case 16:return Se("Lazy");case 13:return Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return mn(r.type,!1);case 11:return mn(r.type.render,!1);case 1:return mn(r.type,!0);case 31:return Se("Activity");default:return""}}function Dn(r){try{var l="";do l+=Yn(r),r=r.return;while(r);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function je(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ee(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function jn(r){var l=Ee(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),g=""+r[l];if(!r.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var S=d.get,w=d.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return S.call(this)},set:function(I){g=""+I,w.call(this,I)}}),Object.defineProperty(r,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function sn(r){r._valueTracker||(r._valueTracker=jn(r))}function Ki(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return r&&(g=Ee(r)?r.checked?"true":"false":r.value),r=g,r!==d?(l.setValue(r),!0):!1}function Rs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Qi=/[\n"\\]/g;function Di(r){return r.replace(Qi,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function On(r,l,d,g,S,w,I,G){r.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.type=I:r.removeAttribute("type"),l!=null?I==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+je(l)):r.value!==""+je(l)&&(r.value=""+je(l)):I!=="submit"&&I!=="reset"||r.removeAttribute("value"),l!=null?Ji(r,I,je(l)):d!=null?Ji(r,I,je(d)):g!=null&&r.removeAttribute("value"),S==null&&w!=null&&(r.defaultChecked=!!w),S!=null&&(r.checked=S&&typeof S!="function"&&typeof S!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?r.name=""+je(G):r.removeAttribute("name")}function ha(r,l,d,g,S,w,I,G){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;d=d!=null?""+je(d):"",l=l!=null?""+je(l):d,G||l===r.value||(r.value=l),r.defaultValue=l}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,r.checked=G?r.checked:!!g,r.defaultChecked=!!g,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(r.name=I)}function Ji(r,l,d){l==="number"&&Rs(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function ti(r,l,d,g){if(r=r.options,l){l={};for(var S=0;S<d.length;S++)l["$"+d[S]]=!0;for(d=0;d<r.length;d++)S=l.hasOwnProperty("$"+r[d].value),r[d].selected!==S&&(r[d].selected=S),S&&g&&(r[d].defaultSelected=!0)}else{for(d=""+je(d),l=null,S=0;S<r.length;S++){if(r[S].value===d){r[S].selected=!0,g&&(r[S].defaultSelected=!0);return}l!==null||r[S].disabled||(l=r[S])}l!==null&&(l.selected=!0)}}function $i(r,l,d){if(l!=null&&(l=""+je(l),l!==r.value&&(r.value=l),d==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=d!=null?""+je(d):""}function Hl(r,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(n(92));if(ut(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=je(l),r.defaultValue=d,g=r.textContent,g===d&&g!==""&&g!==null&&(r.value=g)}function Ni(r,l){if(l){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=l;return}}r.textContent=l}var Uv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pf(r,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":g?r.setProperty(l,d):typeof d!="number"||d===0||Uv.has(l)?l==="float"?r.cssFloat=d:r[l]=(""+d).trim():r[l]=d+"px"}function mf(r,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(r=r.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?r.setProperty(g,""):g==="float"?r.cssFloat="":r[g]="");for(var S in l)g=l[S],l.hasOwnProperty(S)&&d[S]!==g&&pf(r,S,g)}else for(var w in l)l.hasOwnProperty(w)&&pf(r,w,l[w])}function nd(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gf(r){return Lv.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var id=null;function ad(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Go=null,Gl=null;function Rm(r){var l=Ar(r);if(l&&(r=l.stateNode)){var d=r[Jn]||null;t:switch(r=l.stateNode,l.type){case"input":if(On(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Di(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==r&&g.form===r.form){var S=g[Jn]||null;if(!S)throw Error(n(90));On(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===r.form&&Ki(g)}break t;case"textarea":$i(r,d.value,d.defaultValue);break t;case"select":l=d.value,l!=null&&ti(r,!!d.multiple,l,!1)}}}var vf=!1;function Dm(r,l,d){if(vf)return r(l,d);vf=!0;try{var g=r(l);return g}finally{if(vf=!1,(Go!==null||Gl!==null)&&(Gr(),Go&&(l=Go,r=Gl,Gl=Go=null,Rm(l),r)))for(l=0;l<r.length;l++)Rm(r[l])}}function Gu(r,l){var d=r.stateNode;if(d===null)return null;var g=d[Jn]||null;if(g===null)return null;d=g[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break t;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=!1;if(wr)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){yf=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{yf=!1}var so=null,Nm=null,sd=null;function Om(){if(sd)return sd;var r,l=Nm,d=l.length,g,S="value"in so?so.value:so.textContent,w=S.length;for(r=0;r<d&&l[r]===S[r];r++);var I=d-r;for(g=1;g<=I&&l[d-g]===S[w-g];g++);return sd=S.slice(r,1<g?1-g:void 0)}function ko(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function Xu(){return!0}function _f(){return!1}function Sa(r){function l(d,g,S,w,I){this._reactName=d,this._targetInst=S,this.type=g,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var G in r)r.hasOwnProperty(G)&&(d=r[G],this[G]=d?d(w):w[G]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Xu:_f,this.isPropagationStopped=_f,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),l}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=Sa(Xo),Yu=m({},Xo,{view:0,detail:0}),Pv=Sa(Yu),ro,ju,Wu,Zu=m({},Yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Wu&&(Wu&&r.type==="mousemove"?(ro=r.screenX-Wu.screenX,ju=r.screenY-Wu.screenY):ju=ro=0,Wu=r),ro)},movementY:function(r){return"movementY"in r?r.movementY:ju}}),Um=Sa(Zu),zv=m({},Zu,{dataTransfer:0}),RS=Sa(zv),ta=m({},Yu,{relatedTarget:0}),rd=Sa(ta),Bv=m({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),Iv=Sa(Bv),Fv=m({},Xo,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Vv=Sa(Fv),xf=m({},Xo,{data:0}),od=Sa(xf),Hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lm(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=kv[r])?!!l[r]:!1}function Sf(){return Lm}var Xv=m({},Yu,{key:function(r){if(r.key){var l=Hv[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=ko(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gv[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sf,charCode:function(r){return r.type==="keypress"?ko(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ko(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Pm=Sa(Xv),zm=m({},Zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ld=Sa(zm),qv=m({},Yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sf}),Bm=Sa(qv),Yv=m({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oo=Sa(Yv),Im=m({},Zu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),DS=Sa(Im),jv=m({},Xo,{newState:0,oldState:0}),qo=Sa(jv),lo=[9,13,27,32],bf=wr&&"CompositionEvent"in window,kl=null;wr&&"documentMode"in document&&(kl=document.documentMode);var Mf=wr&&"TextEvent"in window&&!kl,Tf=wr&&(!bf||kl&&8<kl&&11>=kl),Yo=" ",ea=!1;function Ef(r,l){switch(r){case"keyup":return lo.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jo=!1;function Af(r,l){switch(r){case"compositionend":return Fm(l);case"keypress":return l.which!==32?null:(ea=!0,Yo);case"textInput":return r=l.data,r===Yo&&ea?null:r;default:return null}}function Vm(r,l){if(jo)return r==="compositionend"||!bf&&Ef(r,l)?(r=Om(),sd=Nm=so=null,jo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Tf&&l.locale!=="ko"?null:l.data;default:return null}}var ud={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hm(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!ud[r.type]:l==="textarea"}function Pa(r,l,d,g){Go?Gl?Gl.push(g):Gl=[g]:Go=g,l=Yy(l,"onChange"),0<l.length&&(d=new qu("onChange","change",null,d,g),r.push({event:d,listeners:l}))}var Ku=null,Xl=null;function Wv(r){V2(r,0)}function wf(r){var l=Ho(r);if(Ki(l))return r}function cd(r,l){if(r==="change")return l}var fd=!1;if(wr){var hd;if(wr){var Qu="oninput"in document;if(!Qu){var Ju=document.createElement("div");Ju.setAttribute("oninput","return;"),Qu=typeof Ju.oninput=="function"}hd=Qu}else hd=!1;fd=hd&&(!document.documentMode||9<document.documentMode)}function $n(){Ku&&(Ku.detachEvent("onpropertychange",Zv),Xl=Ku=null)}function Zv(r){if(r.propertyName==="value"&&wf(Xl)){var l=[];Pa(l,Xl,r,ad(r)),Dm(Wv,l)}}function NS(r,l,d){r==="focusin"?($n(),Ku=l,Xl=d,Ku.attachEvent("onpropertychange",Zv)):r==="focusout"&&$n()}function Kv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wf(Xl)}function Cf(r,l){if(r==="click")return wf(l)}function Wo(r,l){if(r==="input"||r==="change")return wf(l)}function Qv(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var za=typeof Object.is=="function"?Object.is:Qv;function nr(r,l){if(za(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var d=Object.keys(r),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var S=d[g];if(!hn.call(l,S)||!za(r[S],l[S]))return!1}return!0}function Ba(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Gm(r,l){var d=Ba(r);r=0;for(var g;d;){if(d.nodeType===3){if(g=r+d.textContent.length,r<=l&&g>=l)return{node:d,offset:l-r};r=g}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=Ba(d)}}function km(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?km(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function Xm(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=Rs(r.document);l instanceof r.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)r=l.contentWindow;else break;l=Rs(r.document)}return l}function Rf(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var qm=wr&&"documentMode"in document&&11>=document.documentMode,uo=null,dd=null,Df=null,pd=!1;function Ym(r,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;pd||uo==null||uo!==Rs(g)||(g=uo,"selectionStart"in g&&Rf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Df&&nr(Df,g)||(Df=g,g=Yy(dd,"onSelect"),0<g.length&&(l=new qu("onSelect","select",null,l,d),r.push({event:l,listeners:g}),l.target=uo)))}function na(r,l){var d={};return d[r.toLowerCase()]=l.toLowerCase(),d["Webkit"+r]="webkit"+l,d["Moz"+r]="moz"+l,d}var Zo={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},md={},Jv={};wr&&(Jv=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function co(r){if(md[r])return md[r];if(!Zo[r])return r;var l=Zo[r],d;for(d in l)if(l.hasOwnProperty(d)&&d in Jv)return md[r]=l[d];return r}var ba=co("animationend"),jm=co("animationiteration"),Ia=co("animationstart"),$v=co("transitionrun"),fo=co("transitionstart"),$u=co("transitioncancel"),ho=co("transitionend"),gd=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function Vi(r,l){gd.set(r,l),X(l,[r])}var Wm=new WeakMap;function ia(r,l){if(typeof r=="object"&&r!==null){var d=Wm.get(r);return d!==void 0?d:(l={value:r,source:l,stack:Dn(l)},Wm.set(r,l),l)}return{value:r,source:l,stack:Dn(l)}}var da=[],Ds=0,vd=0;function Of(){for(var r=Ds,l=vd=Ds=0;l<r;){var d=da[l];da[l++]=null;var g=da[l];da[l++]=null;var S=da[l];da[l++]=null;var w=da[l];if(da[l++]=null,g!==null&&S!==null){var I=g.pending;I===null?S.next=S:(S.next=I.next,I.next=S),g.pending=S}w!==0&&Zm(d,S,w)}}function Ko(r,l,d,g){da[Ds++]=r,da[Ds++]=l,da[Ds++]=d,da[Ds++]=g,vd|=g,r.lanes|=g,r=r.alternate,r!==null&&(r.lanes|=g)}function yd(r,l,d,g){return Ko(r,l,d,g),tc(r)}function po(r,l){return Ko(r,null,null,l),tc(r)}function Zm(r,l,d){r.lanes|=d;var g=r.alternate;g!==null&&(g.lanes|=d);for(var S=!1,w=r.return;w!==null;)w.childLanes|=d,g=w.alternate,g!==null&&(g.childLanes|=d),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(S=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,S&&l!==null&&(S=31-re(d),r=w.hiddenUpdates,g=r[S],g===null?r[S]=[l]:g.push(l),l.lane=d|536870912),w):null}function tc(r){if(50<Hr)throw Hr=0,lu=null,Error(n(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var Qo={};function Km(r,l,d,g){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(r,l,d,g){return new Km(r,l,d,g)}function Uf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fi(r,l){var d=r.alternate;return d===null?(d=Fa(r.tag,l,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=l,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,l=r.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function Qm(r,l){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,l=d.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function Hi(r,l,d,g,S,w){var I=0;if(g=r,typeof r=="function")Uf(r)&&(I=1);else if(typeof r=="string")I=Nz(r,d,Rt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case L:return r=Fa(31,d,l,S),r.elementType=L,r.lanes=w,r;case T:return Jo(d.children,S,w,l);case A:I=8,S|=24;break;case E:return r=Fa(12,d,l,S|2),r.elementType=E,r.lanes=w,r;case U:return r=Fa(13,d,l,S),r.elementType=U,r.lanes=w,r;case P:return r=Fa(19,d,l,S),r.elementType=P,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:case D:I=10;break t;case R:I=9;break t;case N:I=11;break t;case F:I=14;break t;case V:I=16,g=null;break t}I=29,d=Error(n(130,r===null?"null":typeof r,"")),g=null}return l=Fa(I,d,l,S),l.elementType=r,l.type=g,l.lanes=w,l}function Jo(r,l,d,g){return r=Fa(7,r,g,l),r.lanes=d,r}function Lf(r,l,d){return r=Fa(6,r,null,l),r.lanes=d,r}function _d(r,l,d){return l=Fa(4,r.children!==null?r.children:[],r.key,l),l.lanes=d,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var ec=[],Va=0,Pf=null,nc=0,aa=[],as=0,$o=null,Cr=1,Rr="";function mo(r,l){ec[Va++]=nc,ec[Va++]=Pf,Pf=r,nc=l}function xd(r,l,d){aa[as++]=Cr,aa[as++]=Rr,aa[as++]=$o,$o=r;var g=Cr;r=Rr;var S=32-re(g)-1;g&=~(1<<S),d+=1;var w=32-re(l)+S;if(30<w){var I=S-S%5;w=(g&(1<<I)-1).toString(32),g>>=I,S-=I,Cr=1<<32-re(l)+S|d<<S|g,Rr=w+r}else Cr=1<<w|d<<S|g,Rr=r}function Jm(r){r.return!==null&&(mo(r,1),xd(r,1,0))}function $m(r){for(;r===Pf;)Pf=ec[--Va],ec[Va]=null,nc=ec[--Va],ec[Va]=null;for(;r===$o;)$o=aa[--as],aa[as]=null,Rr=aa[--as],aa[as]=null,Cr=aa[--as],aa[as]=null}var Ma=null,ei=null,Sn=!1,Ns=null,ss=!1,Sd=Error(n(519));function tl(r){var l=Error(n(418,""));throw ql(ia(l,r)),Sd}function ty(r){var l=r.stateNode,d=r.type,g=r.memoizedProps;switch(l[Si]=r,l[Jn]=g,d){case"dialog":fn("cancel",l),fn("close",l);break;case"iframe":case"object":case"embed":fn("load",l);break;case"video":case"audio":for(d=0;d<Dg.length;d++)fn(Dg[d],l);break;case"source":fn("error",l);break;case"img":case"image":case"link":fn("error",l),fn("load",l);break;case"details":fn("toggle",l);break;case"input":fn("invalid",l),ha(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),sn(l);break;case"select":fn("invalid",l);break;case"textarea":fn("invalid",l),Hl(l,g.value,g.defaultValue,g.children),sn(l)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||X2(l.textContent,d)?(g.popover!=null&&(fn("beforetoggle",l),fn("toggle",l)),g.onScroll!=null&&fn("scroll",l),g.onScrollEnd!=null&&fn("scrollend",l),g.onClick!=null&&(l.onclick=jy),l=!0):l=!1,l||tl(r)}function tg(r){for(Ma=r.return;Ma;)switch(Ma.tag){case 5:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:Ma=Ma.return}}function ir(r){if(r!==Ma)return!1;if(!Sn)return tg(r),Sn=!0,!1;var l=r.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||QS(r.type,r.memoizedProps)),d=!d),d&&ei&&tl(r),tg(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));t:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(l===0){ei=Ro(r.nextSibling);break t}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;r=r.nextSibling}ei=null}}else l===27?(l=ei,wc(r.type)?(r=eb,eb=null,ei=r):ei=l):ei=Ma?Ro(r.stateNode.nextSibling):null;return!0}function ic(){ei=Ma=null,Sn=!1}function An(){var r=Ns;return r!==null&&(Ue===null?Ue=r:Ue.push.apply(Ue,r),Ns=null),r}function ql(r){Ns===null?Ns=[r]:Ns.push(r)}var eg=nt(null),el=null,go=null;function nl(r,l,d){wt(eg,l._currentValue),l._currentValue=d}function vo(r){r._currentValue=eg.current,_t(eg)}function ng(r,l,d){for(;r!==null;){var g=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),r===d)break;r=r.return}}function zf(r,l,d,g){var S=r.child;for(S!==null&&(S.return=r);S!==null;){var w=S.dependencies;if(w!==null){var I=S.child;w=w.firstContext;t:for(;w!==null;){var G=w;w=S;for(var J=0;J<l.length;J++)if(G.context===l[J]){w.lanes|=d,G=w.alternate,G!==null&&(G.lanes|=d),ng(w.return,d,r),g||(I=null);break t}w=G.next}}else if(S.tag===18){if(I=S.return,I===null)throw Error(n(341));I.lanes|=d,w=I.alternate,w!==null&&(w.lanes|=d),ng(I,d,r),I=null}else I=S.child;if(I!==null)I.return=S;else for(I=S;I!==null;){if(I===r){I=null;break}if(S=I.sibling,S!==null){S.return=I.return,I=S;break}I=I.return}S=I}}function Os(r,l,d,g){r=null;for(var S=l,w=!1;S!==null;){if(!w){if((S.flags&524288)!==0)w=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var I=S.alternate;if(I===null)throw Error(n(387));if(I=I.memoizedProps,I!==null){var G=S.type;za(S.pendingProps.value,I.value)||(r!==null?r.push(G):r=[G])}}else if(S===Nt.current){if(I=S.alternate,I===null)throw Error(n(387));I.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(r!==null?r.push(zg):r=[zg])}S=S.return}r!==null&&zf(l,r,d,g),l.flags|=262144}function Bf(r){for(r=r.firstContext;r!==null;){if(!za(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Dr(r){el=r,go=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ai(r){return bd(el,r)}function If(r,l){return el===null&&Dr(r),bd(r,l)}function bd(r,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},go===null){if(r===null)throw Error(n(308));go=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else go=go.next=l;return d}var ig=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(d,g){r.push(g)}};this.abort=function(){l.aborted=!0,r.forEach(function(d){return d()})}},OS=i.unstable_scheduleCallback,ey=i.unstable_NormalPriority,Mi={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new ig,data:new Map,refCount:0}}function ac(r){r.refCount--,r.refCount===0&&OS(ey,function(){r.controller.abort()})}var sc=null,Ff=0,We=0,rc=null;function rs(r,l){if(sc===null){var d=sc=[];Ff=0,We=GS(),rc={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Ff++,l.then(Td,Td),l}function Td(){if(--Ff===0&&sc!==null){rc!==null&&(rc.status="fulfilled");var r=sc;sc=null,We=0,rc=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function US(r,l){var d=[],g={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return r.then(function(){g.status="fulfilled",g.value=l;for(var S=0;S<d.length;S++)(0,d[S])(l)},function(S){for(g.status="rejected",g.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),g}var Vf=z.S;z.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&rs(r,l),Vf!==null&&Vf(r,l)};var Us=nt(null);function il(){var r=Us.current;return r!==null?r:qe.pooledCache}function Hf(r,l){l===null?wt(Us,Us.current):wt(Us,l.pool)}function Ed(){var r=il();return r===null?null:{parent:Mi._currentValue,pool:r}}var Gf=Error(n(460)),ag=Error(n(474)),ar=Error(n(542)),kf={then:function(){}};function Ad(r){return r=r.status,r==="fulfilled"||r==="rejected"}function oc(){}function wd(r,l,d){switch(d=r[d],d===void 0?r.push(l):d!==l&&(l.then(oc,oc),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,ny(r),r;default:if(typeof l.status=="string")l.then(oc,oc);else{if(r=qe,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=l,r.status="pending",r.then(function(g){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=g}},function(g){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,ny(r),r}throw Ls=l,Gf}}var Ls=null;function sg(){if(Ls===null)throw Error(n(459));var r=Ls;return Ls=null,r}function ny(r){if(r===Gf||r===ar)throw Error(n(483))}var yo=!1;function rg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ie(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Nr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function _o(r,l,d){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(wn&2)!==0){var S=g.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),g.pending=l,l=tc(r),Zm(r,null,d),l}return Ko(r,g,l,d),tc(r)}function Yl(r,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=r.pendingLanes,d|=g,l.lanes=d,ye(r,d)}}function lc(r,l){var d=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var S=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var I={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?S=w=I:w=w.next=I,d=d.next}while(d!==null);w===null?S=w=l:w=w.next=l}else S=w=l;d={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=l:r.next=l,d.lastBaseUpdate=l}var og=!1;function Xf(){if(og){var r=rc;if(r!==null)throw r}}function uc(r,l,d,g){og=!1;var S=r.updateQueue;yo=!1;var w=S.firstBaseUpdate,I=S.lastBaseUpdate,G=S.shared.pending;if(G!==null){S.shared.pending=null;var J=G,xt=J.next;J.next=null,I===null?w=xt:I.next=xt,I=J;var Ut=r.alternate;Ut!==null&&(Ut=Ut.updateQueue,G=Ut.lastBaseUpdate,G!==I&&(G===null?Ut.firstBaseUpdate=xt:G.next=xt,Ut.lastBaseUpdate=J))}if(w!==null){var Ft=S.baseState;I=0,Ut=xt=J=null,G=w;do{var bt=G.lane&-536870913,Mt=bt!==G.lane;if(Mt?(Ce&bt)===bt:(g&bt)===bt){bt!==0&&bt===We&&(og=!0),Ut!==null&&(Ut=Ut.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});t:{var He=r,Le=G;bt=l;var Xn=d;switch(Le.tag){case 1:if(He=Le.payload,typeof He=="function"){Ft=He.call(Xn,Ft,bt);break t}Ft=He;break t;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Le.payload,bt=typeof He=="function"?He.call(Xn,Ft,bt):He,bt==null)break t;Ft=m({},Ft,bt);break t;case 2:yo=!0}}bt=G.callback,bt!==null&&(r.flags|=64,Mt&&(r.flags|=8192),Mt=S.callbacks,Mt===null?S.callbacks=[bt]:Mt.push(bt))}else Mt={lane:bt,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ut===null?(xt=Ut=Mt,J=Ft):Ut=Ut.next=Mt,I|=bt;if(G=G.next,G===null){if(G=S.shared.pending,G===null)break;Mt=G,G=Mt.next,Mt.next=null,S.lastBaseUpdate=Mt,S.shared.pending=null}}while(!0);Ut===null&&(J=Ft),S.baseState=J,S.firstBaseUpdate=xt,S.lastBaseUpdate=Ut,w===null&&(S.shared.lanes=0),hr|=I,r.lanes=I,r.memoizedState=Ft}}function cc(r,l){if(typeof r!="function")throw Error(n(191,r));r.call(l)}function iy(r,l){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)cc(d[r],l)}var fc=nt(null),Cd=nt(0);function ay(r,l){r=Vs,wt(Cd,r),wt(fc,l),Vs=r|l.baseLanes}function lg(){wt(Cd,Vs),wt(fc,fc.current)}function qf(){Vs=Cd.current,_t(fc),_t(Cd)}var xo=0,Ze=null,Nn=null,Ti=null,Rd=!1,al=!1,Ta=!1,Oi=0,Ps=0,sa=null,sy=0;function hi(){throw Error(n(321))}function pa(r,l){if(l===null)return!1;for(var d=0;d<l.length&&d<r.length;d++)if(!za(r[d],l[d]))return!1;return!0}function So(r,l,d,g,S,w){return xo=w,Ze=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,z.H=r===null||r.memoizedState===null?Id:Tg,Ta=!1,w=d(g,S),Ta=!1,al&&(w=oy(l,d,g,S)),ry(r),w}function ry(r){z.H=Wf;var l=Nn!==null&&Nn.next!==null;if(xo=0,Ti=Nn=Ze=null,Rd=!1,Ps=0,sa=null,l)throw Error(n(300));r===null||Gi||(r=r.dependencies,r!==null&&Bf(r)&&(Gi=!0))}function oy(r,l,d,g){Ze=r;var S=0;do{if(al&&(sa=null),Ps=0,al=!1,25<=S)throw Error(n(301));if(S+=1,Ti=Nn=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}z.H=Uy,w=l(d,g)}while(al);return w}function LS(){var r=z.H,l=r.useState()[0];return l=typeof l.then=="function"?sr(l):l,r=r.useState()[0],(Nn!==null?Nn.memoizedState:null)!==r&&(Ze.flags|=1024),l}function ug(){var r=Oi!==0;return Oi=0,r}function Dd(r,l,d){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~d}function cg(r){if(Rd){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Rd=!1}xo=0,Ti=Nn=Ze=null,al=!1,Ps=Oi=0,sa=null}function Ea(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ti===null?Ze.memoizedState=Ti=r:Ti=Ti.next=r,Ti}function Ei(){if(Nn===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=Nn.next;var l=Ti===null?Ze.memoizedState:Ti.next;if(l!==null)Ti=l,Nn=r;else{if(r===null)throw Ze.alternate===null?Error(n(467)):Error(n(310));Nn=r,r={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Ti===null?Ze.memoizedState=Ti=r:Ti=Ti.next=r}return Ti}function sl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sr(r){var l=Ps;return Ps+=1,sa===null&&(sa=[]),r=wd(sa,r,l),l=Ze,(Ti===null?l.memoizedState:Ti.next)===null&&(l=l.alternate,z.H=l===null||l.memoizedState===null?Id:Tg),r}function Nd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return sr(r);if(r.$$typeof===D)return ai(r)}throw Error(n(438,String(r)))}function fg(r){var l=null,d=Ze.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=Ze.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=sl(),Ze.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(r),g=0;g<r;g++)d[g]=B;return l.index++,d}function bo(r,l){return typeof l=="function"?l(r):l}function rl(r){var l=Ei();return hg(l,Nn,r)}function hg(r,l,d){var g=r.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var S=r.baseQueue,w=g.pending;if(w!==null){if(S!==null){var I=S.next;S.next=w.next,w.next=I}l.baseQueue=S=w,g.pending=null}if(w=r.baseState,S===null)r.memoizedState=w;else{l=S.next;var G=I=null,J=null,xt=l,Ut=!1;do{var Ft=xt.lane&-536870913;if(Ft!==xt.lane?(Ce&Ft)===Ft:(xo&Ft)===Ft){var bt=xt.revertLane;if(bt===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null}),Ft===We&&(Ut=!0);else if((xo&bt)===bt){xt=xt.next,bt===We&&(Ut=!0);continue}else Ft={lane:0,revertLane:xt.revertLane,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null},J===null?(G=J=Ft,I=w):J=J.next=Ft,Ze.lanes|=bt,hr|=bt;Ft=xt.action,Ta&&d(w,Ft),w=xt.hasEagerState?xt.eagerState:d(w,Ft)}else bt={lane:Ft,revertLane:xt.revertLane,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null},J===null?(G=J=bt,I=w):J=J.next=bt,Ze.lanes|=Ft,hr|=Ft;xt=xt.next}while(xt!==null&&xt!==l);if(J===null?I=w:J.next=G,!za(w,r.memoizedState)&&(Gi=!0,Ut&&(d=rc,d!==null)))throw d;r.memoizedState=w,r.baseState=I,r.baseQueue=J,g.lastRenderedState=w}return S===null&&(g.lanes=0),[r.memoizedState,g.dispatch]}function dg(r){var l=Ei(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var g=d.dispatch,S=d.pending,w=l.memoizedState;if(S!==null){d.pending=null;var I=S=S.next;do w=r(w,I.action),I=I.next;while(I!==S);za(w,l.memoizedState)||(Gi=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,g]}function ly(r,l,d){var g=Ze,S=Ei(),w=Sn;if(w){if(d===void 0)throw Error(n(407));d=d()}else d=l();var I=!za((Nn||S).memoizedState,d);I&&(S.memoizedState=d,Gi=!0),S=S.queue;var G=cy.bind(null,g,S,r);if(pc(2048,8,G,[r]),S.getSnapshot!==l||I||Ti!==null&&Ti.memoizedState.tag&1){if(g.flags|=2048,dc(9,Yf(),uy.bind(null,g,S,d,l),null),qe===null)throw Error(n(349));w||(xo&124)!==0||hc(g,l,d)}return d}function hc(r,l,d){r.flags|=16384,r={getSnapshot:l,value:d},l=Ze.updateQueue,l===null?(l=sl(),Ze.updateQueue=l,l.stores=[r]):(d=l.stores,d===null?l.stores=[r]:d.push(r))}function uy(r,l,d,g){l.value=d,l.getSnapshot=g,fy(l)&&hy(r)}function cy(r,l,d){return d(function(){fy(l)&&hy(r)})}function fy(r){var l=r.getSnapshot;r=r.value;try{var d=l();return!za(r,d)}catch{return!0}}function hy(r){var l=po(r,2);l!==null&&Ca(l,r,2)}function pg(r){var l=Ea();if(typeof r=="function"){var d=r;if(r=d(),Ta){Ct(!0);try{d()}finally{Ct(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:r},l}function dy(r,l,d,g){return r.baseState=d,hg(r,Nn,typeof g=="function"?g:bo)}function PS(r,l,d,g,S){if(Bd(r))throw Error(n(485));if(r=l.action,r!==null){var w={payload:S,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};z.T!==null?d(!0):w.isTransition=!1,g(w),d=l.pending,d===null?(w.next=l.pending=w,py(l,w)):(w.next=d.next,l.pending=d.next=w)}}function py(r,l){var d=l.action,g=l.payload,S=r.state;if(l.isTransition){var w=z.T,I={};z.T=I;try{var G=d(S,g),J=z.S;J!==null&&J(I,G),my(r,l,G)}catch(xt){mg(r,l,xt)}finally{z.T=w}}else try{w=d(S,g),my(r,l,w)}catch(xt){mg(r,l,xt)}}function my(r,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){gy(r,l,g)},function(g){return mg(r,l,g)}):gy(r,l,d)}function gy(r,l,d){l.status="fulfilled",l.value=d,vy(l),r.state=d,l=r.pending,l!==null&&(d=l.next,d===l?r.pending=null:(d=d.next,l.next=d,py(r,d)))}function mg(r,l,d){var g=r.pending;if(r.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,vy(l),l=l.next;while(l!==g)}r.action=null}function vy(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function gg(r,l){return l}function yy(r,l){if(Sn){var d=qe.formState;if(d!==null){t:{var g=Ze;if(Sn){if(ei){e:{for(var S=ei,w=ss;S.nodeType!==8;){if(!w){S=null;break e}if(S=Ro(S.nextSibling),S===null){S=null;break e}}w=S.data,S=w==="F!"||w==="F"?S:null}if(S){ei=Ro(S.nextSibling),g=S.data==="F!";break t}}tl(g)}g=!1}g&&(l=d[0])}}return d=Ea(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:l},d.queue=g,d=Ny.bind(null,Ze,g),g.dispatch=d,g=pg(!1),w=zd.bind(null,Ze,!1,g.queue),g=Ea(),S={state:l,dispatch:null,action:r,pending:null},g.queue=S,d=PS.bind(null,Ze,S,w,d),S.dispatch=d,g.memoizedState=r,[l,d,!1]}function _y(r){var l=Ei();return xy(l,Nn,r)}function xy(r,l,d){if(l=hg(r,l,gg)[0],r=rl(bo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=sr(l)}catch(I){throw I===Gf?ar:I}else g=l;l=Ei();var S=l.queue,w=S.dispatch;return d!==l.memoizedState&&(Ze.flags|=2048,dc(9,Yf(),zS.bind(null,S,d),null)),[g,w,r]}function zS(r,l){r.action=l}function Sy(r){var l=Ei(),d=Nn;if(d!==null)return xy(l,d,r);Ei(),l=l.memoizedState,d=Ei();var g=d.queue.dispatch;return d.memoizedState=r,[l,g,!1]}function dc(r,l,d,g){return r={tag:r,create:d,deps:g,inst:l,next:null},l=Ze.updateQueue,l===null&&(l=sl(),Ze.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=r.next=r:(g=d.next,d.next=r,r.next=g,l.lastEffect=r),r}function Yf(){return{destroy:void 0,resource:void 0}}function vg(){return Ei().memoizedState}function Od(r,l,d,g){var S=Ea();g=g===void 0?null:g,Ze.flags|=r,S.memoizedState=dc(1|l,Yf(),d,g)}function pc(r,l,d,g){var S=Ei();g=g===void 0?null:g;var w=S.memoizedState.inst;Nn!==null&&g!==null&&pa(g,Nn.memoizedState.deps)?S.memoizedState=dc(l,w,d,g):(Ze.flags|=r,S.memoizedState=dc(1|l,w,d,g))}function yg(r,l){Od(8390656,8,r,l)}function _g(r,l){pc(2048,8,r,l)}function Ud(r,l){return pc(4,2,r,l)}function Ld(r,l){return pc(4,4,r,l)}function by(r,l){if(typeof l=="function"){r=r();var d=l(r);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function My(r,l,d){d=d!=null?d.concat([r]):null,pc(4,4,by.bind(null,l,r),d)}function xg(){}function Ty(r,l){var d=Ei();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&pa(l,g[1])?g[0]:(d.memoizedState=[r,l],r)}function Sg(r,l){var d=Ei();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&pa(l,g[1]))return g[0];if(g=r(),Ta){Ct(!0);try{r()}finally{Ct(!1)}}return d.memoizedState=[g,l],g}function Pd(r,l,d){return d===void 0||(xo&1073741824)!==0?r.memoizedState=l:(r.memoizedState=d,r=Zd(),Ze.lanes|=r,hr|=r,d)}function Ey(r,l,d,g){return za(d,l)?d:fc.current!==null?(r=Pd(r,d,g),za(r,l)||(Gi=!0),r):(xo&42)===0?(Gi=!0,r.memoizedState=d):(r=Zd(),Ze.lanes|=r,hr|=r,l)}function Ay(r,l,d,g,S){var w=q.p;q.p=w!==0&&8>w?w:8;var I=z.T,G={};z.T=G,zd(r,!1,l,d);try{var J=S(),xt=z.S;if(xt!==null&&xt(G,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Ut=US(J,g);jf(r,l,Ut,oi(r))}else jf(r,l,g,oi(r))}catch(Ft){jf(r,l,{then:function(){},status:"rejected",reason:Ft},oi())}finally{q.p=w,z.T=I}}function BS(){}function bg(r,l,d,g){if(r.tag!==5)throw Error(n(476));var S=wy(r).queue;Ay(r,S,l,j,d===null?BS:function(){return Cy(r),d(g)})}function wy(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:j},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:d},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function Cy(r){var l=wy(r).next.queue;jf(r,l,{},oi())}function Mg(){return ai(zg)}function Ry(){return Ei().memoizedState}function Dy(){return Ei().memoizedState}function IS(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var d=oi();r=Nr(d);var g=_o(l,r,d);g!==null&&(Ca(g,l,d),Yl(g,l,d)),l={cache:Md()},r.payload=l;return}l=l.return}}function FS(r,l,d){var g=oi();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Bd(r)?Oy(l,d):(d=yd(r,l,d,g),d!==null&&(Ca(d,r,g),os(d,l,g)))}function Ny(r,l,d){var g=oi();jf(r,l,d,g)}function jf(r,l,d,g){var S={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Bd(r))Oy(l,S);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var I=l.lastRenderedState,G=w(I,d);if(S.hasEagerState=!0,S.eagerState=G,za(G,I))return Ko(r,l,S,0),qe===null&&Of(),!1}catch{}finally{}if(d=yd(r,l,S,g),d!==null)return Ca(d,r,g),os(d,l,g),!0}return!1}function zd(r,l,d,g){if(g={lane:2,revertLane:GS(),action:g,hasEagerState:!1,eagerState:null,next:null},Bd(r)){if(l)throw Error(n(479))}else l=yd(r,d,g,2),l!==null&&Ca(l,r,2)}function Bd(r){var l=r.alternate;return r===Ze||l!==null&&l===Ze}function Oy(r,l){al=Rd=!0;var d=r.pending;d===null?l.next=l:(l.next=d.next,d.next=l),r.pending=l}function os(r,l,d){if((d&4194048)!==0){var g=l.lanes;g&=r.pendingLanes,d|=g,l.lanes=d,ye(r,d)}}var Wf={readContext:ai,use:Nd,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useLayoutEffect:hi,useInsertionEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useSyncExternalStore:hi,useId:hi,useHostTransitionStatus:hi,useFormState:hi,useActionState:hi,useOptimistic:hi,useMemoCache:hi,useCacheRefresh:hi},Id={readContext:ai,use:Nd,useCallback:function(r,l){return Ea().memoizedState=[r,l===void 0?null:l],r},useContext:ai,useEffect:yg,useImperativeHandle:function(r,l,d){d=d!=null?d.concat([r]):null,Od(4194308,4,by.bind(null,l,r),d)},useLayoutEffect:function(r,l){return Od(4194308,4,r,l)},useInsertionEffect:function(r,l){Od(4,2,r,l)},useMemo:function(r,l){var d=Ea();l=l===void 0?null:l;var g=r();if(Ta){Ct(!0);try{r()}finally{Ct(!1)}}return d.memoizedState=[g,l],g},useReducer:function(r,l,d){var g=Ea();if(d!==void 0){var S=d(l);if(Ta){Ct(!0);try{d(l)}finally{Ct(!1)}}}else S=l;return g.memoizedState=g.baseState=S,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:S},g.queue=r,r=r.dispatch=FS.bind(null,Ze,r),[g.memoizedState,r]},useRef:function(r){var l=Ea();return r={current:r},l.memoizedState=r},useState:function(r){r=pg(r);var l=r.queue,d=Ny.bind(null,Ze,l);return l.dispatch=d,[r.memoizedState,d]},useDebugValue:xg,useDeferredValue:function(r,l){var d=Ea();return Pd(d,r,l)},useTransition:function(){var r=pg(!1);return r=Ay.bind(null,Ze,r.queue,!0,!1),Ea().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,d){var g=Ze,S=Ea();if(Sn){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),qe===null)throw Error(n(349));(Ce&124)!==0||hc(g,l,d)}S.memoizedState=d;var w={value:d,getSnapshot:l};return S.queue=w,yg(cy.bind(null,g,w,r),[r]),g.flags|=2048,dc(9,Yf(),uy.bind(null,g,w,d,l),null),d},useId:function(){var r=Ea(),l=qe.identifierPrefix;if(Sn){var d=Rr,g=Cr;d=(g&~(1<<32-re(g)-1)).toString(32)+d,l="«"+l+"R"+d,d=Oi++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=sy++,l="«"+l+"r"+d.toString(32)+"»";return r.memoizedState=l},useHostTransitionStatus:Mg,useFormState:yy,useActionState:yy,useOptimistic:function(r){var l=Ea();l.memoizedState=l.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=zd.bind(null,Ze,!0,d),d.dispatch=l,[r,l]},useMemoCache:fg,useCacheRefresh:function(){return Ea().memoizedState=IS.bind(null,Ze)}},Tg={readContext:ai,use:Nd,useCallback:Ty,useContext:ai,useEffect:_g,useImperativeHandle:My,useInsertionEffect:Ud,useLayoutEffect:Ld,useMemo:Sg,useReducer:rl,useRef:vg,useState:function(){return rl(bo)},useDebugValue:xg,useDeferredValue:function(r,l){var d=Ei();return Ey(d,Nn.memoizedState,r,l)},useTransition:function(){var r=rl(bo)[0],l=Ei().memoizedState;return[typeof r=="boolean"?r:sr(r),l]},useSyncExternalStore:ly,useId:Ry,useHostTransitionStatus:Mg,useFormState:_y,useActionState:_y,useOptimistic:function(r,l){var d=Ei();return dy(d,Nn,r,l)},useMemoCache:fg,useCacheRefresh:Dy},Uy={readContext:ai,use:Nd,useCallback:Ty,useContext:ai,useEffect:_g,useImperativeHandle:My,useInsertionEffect:Ud,useLayoutEffect:Ld,useMemo:Sg,useReducer:dg,useRef:vg,useState:function(){return dg(bo)},useDebugValue:xg,useDeferredValue:function(r,l){var d=Ei();return Nn===null?Pd(d,r,l):Ey(d,Nn.memoizedState,r,l)},useTransition:function(){var r=dg(bo)[0],l=Ei().memoizedState;return[typeof r=="boolean"?r:sr(r),l]},useSyncExternalStore:ly,useId:Ry,useHostTransitionStatus:Mg,useFormState:Sy,useActionState:Sy,useOptimistic:function(r,l){var d=Ei();return Nn!==null?dy(d,Nn,r,l):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:fg,useCacheRefresh:Dy},jl=null,Zf=0;function Kf(r){var l=Zf;return Zf+=1,jl===null&&(jl=[]),wd(jl,r,l)}function mc(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Fd(r,l){throw l.$$typeof===v?Error(n(525)):(r=Object.prototype.toString.call(l),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Ly(r){var l=r._init;return l(r._payload)}function Py(r){function l(ft,st){if(r){var gt=ft.deletions;gt===null?(ft.deletions=[st],ft.flags|=16):gt.push(st)}}function d(ft,st){if(!r)return null;for(;st!==null;)l(ft,st),st=st.sibling;return null}function g(ft){for(var st=new Map;ft!==null;)ft.key!==null?st.set(ft.key,ft):st.set(ft.index,ft),ft=ft.sibling;return st}function S(ft,st){return ft=fi(ft,st),ft.index=0,ft.sibling=null,ft}function w(ft,st,gt){return ft.index=gt,r?(gt=ft.alternate,gt!==null?(gt=gt.index,gt<st?(ft.flags|=67108866,st):gt):(ft.flags|=67108866,st)):(ft.flags|=1048576,st)}function I(ft){return r&&ft.alternate===null&&(ft.flags|=67108866),ft}function G(ft,st,gt,zt){return st===null||st.tag!==6?(st=Lf(gt,ft.mode,zt),st.return=ft,st):(st=S(st,gt),st.return=ft,st)}function J(ft,st,gt,zt){var _e=gt.type;return _e===T?Ut(ft,st,gt.props.children,zt,gt.key):st!==null&&(st.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===V&&Ly(_e)===st.type)?(st=S(st,gt.props),mc(st,gt),st.return=ft,st):(st=Hi(gt.type,gt.key,gt.props,null,ft.mode,zt),mc(st,gt),st.return=ft,st)}function xt(ft,st,gt,zt){return st===null||st.tag!==4||st.stateNode.containerInfo!==gt.containerInfo||st.stateNode.implementation!==gt.implementation?(st=_d(gt,ft.mode,zt),st.return=ft,st):(st=S(st,gt.children||[]),st.return=ft,st)}function Ut(ft,st,gt,zt,_e){return st===null||st.tag!==7?(st=Jo(gt,ft.mode,zt,_e),st.return=ft,st):(st=S(st,gt),st.return=ft,st)}function Ft(ft,st,gt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return st=Lf(""+st,ft.mode,gt),st.return=ft,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case _:return gt=Hi(st.type,st.key,st.props,null,ft.mode,gt),mc(gt,st),gt.return=ft,gt;case x:return st=_d(st,ft.mode,gt),st.return=ft,st;case V:var zt=st._init;return st=zt(st._payload),Ft(ft,st,gt)}if(ut(st)||$(st))return st=Jo(st,ft.mode,gt,null),st.return=ft,st;if(typeof st.then=="function")return Ft(ft,Kf(st),gt);if(st.$$typeof===D)return Ft(ft,If(ft,st),gt);Fd(ft,st)}return null}function bt(ft,st,gt,zt){var _e=st!==null?st.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return _e!==null?null:G(ft,st,""+gt,zt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case _:return gt.key===_e?J(ft,st,gt,zt):null;case x:return gt.key===_e?xt(ft,st,gt,zt):null;case V:return _e=gt._init,gt=_e(gt._payload),bt(ft,st,gt,zt)}if(ut(gt)||$(gt))return _e!==null?null:Ut(ft,st,gt,zt,null);if(typeof gt.then=="function")return bt(ft,st,Kf(gt),zt);if(gt.$$typeof===D)return bt(ft,st,If(ft,gt),zt);Fd(ft,gt)}return null}function Mt(ft,st,gt,zt,_e){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return ft=ft.get(gt)||null,G(st,ft,""+zt,_e);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case _:return ft=ft.get(zt.key===null?gt:zt.key)||null,J(st,ft,zt,_e);case x:return ft=ft.get(zt.key===null?gt:zt.key)||null,xt(st,ft,zt,_e);case V:var cn=zt._init;return zt=cn(zt._payload),Mt(ft,st,gt,zt,_e)}if(ut(zt)||$(zt))return ft=ft.get(gt)||null,Ut(st,ft,zt,_e,null);if(typeof zt.then=="function")return Mt(ft,st,gt,Kf(zt),_e);if(zt.$$typeof===D)return Mt(ft,st,gt,If(st,zt),_e);Fd(st,zt)}return null}function He(ft,st,gt,zt){for(var _e=null,cn=null,Ae=st,Pe=st=0,va=null;Ae!==null&&Pe<gt.length;Pe++){Ae.index>Pe?(va=Ae,Ae=null):va=Ae.sibling;var Rn=bt(ft,Ae,gt[Pe],zt);if(Rn===null){Ae===null&&(Ae=va);break}r&&Ae&&Rn.alternate===null&&l(ft,Ae),st=w(Rn,st,Pe),cn===null?_e=Rn:cn.sibling=Rn,cn=Rn,Ae=va}if(Pe===gt.length)return d(ft,Ae),Sn&&mo(ft,Pe),_e;if(Ae===null){for(;Pe<gt.length;Pe++)Ae=Ft(ft,gt[Pe],zt),Ae!==null&&(st=w(Ae,st,Pe),cn===null?_e=Ae:cn.sibling=Ae,cn=Ae);return Sn&&mo(ft,Pe),_e}for(Ae=g(Ae);Pe<gt.length;Pe++)va=Mt(Ae,ft,Pe,gt[Pe],zt),va!==null&&(r&&va.alternate!==null&&Ae.delete(va.key===null?Pe:va.key),st=w(va,st,Pe),cn===null?_e=va:cn.sibling=va,cn=va);return r&&Ae.forEach(function(Oc){return l(ft,Oc)}),Sn&&mo(ft,Pe),_e}function Le(ft,st,gt,zt){if(gt==null)throw Error(n(151));for(var _e=null,cn=null,Ae=st,Pe=st=0,va=null,Rn=gt.next();Ae!==null&&!Rn.done;Pe++,Rn=gt.next()){Ae.index>Pe?(va=Ae,Ae=null):va=Ae.sibling;var Oc=bt(ft,Ae,Rn.value,zt);if(Oc===null){Ae===null&&(Ae=va);break}r&&Ae&&Oc.alternate===null&&l(ft,Ae),st=w(Oc,st,Pe),cn===null?_e=Oc:cn.sibling=Oc,cn=Oc,Ae=va}if(Rn.done)return d(ft,Ae),Sn&&mo(ft,Pe),_e;if(Ae===null){for(;!Rn.done;Pe++,Rn=gt.next())Rn=Ft(ft,Rn.value,zt),Rn!==null&&(st=w(Rn,st,Pe),cn===null?_e=Rn:cn.sibling=Rn,cn=Rn);return Sn&&mo(ft,Pe),_e}for(Ae=g(Ae);!Rn.done;Pe++,Rn=gt.next())Rn=Mt(Ae,ft,Pe,Rn.value,zt),Rn!==null&&(r&&Rn.alternate!==null&&Ae.delete(Rn.key===null?Pe:Rn.key),st=w(Rn,st,Pe),cn===null?_e=Rn:cn.sibling=Rn,cn=Rn);return r&&Ae.forEach(function(kz){return l(ft,kz)}),Sn&&mo(ft,Pe),_e}function Xn(ft,st,gt,zt){if(typeof gt=="object"&&gt!==null&&gt.type===T&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case _:t:{for(var _e=gt.key;st!==null;){if(st.key===_e){if(_e=gt.type,_e===T){if(st.tag===7){d(ft,st.sibling),zt=S(st,gt.props.children),zt.return=ft,ft=zt;break t}}else if(st.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===V&&Ly(_e)===st.type){d(ft,st.sibling),zt=S(st,gt.props),mc(zt,gt),zt.return=ft,ft=zt;break t}d(ft,st);break}else l(ft,st);st=st.sibling}gt.type===T?(zt=Jo(gt.props.children,ft.mode,zt,gt.key),zt.return=ft,ft=zt):(zt=Hi(gt.type,gt.key,gt.props,null,ft.mode,zt),mc(zt,gt),zt.return=ft,ft=zt)}return I(ft);case x:t:{for(_e=gt.key;st!==null;){if(st.key===_e)if(st.tag===4&&st.stateNode.containerInfo===gt.containerInfo&&st.stateNode.implementation===gt.implementation){d(ft,st.sibling),zt=S(st,gt.children||[]),zt.return=ft,ft=zt;break t}else{d(ft,st);break}else l(ft,st);st=st.sibling}zt=_d(gt,ft.mode,zt),zt.return=ft,ft=zt}return I(ft);case V:return _e=gt._init,gt=_e(gt._payload),Xn(ft,st,gt,zt)}if(ut(gt))return He(ft,st,gt,zt);if($(gt)){if(_e=$(gt),typeof _e!="function")throw Error(n(150));return gt=_e.call(gt),Le(ft,st,gt,zt)}if(typeof gt.then=="function")return Xn(ft,st,Kf(gt),zt);if(gt.$$typeof===D)return Xn(ft,st,If(ft,gt),zt);Fd(ft,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint"?(gt=""+gt,st!==null&&st.tag===6?(d(ft,st.sibling),zt=S(st,gt),zt.return=ft,ft=zt):(d(ft,st),zt=Lf(gt,ft.mode,zt),zt.return=ft,ft=zt),I(ft)):d(ft,st)}return function(ft,st,gt,zt){try{Zf=0;var _e=Xn(ft,st,gt,zt);return jl=null,_e}catch(Ae){if(Ae===Gf||Ae===ar)throw Ae;var cn=Fa(29,Ae,null,ft.mode);return cn.lanes=zt,cn.return=ft,cn}finally{}}}var Wl=Py(!0),zy=Py(!1),Ln=nt(null),rr=null;function ol(r){var l=r.alternate;wt(di,di.current&1),wt(Ln,r),rr===null&&(l===null||fc.current!==null||l.memoizedState!==null)&&(rr=r)}function By(r){if(r.tag===22){if(wt(di,di.current),wt(Ln,r),rr===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(rr=r)}}else ll()}function ll(){wt(di,di.current),wt(Ln,Ln.current)}function Or(r){_t(Ln),rr===r&&(rr=null),_t(di)}var di=nt(0);function Mo(r){for(var l=r;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||tb(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function ul(r,l,d,g){l=r.memoizedState,d=d(g,l),d=d==null?l:m({},l,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Aa={enqueueSetState:function(r,l,d){r=r._reactInternals;var g=oi(),S=Nr(g);S.payload=l,d!=null&&(S.callback=d),l=_o(r,S,g),l!==null&&(Ca(l,r,g),Yl(l,r,g))},enqueueReplaceState:function(r,l,d){r=r._reactInternals;var g=oi(),S=Nr(g);S.tag=1,S.payload=l,d!=null&&(S.callback=d),l=_o(r,S,g),l!==null&&(Ca(l,r,g),Yl(l,r,g))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var d=oi(),g=Nr(d);g.tag=2,l!=null&&(g.callback=l),l=_o(r,g,d),l!==null&&(Ca(l,r,d),Yl(l,r,d))}};function Iy(r,l,d,g,S,w,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,w,I):l.prototype&&l.prototype.isPureReactComponent?!nr(d,g)||!nr(S,w):!0}function Fy(r,l,d,g){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==r&&Aa.enqueueReplaceState(l,l.state,null)}function Ur(r,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(r=r.defaultProps){d===l&&(d=m({},d));for(var S in r)d[S]===void 0&&(d[S]=r[S])}return d}var Zl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Qf(r){Zl(r)}function Vd(r){console.error(r)}function Vy(r){Zl(r)}function Hd(r,l){try{var d=r.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function zs(r,l,d){try{var g=r.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Gd(r,l,d){return d=Nr(d),d.tag=3,d.payload={element:null},d.callback=function(){Hd(r,l)},d}function Hy(r){return r=Nr(r),r.tag=3,r}function kd(r,l,d,g){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var w=g.value;r.payload=function(){return S(w)},r.callback=function(){zs(l,d,g)}}var I=d.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(r.callback=function(){zs(l,d,g),typeof S!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var G=g.stack;this.componentDidCatch(g.value,{componentStack:G!==null?G:""})})}function VS(r,l,d,g,S){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&Os(l,d,S,!0),d=Ln.current,d!==null){switch(d.tag){case 13:return rr===null?c():d.alternate===null&&Wn===0&&(Wn=3),d.flags&=-257,d.flags|=65536,d.lanes=S,g===kf?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),Et(r,g,S)),!1;case 22:return d.flags|=65536,g===kf?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),Et(r,g,S)),!1}throw Error(n(435,d.tag))}return Et(r,g,S),c(),!1}if(Sn)return l=Ln.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,g!==Sd&&(r=Error(n(422),{cause:g}),ql(ia(r,d)))):(g!==Sd&&(l=Error(n(423),{cause:g}),ql(ia(l,d))),r=r.current.alternate,r.flags|=65536,S&=-S,r.lanes|=S,g=ia(g,d),S=Gd(r.stateNode,g,S),lc(r,S),Wn!==4&&(Wn=2)),!1;var w=Error(n(520),{cause:g});if(w=ia(w,d),Cn===null?Cn=[w]:Cn.push(w),Wn!==4&&(Wn=2),l===null)return!0;g=ia(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,r=S&-S,d.lanes|=r,r=Gd(d.stateNode,g,r),lc(d,r),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ms===null||!ms.has(w))))return d.flags|=65536,S&=-S,d.lanes|=S,S=Hy(S),kd(S,r,d,g),lc(d,S),!1}d=d.return}while(d!==null);return!1}var Gy=Error(n(461)),Gi=!1;function pi(r,l,d,g){l.child=r===null?zy(l,null,d,g):Wl(l,r.child,d,g)}function Ha(r,l,d,g,S){d=d.render;var w=l.ref;if("ref"in g){var I={};for(var G in g)G!=="ref"&&(I[G]=g[G])}else I=g;return Dr(l),g=So(r,l,d,I,w,S),G=ug(),r!==null&&!Gi?(Dd(r,l,S),ki(r,l,S)):(Sn&&G&&Jm(l),l.flags|=1,pi(r,l,g,S),l.child)}function Ga(r,l,d,g,S){if(r===null){var w=d.type;return typeof w=="function"&&!Uf(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,Eg(r,l,w,g,S)):(r=Hi(d.type,null,g,l,l.mode,S),r.ref=l.ref,r.return=l,l.child=r)}if(w=r.child,!Jf(r,S)){var I=w.memoizedProps;if(d=d.compare,d=d!==null?d:nr,d(I,g)&&r.ref===l.ref)return ki(r,l,S)}return l.flags|=1,r=fi(w,g),r.ref=l.ref,r.return=l,l.child=r}function Eg(r,l,d,g,S){if(r!==null){var w=r.memoizedProps;if(nr(w,g)&&r.ref===l.ref)if(Gi=!1,l.pendingProps=g=w,Jf(r,S))(r.flags&131072)!==0&&(Gi=!0);else return l.lanes=r.lanes,ki(r,l,S)}return gc(r,l,d,g,S)}function Kl(r,l,d){var g=l.pendingProps,S=g.children,w=r!==null?r.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=w!==null?w.baseLanes|d:d,r!==null){for(S=l.child=r.child,w=0;S!==null;)w=w|S.lanes|S.childLanes,S=S.sibling;l.childLanes=w&~g}else l.childLanes=0,l.child=null;return Ql(r,l,g,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&Hf(l,w!==null?w.cachePool:null),w!==null?ay(l,w):lg(),By(l);else return l.lanes=l.childLanes=536870912,Ql(r,l,w!==null?w.baseLanes|d:d,d)}else w!==null?(Hf(l,w.cachePool),ay(l,w),ll(),l.memoizedState=null):(r!==null&&Hf(l,null),lg(),ll());return pi(r,l,S,d),l.child}function Ql(r,l,d,g){var S=il();return S=S===null?null:{parent:Mi._currentValue,pool:S},l.memoizedState={baseLanes:d,cachePool:S},r!==null&&Hf(l,null),lg(),By(l),r!==null&&Os(r,l,g,!0),null}function Jl(r,l){var d=l.ref;if(d===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(r===null||r.ref!==d)&&(l.flags|=4194816)}}function gc(r,l,d,g,S){return Dr(l),d=So(r,l,d,g,void 0,S),g=ug(),r!==null&&!Gi?(Dd(r,l,S),ki(r,l,S)):(Sn&&g&&Jm(l),l.flags|=1,pi(r,l,d,S),l.child)}function ls(r,l,d,g,S,w){return Dr(l),l.updateQueue=null,d=oy(l,g,d,S),ry(r),g=ug(),r!==null&&!Gi?(Dd(r,l,w),ki(r,l,w)):(Sn&&g&&Jm(l),l.flags|=1,pi(r,l,d,w),l.child)}function us(r,l,d,g,S){if(Dr(l),l.stateNode===null){var w=Qo,I=d.contextType;typeof I=="object"&&I!==null&&(w=ai(I)),w=new d(g,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Aa,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=g,w.state=l.memoizedState,w.refs={},rg(l),I=d.contextType,w.context=typeof I=="object"&&I!==null?ai(I):Qo,w.state=l.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(ul(l,d,I,g),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&Aa.enqueueReplaceState(w,w.state,null),uc(l,g,w,S),Xf(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(r===null){w=l.stateNode;var G=l.memoizedProps,J=Ur(d,G);w.props=J;var xt=w.context,Ut=d.contextType;I=Qo,typeof Ut=="object"&&Ut!==null&&(I=ai(Ut));var Ft=d.getDerivedStateFromProps;Ut=typeof Ft=="function"||typeof w.getSnapshotBeforeUpdate=="function",G=l.pendingProps!==G,Ut||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(G||xt!==I)&&Fy(l,w,g,I),yo=!1;var bt=l.memoizedState;w.state=bt,uc(l,g,w,S),Xf(),xt=l.memoizedState,G||bt!==xt||yo?(typeof Ft=="function"&&(ul(l,d,Ft,g),xt=l.memoizedState),(J=yo||Iy(l,d,J,g,bt,xt,I))?(Ut||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=xt),w.props=g,w.state=xt,w.context=I,g=J):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{w=l.stateNode,Ie(r,l),I=l.memoizedProps,Ut=Ur(d,I),w.props=Ut,Ft=l.pendingProps,bt=w.context,xt=d.contextType,J=Qo,typeof xt=="object"&&xt!==null&&(J=ai(xt)),G=d.getDerivedStateFromProps,(xt=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==Ft||bt!==J)&&Fy(l,w,g,J),yo=!1,bt=l.memoizedState,w.state=bt,uc(l,g,w,S),Xf();var Mt=l.memoizedState;I!==Ft||bt!==Mt||yo||r!==null&&r.dependencies!==null&&Bf(r.dependencies)?(typeof G=="function"&&(ul(l,d,G,g),Mt=l.memoizedState),(Ut=yo||Iy(l,d,Ut,g,bt,Mt,J)||r!==null&&r.dependencies!==null&&Bf(r.dependencies))?(xt||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,Mt,J),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,Mt,J)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&bt===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&bt===r.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Mt),w.props=g,w.state=Mt,w.context=J,g=Ut):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&bt===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&bt===r.memoizedState||(l.flags|=1024),g=!1)}return w=g,Jl(r,l),g=(l.flags&128)!==0,w||g?(w=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,r!==null&&g?(l.child=Wl(l,r.child,null,S),l.child=Wl(l,null,d,S)):pi(r,l,d,S),l.memoizedState=w.state,r=l.child):r=ki(r,l,S),r}function cl(r,l,d,g){return ic(),l.flags|=256,pi(r,l,d,g),l.child}var or={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lr(r){return{baseLanes:r,cachePool:Ed()}}function Ui(r,l,d){return r=r!==null?r.childLanes&~d:0,l&&(r|=Hs),r}function vc(r,l,d){var g=l.pendingProps,S=!1,w=(l.flags&128)!==0,I;if((I=w)||(I=r!==null&&r.memoizedState===null?!1:(di.current&2)!==0),I&&(S=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,r===null){if(Sn){if(S?ol(l):ll(),Sn){var G=ei,J;if(J=G){t:{for(J=G,G=ss;J.nodeType!==8;){if(!G){G=null;break t}if(J=Ro(J.nextSibling),J===null){G=null;break t}}G=J}G!==null?(l.memoizedState={dehydrated:G,treeContext:$o!==null?{id:Cr,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},J=Fa(18,null,null,0),J.stateNode=G,J.return=l,l.child=J,Ma=l,ei=null,J=!0):J=!1}J||tl(l)}if(G=l.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return tb(G)?l.lanes=32:l.lanes=536870912,null;Or(l)}return G=g.children,g=g.fallback,S?(ll(),S=l.mode,G=$l({mode:"hidden",children:G},S),g=Jo(g,S,d,null),G.return=l,g.return=l,G.sibling=g,l.child=G,S=l.child,S.memoizedState=lr(d),S.childLanes=Ui(r,I,d),l.memoizedState=or,g):(ol(l),Lr(l,G))}if(J=r.memoizedState,J!==null&&(G=J.dehydrated,G!==null)){if(w)l.flags&256?(ol(l),l.flags&=-257,l=ra(r,l,d)):l.memoizedState!==null?(ll(),l.child=r.child,l.flags|=128,l=null):(ll(),S=g.fallback,G=l.mode,g=$l({mode:"visible",children:g.children},G),S=Jo(S,G,d,null),S.flags|=2,g.return=l,S.return=l,g.sibling=S,l.child=g,Wl(l,r.child,null,d),g=l.child,g.memoizedState=lr(d),g.childLanes=Ui(r,I,d),l.memoizedState=or,l=S);else if(ol(l),tb(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var xt=I.dgst;I=xt,g=Error(n(419)),g.stack="",g.digest=I,ql({value:g,source:null,stack:null}),l=ra(r,l,d)}else if(Gi||Os(r,l,d,!1),I=(d&r.childLanes)!==0,Gi||I){if(I=qe,I!==null&&(g=d&-d,g=(g&42)!==0?1:Oe(g),g=(g&(I.suspendedLanes|d))!==0?0:g,g!==0&&g!==J.retryLane))throw J.retryLane=g,po(r,g),Ca(I,r,g),Gy;G.data==="$?"||c(),l=ra(r,l,d)}else G.data==="$?"?(l.flags|=192,l.child=r.child,l=null):(r=J.treeContext,ei=Ro(G.nextSibling),Ma=l,Sn=!0,Ns=null,ss=!1,r!==null&&(aa[as++]=Cr,aa[as++]=Rr,aa[as++]=$o,Cr=r.id,Rr=r.overflow,$o=l),l=Lr(l,g.children),l.flags|=4096);return l}return S?(ll(),S=g.fallback,G=l.mode,J=r.child,xt=J.sibling,g=fi(J,{mode:"hidden",children:g.children}),g.subtreeFlags=J.subtreeFlags&65011712,xt!==null?S=fi(xt,S):(S=Jo(S,G,d,null),S.flags|=2),S.return=l,g.return=l,g.sibling=S,l.child=g,g=S,S=l.child,G=r.child.memoizedState,G===null?G=lr(d):(J=G.cachePool,J!==null?(xt=Mi._currentValue,J=J.parent!==xt?{parent:xt,pool:xt}:J):J=Ed(),G={baseLanes:G.baseLanes|d,cachePool:J}),S.memoizedState=G,S.childLanes=Ui(r,I,d),l.memoizedState=or,g):(ol(l),d=r.child,r=d.sibling,d=fi(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,r!==null&&(I=l.deletions,I===null?(l.deletions=[r],l.flags|=16):I.push(r)),l.child=d,l.memoizedState=null,d)}function Lr(r,l){return l=$l({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function $l(r,l){return r=Fa(22,r,null,l),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function ra(r,l,d){return Wl(l,r.child,null,d),r=Lr(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function oa(r,l,d){r.lanes|=l;var g=r.alternate;g!==null&&(g.lanes|=l),ng(r.return,l,d)}function pn(r,l,d,g,S){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:S}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=d,w.tailMode=S)}function Bs(r,l,d){var g=l.pendingProps,S=g.revealOrder,w=g.tail;if(pi(r,l,g.children,d),g=di.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&oa(r,d,l);else if(r.tag===19)oa(r,d,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break t;for(;r.sibling===null;){if(r.return===null||r.return===l)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}g&=1}switch(wt(di,g),S){case"forwards":for(d=l.child,S=null;d!==null;)r=d.alternate,r!==null&&Mo(r)===null&&(S=d),d=d.sibling;d=S,d===null?(S=l.child,l.child=null):(S=d.sibling,d.sibling=null),pn(l,!1,S,d,w);break;case"backwards":for(d=null,S=l.child,l.child=null;S!==null;){if(r=S.alternate,r!==null&&Mo(r)===null){l.child=S;break}r=S.sibling,S.sibling=d,d=S,S=r}pn(l,!0,d,null,w);break;case"together":pn(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ki(r,l,d){if(r!==null&&(l.dependencies=r.dependencies),hr|=l.lanes,(d&l.childLanes)===0)if(r!==null){if(Os(r,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(n(153));if(l.child!==null){for(r=l.child,d=fi(r,r.pendingProps),l.child=d,d.return=l;r.sibling!==null;)r=r.sibling,d=d.sibling=fi(r,r.pendingProps),d.return=l;d.sibling=null}return l.child}function Jf(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Bf(r)))}function Is(r,l,d){switch(l.tag){case 3:kt(l,l.stateNode.containerInfo),nl(l,Mi,r.memoizedState.cache),ic();break;case 27:case 5:ce(l);break;case 4:kt(l,l.stateNode.containerInfo);break;case 10:nl(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(ol(l),l.flags|=128,null):(d&l.child.childLanes)!==0?vc(r,l,d):(ol(l),r=ki(r,l,d),r!==null?r.sibling:null);ol(l);break;case 19:var S=(r.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(Os(r,l,d,!1),g=(d&l.childLanes)!==0),S){if(g)return Bs(r,l,d);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),wt(di,di.current),g)break;return null;case 22:case 23:return l.lanes=0,Kl(r,l,d);case 24:nl(l,Mi,r.memoizedState.cache)}return ki(r,l,d)}function tu(r,l,d){if(r!==null)if(r.memoizedProps!==l.pendingProps)Gi=!0;else{if(!Jf(r,d)&&(l.flags&128)===0)return Gi=!1,Is(r,l,d);Gi=(r.flags&131072)!==0}else Gi=!1,Sn&&(l.flags&1048576)!==0&&xd(l,nc,l.index);switch(l.lanes=0,l.tag){case 16:t:{r=l.pendingProps;var g=l.elementType,S=g._init;if(g=S(g._payload),l.type=g,typeof g=="function")Uf(g)?(r=Ur(g,r),l.tag=1,l=us(null,l,g,r,d)):(l.tag=0,l=gc(null,l,g,r,d));else{if(g!=null){if(S=g.$$typeof,S===N){l.tag=11,l=Ha(null,l,g,r,d);break t}else if(S===F){l.tag=14,l=Ga(null,l,g,r,d);break t}}throw l=ct(g)||g,Error(n(306,l,""))}}return l;case 0:return gc(r,l,l.type,l.pendingProps,d);case 1:return g=l.type,S=Ur(g,l.pendingProps),us(r,l,g,S,d);case 3:t:{if(kt(l,l.stateNode.containerInfo),r===null)throw Error(n(387));g=l.pendingProps;var w=l.memoizedState;S=w.element,Ie(r,l),uc(l,g,null,d);var I=l.memoizedState;if(g=I.cache,nl(l,Mi,g),g!==w.cache&&zf(l,[Mi],d,!0),Xf(),g=I.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=cl(r,l,g,d);break t}else if(g!==S){S=ia(Error(n(424)),l),ql(S),l=cl(r,l,g,d);break t}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ei=Ro(r.firstChild),Ma=l,Sn=!0,Ns=null,ss=!0,d=zy(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ic(),g===S){l=ki(r,l,d);break t}pi(r,l,g,d)}l=l.child}return l;case 26:return Jl(r,l),r===null?(d=tw(l.type,null,l.pendingProps,null))?l.memoizedState=d:Sn||(d=l.type,r=l.pendingProps,g=Wy(mt.current).createElement(d),g[Si]=l,g[Jn]=r,Ra(g,d,r),bi(g),l.stateNode=g):l.memoizedState=tw(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return ce(l),r===null&&Sn&&(g=l.stateNode=Q2(l.type,l.pendingProps,mt.current),Ma=l,ss=!0,S=ei,wc(l.type)?(eb=S,ei=Ro(g.firstChild)):ei=S),pi(r,l,l.pendingProps.children,d),Jl(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Sn&&((S=g=ei)&&(g=yz(g,l.type,l.pendingProps,ss),g!==null?(l.stateNode=g,Ma=l,ei=Ro(g.firstChild),ss=!1,S=!0):S=!1),S||tl(l)),ce(l),S=l.type,w=l.pendingProps,I=r!==null?r.memoizedProps:null,g=w.children,QS(S,w)?g=null:I!==null&&QS(S,I)&&(l.flags|=32),l.memoizedState!==null&&(S=So(r,l,LS,null,null,d),zg._currentValue=S),Jl(r,l),pi(r,l,g,d),l.child;case 6:return r===null&&Sn&&((r=d=ei)&&(d=_z(d,l.pendingProps,ss),d!==null?(l.stateNode=d,Ma=l,ei=null,r=!0):r=!1),r||tl(l)),null;case 13:return vc(r,l,d);case 4:return kt(l,l.stateNode.containerInfo),g=l.pendingProps,r===null?l.child=Wl(l,null,g,d):pi(r,l,g,d),l.child;case 11:return Ha(r,l,l.type,l.pendingProps,d);case 7:return pi(r,l,l.pendingProps,d),l.child;case 8:return pi(r,l,l.pendingProps.children,d),l.child;case 12:return pi(r,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,nl(l,l.type,g.value),pi(r,l,g.children,d),l.child;case 9:return S=l.type._context,g=l.pendingProps.children,Dr(l),S=ai(S),g=g(S),l.flags|=1,pi(r,l,g,d),l.child;case 14:return Ga(r,l,l.type,l.pendingProps,d);case 15:return Eg(r,l,l.type,l.pendingProps,d);case 19:return Bs(r,l,d);case 31:return g=l.pendingProps,d=l.mode,g={mode:g.mode,children:g.children},r===null?(d=$l(g,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=fi(r.child,g),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return Kl(r,l,d);case 24:return Dr(l),g=ai(Mi),r===null?(S=il(),S===null&&(S=qe,w=Md(),S.pooledCache=w,w.refCount++,w!==null&&(S.pooledCacheLanes|=d),S=w),l.memoizedState={parent:g,cache:S},rg(l),nl(l,Mi,S)):((r.lanes&d)!==0&&(Ie(r,l),uc(l,null,null,d),Xf()),S=r.memoizedState,w=l.memoizedState,S.parent!==g?(S={parent:g,cache:g},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),nl(l,Mi,g)):(g=w.cache,nl(l,Mi,g),g!==S.cache&&zf(l,[Mi],d,!0))),pi(r,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function ur(r){r.flags|=4}function $f(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!sw(l)){if(l=Ln.current,l!==null&&((Ce&4194048)===Ce?rr!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||l!==rr))throw Ls=kf,ag;r.flags|=8192}}function To(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?Zt():536870912,r.lanes|=l,vn|=l)}function eu(r,l){if(!Sn)switch(r.tailMode){case"hidden":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function Vn(r){var l=r.alternate!==null&&r.alternate.child===r.child,d=0,g=0;if(l)for(var S=r.child;S!==null;)d|=S.lanes|S.childLanes,g|=S.subtreeFlags&65011712,g|=S.flags&65011712,S.return=r,S=S.sibling;else for(S=r.child;S!==null;)d|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=r,S=S.sibling;return r.subtreeFlags|=g,r.childLanes=d,l}function Ag(r,l,d){var g=l.pendingProps;switch($m(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(l),null;case 1:return Vn(l),null;case 3:return d=l.stateNode,g=null,r!==null&&(g=r.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),vo(Mi),he(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(ir(l)?ur(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,An())),Vn(l),null;case 26:return d=l.memoizedState,r===null?(ur(l),d!==null?(Vn(l),$f(l,d)):(Vn(l),l.flags&=-16777217)):d?d!==r.memoizedState?(ur(l),Vn(l),$f(l,d)):(Vn(l),l.flags&=-16777217):(r.memoizedProps!==g&&ur(l),Vn(l),l.flags&=-16777217),null;case 27:Xe(l),d=mt.current;var S=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==g&&ur(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Vn(l),null}r=Rt.current,ir(l)?ty(l):(r=Q2(S,g,d),l.stateNode=r,ur(l))}return Vn(l),null;case 5:if(Xe(l),d=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==g&&ur(l);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Vn(l),null}if(r=Rt.current,ir(l))ty(l);else{switch(S=Wy(mt.current),r){case 1:r=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=S.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof g.is=="string"?S.createElement("select",{is:g.is}):S.createElement("select"),g.multiple?r.multiple=!0:g.size&&(r.size=g.size);break;default:r=typeof g.is=="string"?S.createElement(d,{is:g.is}):S.createElement(d)}}r[Si]=l,r[Jn]=g;t:for(S=l.child;S!==null;){if(S.tag===5||S.tag===6)r.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===l)break t;for(;S.sibling===null;){if(S.return===null||S.return===l)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}l.stateNode=r;t:switch(Ra(r,d,g),d){case"button":case"input":case"select":case"textarea":r=!!g.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&ur(l)}}return Vn(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==g&&ur(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(r=mt.current,ir(l)){if(r=l.stateNode,d=l.memoizedProps,g=null,S=Ma,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}r[Si]=l,r=!!(r.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||X2(r.nodeValue,d)),r||tl(l)}else r=Wy(r).createTextNode(g),r[Si]=l,l.stateNode=r}return Vn(l),null;case 13:if(g=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(S=ir(l),g!==null&&g.dehydrated!==null){if(r===null){if(!S)throw Error(n(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Si]=l}else ic(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Vn(l),S=!1}else S=An(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(Or(l),l):(Or(l),null)}if(Or(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=g!==null,r=r!==null&&r.memoizedState!==null,d){g=l.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool);var w=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==S&&(g.flags|=2048)}return d!==r&&d&&(l.child.flags|=8192),To(l,l.updateQueue),Vn(l),null;case 4:return he(),r===null&&YS(l.stateNode.containerInfo),Vn(l),null;case 10:return vo(l.type),Vn(l),null;case 19:if(_t(di),S=l.memoizedState,S===null)return Vn(l),null;if(g=(l.flags&128)!==0,w=S.rendering,w===null)if(g)eu(S,!1);else{if(Wn!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(w=Mo(r),w!==null){for(l.flags|=128,eu(S,!1),r=w.updateQueue,l.updateQueue=r,To(l,r),l.subtreeFlags=0,r=d,d=l.child;d!==null;)Qm(d,r),d=d.sibling;return wt(di,di.current&1|2),l.child}r=r.sibling}S.tail!==null&&Dt()>ma&&(l.flags|=128,g=!0,eu(S,!1),l.lanes=4194304)}else{if(!g)if(r=Mo(w),r!==null){if(l.flags|=128,g=!0,r=r.updateQueue,l.updateQueue=r,To(l,r),eu(S,!0),S.tail===null&&S.tailMode==="hidden"&&!w.alternate&&!Sn)return Vn(l),null}else 2*Dt()-S.renderingStartTime>ma&&d!==536870912&&(l.flags|=128,g=!0,eu(S,!1),l.lanes=4194304);S.isBackwards?(w.sibling=l.child,l.child=w):(r=S.last,r!==null?r.sibling=w:l.child=w,S.last=w)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=Dt(),l.sibling=null,r=di.current,wt(di,g?r&1|2:r&1),l):(Vn(l),null);case 22:case 23:return Or(l),qf(),g=l.memoizedState!==null,r!==null?r.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(Vn(l),l.subtreeFlags&6&&(l.flags|=8192)):Vn(l),d=l.updateQueue,d!==null&&To(l,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),r!==null&&_t(Us),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),vo(Mi),Vn(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function yc(r,l){switch($m(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return vo(Mi),he(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Xe(l),null;case 13:if(Or(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(n(340));ic()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return _t(di),null;case 4:return he(),null;case 10:return vo(l.type),null;case 22:case 23:return Or(l),qf(),r!==null&&_t(Us),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return vo(Mi),null;case 25:return null;default:return null}}function _c(r,l){switch($m(l),l.tag){case 3:vo(Mi),he();break;case 26:case 27:case 5:Xe(l);break;case 4:he();break;case 13:Or(l);break;case 19:_t(di);break;case 10:vo(l.type);break;case 22:case 23:Or(l),qf(),r!==null&&_t(Us);break;case 24:vo(Mi)}}function nu(r,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var S=g.next;d=S;do{if((d.tag&r)===r){g=void 0;var w=d.create,I=d.inst;g=w(),I.destroy=g}d=d.next}while(d!==S)}}catch(G){at(l,l.return,G)}}function cs(r,l,d){try{var g=l.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var w=S.next;g=w;do{if((g.tag&r)===r){var I=g.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,S=l;var J=d,xt=G;try{xt()}catch(Ut){at(S,J,Ut)}}}g=g.next}while(g!==w)}}catch(Ut){at(l,l.return,Ut)}}function iu(r){var l=r.updateQueue;if(l!==null){var d=r.stateNode;try{iy(l,d)}catch(g){at(r,r.return,g)}}}function Eo(r,l,d){d.props=Ur(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(g){at(r,l,g)}}function au(r,l){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var g=r.stateNode;break;case 30:g=r.stateNode;break;default:g=r.stateNode}typeof d=="function"?r.refCleanup=d(g):d.current=g}}catch(S){at(r,l,S)}}function Pr(r,l){var d=r.ref,g=r.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(S){at(r,l,S)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){at(r,l,S)}else d.current=null}function xc(r){var l=r.type,d=r.memoizedProps,g=r.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break t;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(S){at(r,r.return,S)}}function th(r,l,d){try{var g=r.stateNode;dz(g,r.type,d,l),g[Jn]=l}catch(S){at(r,r.return,S)}}function eh(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&wc(r.type)||r.tag===4}function fl(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||eh(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&wc(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hl(r,l,d){var g=r.tag;if(g===5||g===6)r=r.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(r),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=jy));else if(g!==4&&(g===27&&wc(r.type)&&(d=r.stateNode,l=null),r=r.child,r!==null))for(hl(r,l,d),r=r.sibling;r!==null;)hl(r,l,d),r=r.sibling}function dl(r,l,d){var g=r.tag;if(g===5||g===6)r=r.stateNode,l?d.insertBefore(r,l):d.appendChild(r);else if(g!==4&&(g===27&&wc(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(dl(r,l,d),r=r.sibling;r!==null;)dl(r,l,d),r=r.sibling}function pl(r){var l=r.stateNode,d=r.memoizedProps;try{for(var g=r.type,S=l.attributes;S.length;)l.removeAttributeNode(S[0]);Ra(l,g,d),l[Si]=r,l[Jn]=d}catch(w){at(r,r.return,w)}}var zr=!1,Hn=!1,Sc=!1,fs=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function Li(r,l){if(r=r.containerInfo,ZS=t_,r=Xm(r),Rf(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else t:{d=(d=r.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var S=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break t}var I=0,G=-1,J=-1,xt=0,Ut=0,Ft=r,bt=null;e:for(;;){for(var Mt;Ft!==d||S!==0&&Ft.nodeType!==3||(G=I+S),Ft!==w||g!==0&&Ft.nodeType!==3||(J=I+g),Ft.nodeType===3&&(I+=Ft.nodeValue.length),(Mt=Ft.firstChild)!==null;)bt=Ft,Ft=Mt;for(;;){if(Ft===r)break e;if(bt===d&&++xt===S&&(G=I),bt===w&&++Ut===g&&(J=I),(Mt=Ft.nextSibling)!==null)break;Ft=bt,bt=Ft.parentNode}Ft=Mt}d=G===-1||J===-1?null:{start:G,end:J}}else d=null}d=d||{start:0,end:0}}else d=null;for(KS={focusedElem:r,selectionRange:d},t_=!1,Pn=l;Pn!==null;)if(l=Pn,r=l.child,(l.subtreeFlags&1024)!==0&&r!==null)r.return=l,Pn=r;else for(;Pn!==null;){switch(l=Pn,w=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,d=l,S=w.memoizedProps,w=w.memoizedState,g=d.stateNode;try{var He=Ur(d.type,S,d.elementType===d.type);r=g.getSnapshotBeforeUpdate(He,w),g.__reactInternalSnapshotBeforeUpdate=r}catch(Le){at(d,d.return,Le)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,d=r.nodeType,d===9)$S(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":$S(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=l.sibling,r!==null){r.return=l.return,Pn=r;break}Pn=l.return}}function Ao(r,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:wa(r,d),g&4&&nu(5,d);break;case 1:if(wa(r,d),g&4)if(r=d.stateNode,l===null)try{r.componentDidMount()}catch(I){at(d,d.return,I)}else{var S=Ur(d.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(S,l,r.__reactInternalSnapshotBeforeUpdate)}catch(I){at(d,d.return,I)}}g&64&&iu(d),g&512&&au(d,d.return);break;case 3:if(wa(r,d),g&64&&(r=d.updateQueue,r!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{iy(r,l)}catch(I){at(d,d.return,I)}}break;case 27:l===null&&g&4&&pl(d);case 26:case 5:wa(r,d),l===null&&g&4&&xc(d),g&512&&au(d,d.return);break;case 12:wa(r,d);break;case 13:wa(r,d),g&4&&ml(r,d),g&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=Zn.bind(null,d),xz(r,d))));break;case 22:if(g=d.memoizedState!==null||zr,!g){l=l!==null&&l.memoizedState!==null||Hn,S=zr;var w=Hn;zr=g,(Hn=l)&&!w?Br(r,d,(d.subtreeFlags&8772)!==0):wa(r,d),zr=S,Hn=w}break;case 30:break;default:wa(r,d)}}function $e(r){var l=r.alternate;l!==null&&(r.alternate=null,$e(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&Fn(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ne=null,gn=!1;function Fs(r,l,d){for(d=d.child;d!==null;)su(r,l,d),d=d.sibling}function su(r,l,d){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(At,d)}catch{}switch(d.tag){case 26:Hn||Pr(d,l),Fs(r,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Hn||Pr(d,l);var g=Ne,S=gn;wc(d.type)&&(Ne=d.stateNode,gn=!1),Fs(r,l,d),Og(d.stateNode),Ne=g,gn=S;break;case 5:Hn||Pr(d,l);case 6:if(g=Ne,S=gn,Ne=null,Fs(r,l,d),Ne=g,gn=S,Ne!==null)if(gn)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(d.stateNode)}catch(w){at(d,l,w)}else try{Ne.removeChild(d.stateNode)}catch(w){at(d,l,w)}break;case 18:Ne!==null&&(gn?(r=Ne,Z2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),Vg(r)):Z2(Ne,d.stateNode));break;case 4:g=Ne,S=gn,Ne=d.stateNode.containerInfo,gn=!0,Fs(r,l,d),Ne=g,gn=S;break;case 0:case 11:case 14:case 15:Hn||cs(2,d,l),Hn||cs(4,d,l),Fs(r,l,d);break;case 1:Hn||(Pr(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&Eo(d,l,g)),Fs(r,l,d);break;case 21:Fs(r,l,d);break;case 22:Hn=(g=Hn)||d.memoizedState!==null,Fs(r,l,d),Hn=g;break;default:Fs(r,l,d)}}function ml(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Vg(r)}catch(d){at(l,l.return,d)}}function Xd(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new fs),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new fs),l;default:throw Error(n(435,r.tag))}}function ru(r,l){var d=Xd(r);l.forEach(function(g){var S=Fe.bind(null,r,g);d.has(g)||(d.add(g),g.then(S,S))})}function Xi(r,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var S=d[g],w=r,I=l,G=I;t:for(;G!==null;){switch(G.tag){case 27:if(wc(G.type)){Ne=G.stateNode,gn=!1;break t}break;case 5:Ne=G.stateNode,gn=!1;break t;case 3:case 4:Ne=G.stateNode.containerInfo,gn=!0;break t}G=G.return}if(Ne===null)throw Error(n(160));su(w,I,S),Ne=null,gn=!1,w=S.alternate,w!==null&&(w.return=null),S.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)qd(l,r),l=l.sibling}var cr=null;function qd(r,l){var d=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xi(l,r),si(r),g&4&&(cs(3,r,r.return),nu(3,r),cs(5,r,r.return));break;case 1:Xi(l,r),si(r),g&512&&(Hn||d===null||Pr(d,d.return)),g&64&&zr&&(r=r.updateQueue,r!==null&&(g=r.callbacks,g!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var S=cr;if(Xi(l,r),si(r),g&512&&(Hn||d===null||Pr(d,d.return)),g&4){var w=d!==null?d.memoizedState:null;if(g=r.memoizedState,d===null)if(g===null)if(r.stateNode===null){t:{g=r.type,d=r.memoizedProps,S=S.ownerDocument||S;e:switch(g){case"title":w=S.getElementsByTagName("title")[0],(!w||w[is]||w[Si]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=S.createElement(g),S.head.insertBefore(w,S.querySelector("head > title"))),Ra(w,g,d),w[Si]=r,bi(w),g=w;break t;case"link":var I=iw("link","href",S).get(g+(d.href||""));if(I){for(var G=0;G<I.length;G++)if(w=I[G],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){I.splice(G,1);break e}}w=S.createElement(g),Ra(w,g,d),S.head.appendChild(w);break;case"meta":if(I=iw("meta","content",S).get(g+(d.content||""))){for(G=0;G<I.length;G++)if(w=I[G],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){I.splice(G,1);break e}}w=S.createElement(g),Ra(w,g,d),S.head.appendChild(w);break;default:throw Error(n(468,g))}w[Si]=r,bi(w),g=w}r.stateNode=g}else aw(S,r.type,r.stateNode);else r.stateNode=nw(S,g,r.memoizedProps);else w!==g?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,g===null?aw(S,r.type,r.stateNode):nw(S,g,r.memoizedProps)):g===null&&r.stateNode!==null&&th(r,r.memoizedProps,d.memoizedProps)}break;case 27:Xi(l,r),si(r),g&512&&(Hn||d===null||Pr(d,d.return)),d!==null&&g&4&&th(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Xi(l,r),si(r),g&512&&(Hn||d===null||Pr(d,d.return)),r.flags&32){S=r.stateNode;try{Ni(S,"")}catch(Mt){at(r,r.return,Mt)}}g&4&&r.stateNode!=null&&(S=r.memoizedProps,th(r,S,d!==null?d.memoizedProps:S)),g&1024&&(Sc=!0);break;case 6:if(Xi(l,r),si(r),g&4){if(r.stateNode===null)throw Error(n(162));g=r.memoizedProps,d=r.stateNode;try{d.nodeValue=g}catch(Mt){at(r,r.return,Mt)}}break;case 3:if(Qy=null,S=cr,cr=Zy(l.containerInfo),Xi(l,r),cr=S,si(r),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Vg(l.containerInfo)}catch(Mt){at(r,r.return,Mt)}Sc&&(Sc=!1,gl(r));break;case 4:g=cr,cr=Zy(r.stateNode.containerInfo),Xi(l,r),si(r),cr=g;break;case 12:Xi(l,r),si(r);break;case 13:Xi(l,r),si(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Un=Dt()),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,ru(r,g)));break;case 22:S=r.memoizedState!==null;var J=d!==null&&d.memoizedState!==null,xt=zr,Ut=Hn;if(zr=xt||S,Hn=Ut||J,Xi(l,r),Hn=Ut,zr=xt,si(r),g&8192)t:for(l=r.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(d===null||J||zr||Hn||hs(r)),d=null,l=r;;){if(l.tag===5||l.tag===26){if(d===null){J=d=l;try{if(w=J.stateNode,S)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=J.stateNode;var Ft=J.memoizedProps.style,bt=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null;G.style.display=bt==null||typeof bt=="boolean"?"":(""+bt).trim()}}catch(Mt){at(J,J.return,Mt)}}}else if(l.tag===6){if(d===null){J=l;try{J.stateNode.nodeValue=S?"":J.memoizedProps}catch(Mt){at(J,J.return,Mt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break t;for(;l.sibling===null;){if(l.return===null||l.return===r)break t;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=r.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,ru(r,d))));break;case 19:Xi(l,r),si(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,ru(r,g)));break;case 30:break;case 21:break;default:Xi(l,r),si(r)}}function si(r){var l=r.flags;if(l&2){try{for(var d,g=r.return;g!==null;){if(eh(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var S=d.stateNode,w=fl(r);dl(r,w,S);break;case 5:var I=d.stateNode;d.flags&32&&(Ni(I,""),d.flags&=-33);var G=fl(r);dl(r,G,I);break;case 3:case 4:var J=d.stateNode.containerInfo,xt=fl(r);hl(r,xt,J);break;default:throw Error(n(161))}}catch(Ut){at(r,r.return,Ut)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function gl(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;gl(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function wa(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Ao(r,l.alternate,l),l=l.sibling}function hs(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:cs(4,l,l.return),hs(l);break;case 1:Pr(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Eo(l,l.return,d),hs(l);break;case 27:Og(l.stateNode);case 26:case 5:Pr(l,l.return),hs(l);break;case 22:l.memoizedState===null&&hs(l);break;case 30:hs(l);break;default:hs(l)}r=r.sibling}}function Br(r,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,S=r,w=l,I=w.flags;switch(w.tag){case 0:case 11:case 15:Br(S,w,d),nu(4,w);break;case 1:if(Br(S,w,d),g=w,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(xt){at(g,g.return,xt)}if(g=w,S=g.updateQueue,S!==null){var G=g.stateNode;try{var J=S.shared.hiddenCallbacks;if(J!==null)for(S.shared.hiddenCallbacks=null,S=0;S<J.length;S++)cc(J[S],G)}catch(xt){at(g,g.return,xt)}}d&&I&64&&iu(w),au(w,w.return);break;case 27:pl(w);case 26:case 5:Br(S,w,d),d&&g===null&&I&4&&xc(w),au(w,w.return);break;case 12:Br(S,w,d);break;case 13:Br(S,w,d),d&&I&4&&ml(S,w);break;case 22:w.memoizedState===null&&Br(S,w,d),au(w,w.return);break;case 30:break;default:Br(S,w,d)}l=l.sibling}}function Yd(r,l){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&ac(d))}function jd(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&ac(r))}function zn(r,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Wd(r,l,d,g),l=l.sibling}function Wd(r,l,d,g){var S=l.flags;switch(l.tag){case 0:case 11:case 15:zn(r,l,d,g),S&2048&&nu(9,l);break;case 1:zn(r,l,d,g);break;case 3:zn(r,l,d,g),S&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&ac(r)));break;case 12:if(S&2048){zn(r,l,d,g),r=l.stateNode;try{var w=l.memoizedProps,I=w.id,G=w.onPostCommit;typeof G=="function"&&G(I,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(J){at(l,l.return,J)}}else zn(r,l,d,g);break;case 13:zn(r,l,d,g);break;case 23:break;case 22:w=l.stateNode,I=l.alternate,l.memoizedState!==null?w._visibility&2?zn(r,l,d,g):fr(r,l):w._visibility&2?zn(r,l,d,g):(w._visibility|=2,wo(r,l,d,g,(l.subtreeFlags&10256)!==0)),S&2048&&Yd(I,l);break;case 24:zn(r,l,d,g),S&2048&&jd(l.alternate,l);break;default:zn(r,l,d,g)}}function wo(r,l,d,g,S){for(S=S&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=r,I=l,G=d,J=g,xt=I.flags;switch(I.tag){case 0:case 11:case 15:wo(w,I,G,J,S),nu(8,I);break;case 23:break;case 22:var Ut=I.stateNode;I.memoizedState!==null?Ut._visibility&2?wo(w,I,G,J,S):fr(w,I):(Ut._visibility|=2,wo(w,I,G,J,S)),S&&xt&2048&&Yd(I.alternate,I);break;case 24:wo(w,I,G,J,S),S&&xt&2048&&jd(I.alternate,I);break;default:wo(w,I,G,J,S)}l=l.sibling}}function fr(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=r,g=l,S=g.flags;switch(g.tag){case 22:fr(d,g),S&2048&&Yd(g.alternate,g);break;case 24:fr(d,g),S&2048&&jd(g.alternate,g);break;default:fr(d,g)}l=l.sibling}}var ds=8192;function bc(r){if(r.subtreeFlags&ds)for(r=r.child;r!==null;)ky(r),r=r.sibling}function ky(r){switch(r.tag){case 26:bc(r),r.flags&ds&&r.memoizedState!==null&&Uz(cr,r.memoizedState,r.memoizedProps);break;case 5:bc(r);break;case 3:case 4:var l=cr;cr=Zy(r.stateNode.containerInfo),bc(r),cr=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=ds,ds=16777216,bc(r),ds=l):bc(r));break;default:bc(r)}}function Xy(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function Gn(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];Pn=g,Fr(g,r)}Xy(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wg(r),r=r.sibling}function wg(r){switch(r.tag){case 0:case 11:case 15:Gn(r),r.flags&2048&&cs(9,r,r.return);break;case 3:Gn(r);break;case 12:Gn(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,Ir(r)):Gn(r);break;default:Gn(r)}}function Ir(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];Pn=g,Fr(g,r)}Xy(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:cs(8,l,l.return),Ir(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Ir(l));break;default:Ir(l)}r=r.sibling}}function Fr(r,l){for(;Pn!==null;){var d=Pn;switch(d.tag){case 0:case 11:case 15:cs(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:ac(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Pn=g;else t:for(d=r;Pn!==null;){g=Pn;var S=g.sibling,w=g.return;if($e(g),g===d){Pn=null;break t}if(S!==null){S.return=w,Pn=S;break t}Pn=w}}}var ri={getCacheForType:function(r){var l=ai(Mi),d=l.data.get(r);return d===void 0&&(d=r(),l.data.set(r,d)),d}},Cg=typeof WeakMap=="function"?WeakMap:Map,wn=0,qe=null,rn=null,Ce=0,Qe=0,ni=null,ps=!1,Mc=!1,Tc=!1,Vs=0,Wn=0,hr=0,Vr=0,ou=0,Hs=0,vn=0,Cn=null,Ue=null,un=!1,Un=0,ma=1/0,Gs=null,ms=null,Pi=0,ga=null,Bn=null,gs=0,Co=0,nh=null,vs=null,Hr=0,lu=null;function oi(){if((wn&2)!==0&&Ce!==0)return Ce&-Ce;if(z.T!==null){var r=We;return r!==0?r:GS()}return ln()}function Zd(){Hs===0&&(Hs=(Ce&536870912)===0||Sn?ot():536870912);var r=Ln.current;return r!==null&&(r.flags|=32),Hs}function Ca(r,l,d){(r===qe&&(Qe===2||Qe===9)||r.cancelPendingCommit!==null)&&(yl(r,0),dr(r,Ce,Hs,!1)),fe(r,d),((wn&2)===0||r!==qe)&&(r===qe&&((wn&2)===0&&(Vr|=d),Wn===4&&dr(r,Ce,Hs,!1)),Sl(r))}function Ec(r,l,d){if((wn&6)!==0)throw Error(n(327));var g=!d&&(l&124)===0&&(l&r.expiredLanes)===0||ae(r,l),S=g?M(r,l):f(r,l,!0),w=g;do{if(S===0){Mc&&!g&&dr(r,l,0,!1);break}else{if(d=r.current.alternate,w&&!vl(d)){S=f(r,l,!1),w=!1;continue}if(S===2){if(w=l,r.errorRecoveryDisabledLanes&w)var I=0;else I=r.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;t:{var G=r;S=Cn;var J=G.current.memoizedState.isDehydrated;if(J&&(yl(G,I).flags|=256),I=f(G,I,!1),I!==2){if(Tc&&!J){G.errorRecoveryDisabledLanes|=w,Vr|=w,S=4;break t}w=Ue,Ue=S,w!==null&&(Ue===null?Ue=w:Ue.push.apply(Ue,w))}S=I}if(w=!1,S!==2)continue}}if(S===1){yl(r,0),dr(r,l,0,!0);break}t:{switch(g=r,w=S,w){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:dr(g,l,Hs,!ps);break t;case 2:Ue=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(S=Un+300-Dt(),10<S)){if(dr(g,l,Hs,!ps),ve(g,0,!0)!==0)break t;g.timeoutHandle=j2(ih.bind(null,g,d,Ue,Gs,un,l,Hs,Vr,vn,ps,w,2,-0,0),S);break t}ih(g,d,Ue,Gs,un,l,Hs,Vr,vn,ps,w,0,-0,0)}}break}while(!0);Sl(r)}function ih(r,l,d,g,S,w,I,G,J,xt,Ut,Ft,bt,Mt){if(r.timeoutHandle=-1,Ft=l.subtreeFlags,(Ft&8192||(Ft&16785408)===16785408)&&(Pg={stylesheets:null,count:0,unsuspend:Oz},ky(l),Ft=Lz(),Ft!==null)){r.cancelPendingCommit=Ft(Qt.bind(null,r,l,w,d,g,S,I,G,J,Ut,1,bt,Mt)),dr(r,w,I,!xt);return}Qt(r,l,w,d,g,S,I,G,J)}function vl(r){for(var l=r;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var S=d[g],w=S.getSnapshot;S=S.value;try{if(!za(w(),S))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function dr(r,l,d,g){l&=~ou,l&=~Vr,r.suspendedLanes|=l,r.pingedLanes&=~l,g&&(r.warmLanes|=l),g=r.expirationTimes;for(var S=l;0<S;){var w=31-re(S),I=1<<w;g[w]=-1,S&=~I}d!==0&&It(r,d,l)}function Gr(){return(wn&6)===0?(Rg(0),!1):!0}function uu(){if(rn!==null){if(Qe===0)var r=rn.return;else r=rn,go=el=null,cg(r),jl=null,Zf=0,r=rn;for(;r!==null;)_c(r.alternate,r),r=r.return;rn=null}}function yl(r,l){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,mz(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),uu(),qe=r,rn=d=fi(r.current,null),Ce=l,Qe=0,ni=null,ps=!1,Mc=ae(r,l),Tc=!1,vn=Hs=ou=Vr=hr=Wn=0,Ue=Cn=null,un=!1,(l&8)!==0&&(l|=l&32);var g=r.entangledLanes;if(g!==0)for(r=r.entanglements,g&=l;0<g;){var S=31-re(g),w=1<<S;l|=r[S],g&=~w}return Vs=l,Of(),d}function Kd(r,l){Ze=null,z.H=Wf,l===Gf||l===ar?(l=sg(),Qe=3):l===ag?(l=sg(),Qe=4):Qe=l===Gy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ni=l,rn===null&&(Wn=1,Hd(r,ia(l,r.current)))}function Ac(){var r=z.H;return z.H=Wf,r===null?Wf:r}function Qd(){var r=z.A;return z.A=ri,r}function c(){Wn=4,ps||(Ce&4194048)!==Ce&&Ln.current!==null||(Mc=!0),(hr&134217727)===0&&(Vr&134217727)===0||qe===null||dr(qe,Ce,Hs,!1)}function f(r,l,d){var g=wn;wn|=2;var S=Ac(),w=Qd();(qe!==r||Ce!==l)&&(Gs=null,yl(r,l)),l=!1;var I=Wn;t:do try{if(Qe!==0&&rn!==null){var G=rn,J=ni;switch(Qe){case 8:uu(),I=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(l=!0);var xt=Qe;if(Qe=0,ni=null,tt(r,G,J,xt),d&&Mc){I=0;break t}break;default:xt=Qe,Qe=0,ni=null,tt(r,G,J,xt)}}y(),I=Wn;break}catch(Ut){Kd(r,Ut)}while(!0);return l&&r.shellSuspendCounter++,go=el=null,wn=g,z.H=S,z.A=w,rn===null&&(qe=null,Ce=0,Of()),I}function y(){for(;rn!==null;)O(rn)}function M(r,l){var d=wn;wn|=2;var g=Ac(),S=Qd();qe!==r||Ce!==l?(Gs=null,ma=Dt()+500,yl(r,l)):Mc=ae(r,l);t:do try{if(Qe!==0&&rn!==null){l=rn;var w=ni;e:switch(Qe){case 1:Qe=0,ni=null,tt(r,l,w,1);break;case 2:case 9:if(Ad(w)){Qe=0,ni=null,Y(l);break}l=function(){Qe!==2&&Qe!==9||qe!==r||(Qe=7),Sl(r)},w.then(l,l);break t;case 3:Qe=7;break t;case 4:Qe=5;break t;case 7:Ad(w)?(Qe=0,ni=null,Y(l)):(Qe=0,ni=null,tt(r,l,w,7));break;case 5:var I=null;switch(rn.tag){case 26:I=rn.memoizedState;case 5:case 27:var G=rn;if(!I||sw(I)){Qe=0,ni=null;var J=G.sibling;if(J!==null)rn=J;else{var xt=G.return;xt!==null?(rn=xt,dt(xt)):rn=null}break e}}Qe=0,ni=null,tt(r,l,w,5);break;case 6:Qe=0,ni=null,tt(r,l,w,6);break;case 8:uu(),Wn=6;break t;default:throw Error(n(462))}}C();break}catch(Ut){Kd(r,Ut)}while(!0);return go=el=null,z.H=g,z.A=S,wn=d,rn!==null?0:(qe=null,Ce=0,Of(),Wn)}function C(){for(;rn!==null&&!Bt();)O(rn)}function O(r){var l=tu(r.alternate,r,Vs);r.memoizedProps=r.pendingProps,l===null?dt(r):rn=l}function Y(r){var l=r,d=l.alternate;switch(l.tag){case 15:case 0:l=ls(d,l,l.pendingProps,l.type,void 0,Ce);break;case 11:l=ls(d,l,l.pendingProps,l.type.render,l.ref,Ce);break;case 5:cg(l);default:_c(d,l),l=rn=Qm(l,Vs),l=tu(d,l,Vs)}r.memoizedProps=r.pendingProps,l===null?dt(r):rn=l}function tt(r,l,d,g){go=el=null,cg(l),jl=null,Zf=0;var S=l.return;try{if(VS(r,S,l,d,Ce)){Wn=1,Hd(r,ia(d,r.current)),rn=null;return}}catch(w){if(S!==null)throw rn=S,w;Wn=1,Hd(r,ia(d,r.current)),rn=null;return}l.flags&32768?(Sn||g===1?r=!0:Mc||(Ce&536870912)!==0?r=!1:(ps=r=!0,(g===2||g===9||g===3||g===6)&&(g=Ln.current,g!==null&&g.tag===13&&(g.flags|=16384))),Ot(l,r)):dt(l)}function dt(r){var l=r;do{if((l.flags&32768)!==0){Ot(l,ps);return}r=l.return;var d=Ag(l.alternate,l,Vs);if(d!==null){rn=d;return}if(l=l.sibling,l!==null){rn=l;return}rn=l=r}while(l!==null);Wn===0&&(Wn=5)}function Ot(r,l){do{var d=yc(r.alternate,r);if(d!==null){d.flags&=32767,rn=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(r=r.sibling,r!==null)){rn=r;return}rn=r=d}while(r!==null);Wn=6,rn=null}function Qt(r,l,d,g,S,w,I,G,J){r.cancelPendingCommit=null;do _l();while(Pi!==0);if((wn&6)!==0)throw Error(n(327));if(l!==null){if(l===r.current)throw Error(n(177));if(w=l.lanes|l.childLanes,w|=vd,Yt(r,d,w,I,G,J),r===qe&&(rn=qe=null,Ce=0),Bn=l,ga=r,gs=d,Co=w,nh=S,vs=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,bn(we,function(){return xl(),null})):(r.callbackNode=null,r.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=z.T,z.T=null,S=q.p,q.p=2,I=wn,wn|=4;try{Li(r,l,d)}finally{wn=I,q.p=S,z.T=g}}Pi=1,oe(),ue(),Ye()}}function oe(){if(Pi===1){Pi=0;var r=ga,l=Bn,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=z.T,z.T=null;var g=q.p;q.p=2;var S=wn;wn|=4;try{qd(l,r);var w=KS,I=Xm(r.containerInfo),G=w.focusedElem,J=w.selectionRange;if(I!==G&&G&&G.ownerDocument&&km(G.ownerDocument.documentElement,G)){if(J!==null&&Rf(G)){var xt=J.start,Ut=J.end;if(Ut===void 0&&(Ut=xt),"selectionStart"in G)G.selectionStart=xt,G.selectionEnd=Math.min(Ut,G.value.length);else{var Ft=G.ownerDocument||document,bt=Ft&&Ft.defaultView||window;if(bt.getSelection){var Mt=bt.getSelection(),He=G.textContent.length,Le=Math.min(J.start,He),Xn=J.end===void 0?Le:Math.min(J.end,He);!Mt.extend&&Le>Xn&&(I=Xn,Xn=Le,Le=I);var ft=Gm(G,Le),st=Gm(G,Xn);if(ft&&st&&(Mt.rangeCount!==1||Mt.anchorNode!==ft.node||Mt.anchorOffset!==ft.offset||Mt.focusNode!==st.node||Mt.focusOffset!==st.offset)){var gt=Ft.createRange();gt.setStart(ft.node,ft.offset),Mt.removeAllRanges(),Le>Xn?(Mt.addRange(gt),Mt.extend(st.node,st.offset)):(gt.setEnd(st.node,st.offset),Mt.addRange(gt))}}}}for(Ft=[],Mt=G;Mt=Mt.parentNode;)Mt.nodeType===1&&Ft.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ft.length;G++){var zt=Ft[G];zt.element.scrollLeft=zt.left,zt.element.scrollTop=zt.top}}t_=!!ZS,KS=ZS=null}finally{wn=S,q.p=g,z.T=d}}r.current=l,Pi=2}}function ue(){if(Pi===2){Pi=0;var r=ga,l=Bn,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=z.T,z.T=null;var g=q.p;q.p=2;var S=wn;wn|=4;try{Ao(r,l.alternate,l)}finally{wn=S,q.p=g,z.T=d}}Pi=3}}function Ye(){if(Pi===4||Pi===3){Pi=0,Pt();var r=ga,l=Bn,d=gs,g=vs;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Pi=5:(Pi=0,Bn=ga=null,ys(r,r.pendingLanes));var S=r.pendingLanes;if(S===0&&(ms=null),dn(d),l=l.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(At,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=z.T,S=q.p,q.p=2,z.T=null;try{for(var w=r.onRecoverableError,I=0;I<g.length;I++){var G=g[I];w(G.value,{componentStack:G.stack})}}finally{z.T=l,q.p=S}}(gs&3)!==0&&_l(),Sl(r),S=r.pendingLanes,(d&4194090)!==0&&(S&42)!==0?r===lu?Hr++:(Hr=0,lu=r):Hr=0,Rg(0)}}function ys(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,ac(l)))}function _l(r){return oe(),ue(),Ye(),xl()}function xl(){if(Pi!==5)return!1;var r=ga,l=Co;Co=0;var d=dn(gs),g=z.T,S=q.p;try{q.p=32>d?32:d,z.T=null,d=nh,nh=null;var w=ga,I=gs;if(Pi=0,Bn=ga=null,gs=0,(wn&6)!==0)throw Error(n(331));var G=wn;if(wn|=4,wg(w.current),Wd(w,w.current,I,d),wn=G,Rg(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(At,w)}catch{}return!0}finally{q.p=S,z.T=g,ys(r,l)}}function St(r,l,d){l=ia(d,l),l=Gd(r.stateNode,l,2),r=_o(r,l,2),r!==null&&(fe(r,2),Sl(r))}function at(r,l,d){if(r.tag===3)St(r,r,d);else for(;l!==null;){if(l.tag===3){St(l,r,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ms===null||!ms.has(g))){r=ia(d,r),d=Hy(2),g=_o(l,d,2),g!==null&&(kd(d,g,l,r),fe(g,2),Sl(g));break}}l=l.return}}function Et(r,l,d){var g=r.pingCache;if(g===null){g=r.pingCache=new Cg;var S=new Set;g.set(l,S)}else S=g.get(l),S===void 0&&(S=new Set,g.set(l,S));S.has(d)||(Tc=!0,S.add(d),r=Kt.bind(null,r,l,d),l.then(r,r))}function Kt(r,l,d){var g=r.pingCache;g!==null&&g.delete(l),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,qe===r&&(Ce&d)===d&&(Wn===4||Wn===3&&(Ce&62914560)===Ce&&300>Dt()-Un?(wn&2)===0&&yl(r,0):ou|=d,vn===Ce&&(vn=0)),Sl(r)}function Me(r,l){l===0&&(l=Zt()),r=po(r,l),r!==null&&(fe(r,l),Sl(r))}function Zn(r){var l=r.memoizedState,d=0;l!==null&&(d=l.retryLane),Me(r,d)}function Fe(r,l){var d=0;switch(r.tag){case 13:var g=r.stateNode,S=r.memoizedState;S!==null&&(d=S.retryLane);break;case 19:g=r.stateNode;break;case 22:g=r.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(l),Me(r,d)}function bn(r,l){return Q(r,l)}var mi=null,on=null,kr=!1,Jd=!1,HS=!1,ah=0;function Sl(r){r!==on&&r.next===null&&(on===null?mi=on=r:on=on.next=r),Jd=!0,kr||(kr=!0,rz())}function Rg(r,l){if(!HS&&Jd){HS=!0;do for(var d=!1,g=mi;g!==null;){if(r!==0){var S=g.pendingLanes;if(S===0)var w=0;else{var I=g.suspendedLanes,G=g.pingedLanes;w=(1<<31-re(42|r)+1)-1,w&=S&~(I&~G),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,B2(g,w))}else w=Ce,w=ve(g,g===qe?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||ae(g,w)||(d=!0,B2(g,w));g=g.next}while(d);HS=!1}}function sz(){L2()}function L2(){Jd=kr=!1;var r=0;ah!==0&&(pz()&&(r=ah),ah=0);for(var l=Dt(),d=null,g=mi;g!==null;){var S=g.next,w=P2(g,l);w===0?(g.next=null,d===null?mi=S:d.next=S,S===null&&(on=d)):(d=g,(r!==0||(w&3)!==0)&&(Jd=!0)),g=S}Rg(r)}function P2(r,l){for(var d=r.suspendedLanes,g=r.pingedLanes,S=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var I=31-re(w),G=1<<I,J=S[I];J===-1?((G&d)===0||(G&g)!==0)&&(S[I]=Be(G,l)):J<=l&&(r.expiredLanes|=G),w&=~G}if(l=qe,d=Ce,d=ve(r,r===l?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g=r.callbackNode,d===0||r===l&&(Qe===2||Qe===9)||r.cancelPendingCommit!==null)return g!==null&&g!==null&&Vt(g),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||ae(r,d)){if(l=d&-d,l===r.callbackPriority)return l;switch(g!==null&&Vt(g),dn(d)){case 2:case 8:d=Wt;break;case 32:d=we;break;case 268435456:d=Z;break;default:d=we}return g=z2.bind(null,r),d=Q(d,g),r.callbackPriority=l,r.callbackNode=d,l}return g!==null&&g!==null&&Vt(g),r.callbackPriority=2,r.callbackNode=null,2}function z2(r,l){if(Pi!==0&&Pi!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(_l()&&r.callbackNode!==d)return null;var g=Ce;return g=ve(r,r===qe?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g===0?null:(Ec(r,g,l),P2(r,Dt()),r.callbackNode!=null&&r.callbackNode===d?z2.bind(null,r):null)}function B2(r,l){if(_l())return null;Ec(r,l,!0)}function rz(){gz(function(){(wn&6)!==0?Q(Xt,sz):L2()})}function GS(){return ah===0&&(ah=ot()),ah}function I2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:gf(""+r)}function F2(r,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,r.id&&d.setAttribute("form",r.id),l.parentNode.insertBefore(d,l),r=new FormData(r),d.parentNode.removeChild(d),r}function oz(r,l,d,g,S){if(l==="submit"&&d&&d.stateNode===S){var w=I2((S[Jn]||null).action),I=g.submitter;I&&(l=(l=I[Jn]||null)?I2(l.formAction):I.getAttribute("formAction"),l!==null&&(w=l,I=null));var G=new qu("action","action",null,g,S);r.push({event:G,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ah!==0){var J=I?F2(S,I):new FormData(S);bg(d,{pending:!0,data:J,method:S.method,action:w},null,J)}}else typeof w=="function"&&(G.preventDefault(),J=I?F2(S,I):new FormData(S),bg(d,{pending:!0,data:J,method:S.method,action:w},w,J))},currentTarget:S}]})}}for(var kS=0;kS<Nf.length;kS++){var XS=Nf[kS],lz=XS.toLowerCase(),uz=XS[0].toUpperCase()+XS.slice(1);Vi(lz,"on"+uz)}Vi(ba,"onAnimationEnd"),Vi(jm,"onAnimationIteration"),Vi(Ia,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi($v,"onTransitionRun"),Vi(fo,"onTransitionStart"),Vi($u,"onTransitionCancel"),Vi(ho,"onTransitionEnd"),lt("onMouseEnter",["mouseout","mouseover"]),lt("onMouseLeave",["mouseout","mouseover"]),lt("onPointerEnter",["pointerout","pointerover"]),lt("onPointerLeave",["pointerout","pointerover"]),X("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),X("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),X("onBeforeInput",["compositionend","keypress","textInput","paste"]),X("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),X("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),X("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dg));function V2(r,l){l=(l&4)!==0;for(var d=0;d<r.length;d++){var g=r[d],S=g.event;g=g.listeners;t:{var w=void 0;if(l)for(var I=g.length-1;0<=I;I--){var G=g[I],J=G.instance,xt=G.currentTarget;if(G=G.listener,J!==w&&S.isPropagationStopped())break t;w=G,S.currentTarget=xt;try{w(S)}catch(Ut){Zl(Ut)}S.currentTarget=null,w=J}else for(I=0;I<g.length;I++){if(G=g[I],J=G.instance,xt=G.currentTarget,G=G.listener,J!==w&&S.isPropagationStopped())break t;w=G,S.currentTarget=xt;try{w(S)}catch(Ut){Zl(Ut)}S.currentTarget=null,w=J}}}}function fn(r,l){var d=l[ts];d===void 0&&(d=l[ts]=new Set);var g=r+"__bubble";d.has(g)||(H2(l,r,2,!1),d.add(g))}function qS(r,l,d){var g=0;l&&(g|=4),H2(d,r,g,l)}var qy="_reactListening"+Math.random().toString(36).slice(2);function YS(r){if(!r[qy]){r[qy]=!0,Vu.forEach(function(d){d!=="selectionchange"&&(cz.has(d)||qS(d,!1,r),qS(d,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[qy]||(l[qy]=!0,qS("selectionchange",!1,l))}}function H2(r,l,d,g){switch(fw(l)){case 2:var S=Bz;break;case 8:S=Iz;break;default:S=rb}d=S.bind(null,l,d,r),S=void 0,!yf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),g?S!==void 0?r.addEventListener(l,d,{capture:!0,passive:S}):r.addEventListener(l,d,!0):S!==void 0?r.addEventListener(l,d,{passive:S}):r.addEventListener(l,d,!1)}function jS(r,l,d,g,S){var w=g;if((l&1)===0&&(l&2)===0&&g!==null)t:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var G=g.stateNode.containerInfo;if(G===S)break;if(I===4)for(I=g.return;I!==null;){var J=I.tag;if((J===3||J===4)&&I.stateNode.containerInfo===S)return;I=I.return}for(;G!==null;){if(I=er(G),I===null)return;if(J=I.tag,J===5||J===6||J===26||J===27){g=w=I;continue t}G=G.parentNode}}g=g.return}Dm(function(){var xt=w,Ut=ad(d),Ft=[];t:{var bt=gd.get(r);if(bt!==void 0){var Mt=qu,He=r;switch(r){case"keypress":if(ko(d)===0)break t;case"keydown":case"keyup":Mt=Pm;break;case"focusin":He="focus",Mt=rd;break;case"focusout":He="blur",Mt=rd;break;case"beforeblur":case"afterblur":Mt=rd;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=Um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=RS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=Bm;break;case ba:case jm:case Ia:Mt=Iv;break;case ho:Mt=oo;break;case"scroll":case"scrollend":Mt=Pv;break;case"wheel":Mt=DS;break;case"copy":case"cut":case"paste":Mt=Vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=ld;break;case"toggle":case"beforetoggle":Mt=qo}var Le=(l&4)!==0,Xn=!Le&&(r==="scroll"||r==="scrollend"),ft=Le?bt!==null?bt+"Capture":null:bt;Le=[];for(var st=xt,gt;st!==null;){var zt=st;if(gt=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||gt===null||ft===null||(zt=Gu(st,ft),zt!=null&&Le.push(Ng(st,zt,gt))),Xn)break;st=st.return}0<Le.length&&(bt=new Mt(bt,He,null,d,Ut),Ft.push({event:bt,listeners:Le}))}}if((l&7)===0){t:{if(bt=r==="mouseover"||r==="pointerover",Mt=r==="mouseout"||r==="pointerout",bt&&d!==id&&(He=d.relatedTarget||d.fromElement)&&(er(He)||He[Cs]))break t;if((Mt||bt)&&(bt=Ut.window===Ut?Ut:(bt=Ut.ownerDocument)?bt.defaultView||bt.parentWindow:window,Mt?(He=d.relatedTarget||d.toElement,Mt=xt,He=He?er(He):null,He!==null&&(Xn=s(He),Le=He.tag,He!==Xn||Le!==5&&Le!==27&&Le!==6)&&(He=null)):(Mt=null,He=xt),Mt!==He)){if(Le=Um,zt="onMouseLeave",ft="onMouseEnter",st="mouse",(r==="pointerout"||r==="pointerover")&&(Le=ld,zt="onPointerLeave",ft="onPointerEnter",st="pointer"),Xn=Mt==null?bt:Ho(Mt),gt=He==null?bt:Ho(He),bt=new Le(zt,st+"leave",Mt,d,Ut),bt.target=Xn,bt.relatedTarget=gt,zt=null,er(Ut)===xt&&(Le=new Le(ft,st+"enter",He,d,Ut),Le.target=gt,Le.relatedTarget=Xn,zt=Le),Xn=zt,Mt&&He)e:{for(Le=Mt,ft=He,st=0,gt=Le;gt;gt=$d(gt))st++;for(gt=0,zt=ft;zt;zt=$d(zt))gt++;for(;0<st-gt;)Le=$d(Le),st--;for(;0<gt-st;)ft=$d(ft),gt--;for(;st--;){if(Le===ft||ft!==null&&Le===ft.alternate)break e;Le=$d(Le),ft=$d(ft)}Le=null}else Le=null;Mt!==null&&G2(Ft,bt,Mt,Le,!1),He!==null&&Xn!==null&&G2(Ft,Xn,He,Le,!0)}}t:{if(bt=xt?Ho(xt):window,Mt=bt.nodeName&&bt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&bt.type==="file")var _e=cd;else if(Hm(bt))if(fd)_e=Wo;else{_e=Kv;var cn=NS}else Mt=bt.nodeName,!Mt||Mt.toLowerCase()!=="input"||bt.type!=="checkbox"&&bt.type!=="radio"?xt&&nd(xt.elementType)&&(_e=cd):_e=Cf;if(_e&&(_e=_e(r,xt))){Pa(Ft,_e,d,Ut);break t}cn&&cn(r,bt,xt),r==="focusout"&&xt&&bt.type==="number"&&xt.memoizedProps.value!=null&&Ji(bt,"number",bt.value)}switch(cn=xt?Ho(xt):window,r){case"focusin":(Hm(cn)||cn.contentEditable==="true")&&(uo=cn,dd=xt,Df=null);break;case"focusout":Df=dd=uo=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,Ym(Ft,d,Ut);break;case"selectionchange":if(qm)break;case"keydown":case"keyup":Ym(Ft,d,Ut)}var Ae;if(bf)t:{switch(r){case"compositionstart":var Pe="onCompositionStart";break t;case"compositionend":Pe="onCompositionEnd";break t;case"compositionupdate":Pe="onCompositionUpdate";break t}Pe=void 0}else jo?Ef(r,d)&&(Pe="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Pe="onCompositionStart");Pe&&(Tf&&d.locale!=="ko"&&(jo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&jo&&(Ae=Om()):(so=Ut,Nm="value"in so?so.value:so.textContent,jo=!0)),cn=Yy(xt,Pe),0<cn.length&&(Pe=new od(Pe,r,null,d,Ut),Ft.push({event:Pe,listeners:cn}),Ae?Pe.data=Ae:(Ae=Fm(d),Ae!==null&&(Pe.data=Ae)))),(Ae=Mf?Af(r,d):Vm(r,d))&&(Pe=Yy(xt,"onBeforeInput"),0<Pe.length&&(cn=new od("onBeforeInput","beforeinput",null,d,Ut),Ft.push({event:cn,listeners:Pe}),cn.data=Ae)),oz(Ft,r,xt,d,Ut)}V2(Ft,l)})}function Ng(r,l,d){return{instance:r,listener:l,currentTarget:d}}function Yy(r,l){for(var d=l+"Capture",g=[];r!==null;){var S=r,w=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||w===null||(S=Gu(r,d),S!=null&&g.unshift(Ng(r,S,w)),S=Gu(r,l),S!=null&&g.push(Ng(r,S,w))),r.tag===3)return g;r=r.return}return[]}function $d(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function G2(r,l,d,g,S){for(var w=l._reactName,I=[];d!==null&&d!==g;){var G=d,J=G.alternate,xt=G.stateNode;if(G=G.tag,J!==null&&J===g)break;G!==5&&G!==26&&G!==27||xt===null||(J=xt,S?(xt=Gu(d,w),xt!=null&&I.unshift(Ng(d,xt,J))):S||(xt=Gu(d,w),xt!=null&&I.push(Ng(d,xt,J)))),d=d.return}I.length!==0&&r.push({event:l,listeners:I})}var fz=/\r\n?/g,hz=/\u0000|\uFFFD/g;function k2(r){return(typeof r=="string"?r:""+r).replace(fz,`
`).replace(hz,"")}function X2(r,l){return l=k2(l),k2(r)===l}function jy(){}function kn(r,l,d,g,S,w){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||Ni(r,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&Ni(r,""+g);break;case"className":de(r,"class",g);break;case"tabIndex":de(r,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":de(r,d,g);break;case"style":mf(r,g,w);break;case"data":if(l!=="object"){de(r,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){r.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(d);break}g=gf(""+g),r.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&kn(r,l,"name",S.name,S,null),kn(r,l,"formEncType",S.formEncType,S,null),kn(r,l,"formMethod",S.formMethod,S,null),kn(r,l,"formTarget",S.formTarget,S,null)):(kn(r,l,"encType",S.encType,S,null),kn(r,l,"method",S.method,S,null),kn(r,l,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(d);break}g=gf(""+g),r.setAttribute(d,g);break;case"onClick":g!=null&&(r.onclick=jy);break;case"onScroll":g!=null&&fn("scroll",r);break;case"onScrollEnd":g!=null&&fn("scrollend",r);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(S.children!=null)throw Error(n(60));r.innerHTML=d}}break;case"multiple":r.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":r.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){r.removeAttribute("xlink:href");break}d=gf(""+g),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(d,""+g):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":g===!0?r.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(d,g):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?r.setAttribute(d,g):r.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?r.removeAttribute(d):r.setAttribute(d,g);break;case"popover":fn("beforetoggle",r),fn("toggle",r),ee(r,"popover",g);break;case"xlinkActuate":se(r,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":se(r,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":se(r,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":se(r,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":se(r,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":se(r,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":se(r,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":se(r,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":se(r,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ee(r,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Cm.get(d)||d,ee(r,d,g))}}function WS(r,l,d,g,S,w){switch(d){case"style":mf(r,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(S.children!=null)throw Error(n(60));r.innerHTML=d}}break;case"children":typeof g=="string"?Ni(r,g):(typeof g=="number"||typeof g=="bigint")&&Ni(r,""+g);break;case"onScroll":g!=null&&fn("scroll",r);break;case"onScrollEnd":g!=null&&fn("scrollend",r);break;case"onClick":g!=null&&(r.onclick=jy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hu.hasOwnProperty(d))t:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),l=d.slice(2,S?d.length-7:void 0),w=r[Jn]||null,w=w!=null?w[d]:null,typeof w=="function"&&r.removeEventListener(l,w,S),typeof g=="function")){typeof w!="function"&&w!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(l,g,S);break t}d in r?r[d]=g:g===!0?r.setAttribute(d,""):ee(r,d,g)}}}function Ra(r,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fn("error",r),fn("load",r);var g=!1,S=!1,w;for(w in d)if(d.hasOwnProperty(w)){var I=d[w];if(I!=null)switch(w){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:kn(r,l,w,I,d,null)}}S&&kn(r,l,"srcSet",d.srcSet,d,null),g&&kn(r,l,"src",d.src,d,null);return;case"input":fn("invalid",r);var G=w=I=S=null,J=null,xt=null;for(g in d)if(d.hasOwnProperty(g)){var Ut=d[g];if(Ut!=null)switch(g){case"name":S=Ut;break;case"type":I=Ut;break;case"checked":J=Ut;break;case"defaultChecked":xt=Ut;break;case"value":w=Ut;break;case"defaultValue":G=Ut;break;case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(n(137,l));break;default:kn(r,l,g,Ut,d,null)}}ha(r,w,G,J,xt,I,S,!1),sn(r);return;case"select":fn("invalid",r),g=I=w=null;for(S in d)if(d.hasOwnProperty(S)&&(G=d[S],G!=null))switch(S){case"value":w=G;break;case"defaultValue":I=G;break;case"multiple":g=G;default:kn(r,l,S,G,d,null)}l=w,d=I,r.multiple=!!g,l!=null?ti(r,!!g,l,!1):d!=null&&ti(r,!!g,d,!0);return;case"textarea":fn("invalid",r),w=S=g=null;for(I in d)if(d.hasOwnProperty(I)&&(G=d[I],G!=null))switch(I){case"value":g=G;break;case"defaultValue":S=G;break;case"children":w=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(91));break;default:kn(r,l,I,G,d,null)}Hl(r,g,S,w),sn(r);return;case"option":for(J in d)if(d.hasOwnProperty(J)&&(g=d[J],g!=null))switch(J){case"selected":r.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:kn(r,l,J,g,d,null)}return;case"dialog":fn("beforetoggle",r),fn("toggle",r),fn("cancel",r),fn("close",r);break;case"iframe":case"object":fn("load",r);break;case"video":case"audio":for(g=0;g<Dg.length;g++)fn(Dg[g],r);break;case"image":fn("error",r),fn("load",r);break;case"details":fn("toggle",r);break;case"embed":case"source":case"link":fn("error",r),fn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xt in d)if(d.hasOwnProperty(xt)&&(g=d[xt],g!=null))switch(xt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:kn(r,l,xt,g,d,null)}return;default:if(nd(l)){for(Ut in d)d.hasOwnProperty(Ut)&&(g=d[Ut],g!==void 0&&WS(r,l,Ut,g,d,void 0));return}}for(G in d)d.hasOwnProperty(G)&&(g=d[G],g!=null&&kn(r,l,G,g,d,null))}function dz(r,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,w=null,I=null,G=null,J=null,xt=null,Ut=null;for(Mt in d){var Ft=d[Mt];if(d.hasOwnProperty(Mt)&&Ft!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":J=Ft;default:g.hasOwnProperty(Mt)||kn(r,l,Mt,null,g,Ft)}}for(var bt in g){var Mt=g[bt];if(Ft=d[bt],g.hasOwnProperty(bt)&&(Mt!=null||Ft!=null))switch(bt){case"type":w=Mt;break;case"name":S=Mt;break;case"checked":xt=Mt;break;case"defaultChecked":Ut=Mt;break;case"value":I=Mt;break;case"defaultValue":G=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(n(137,l));break;default:Mt!==Ft&&kn(r,l,bt,Mt,g,Ft)}}On(r,I,G,J,xt,Ut,w,S);return;case"select":Mt=I=G=bt=null;for(w in d)if(J=d[w],d.hasOwnProperty(w)&&J!=null)switch(w){case"value":break;case"multiple":Mt=J;default:g.hasOwnProperty(w)||kn(r,l,w,null,g,J)}for(S in g)if(w=g[S],J=d[S],g.hasOwnProperty(S)&&(w!=null||J!=null))switch(S){case"value":bt=w;break;case"defaultValue":G=w;break;case"multiple":I=w;default:w!==J&&kn(r,l,S,w,g,J)}l=G,d=I,g=Mt,bt!=null?ti(r,!!d,bt,!1):!!g!=!!d&&(l!=null?ti(r,!!d,l,!0):ti(r,!!d,d?[]:"",!1));return;case"textarea":Mt=bt=null;for(G in d)if(S=d[G],d.hasOwnProperty(G)&&S!=null&&!g.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:kn(r,l,G,null,g,S)}for(I in g)if(S=g[I],w=d[I],g.hasOwnProperty(I)&&(S!=null||w!=null))switch(I){case"value":bt=S;break;case"defaultValue":Mt=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==w&&kn(r,l,I,S,g,w)}$i(r,bt,Mt);return;case"option":for(var He in d)if(bt=d[He],d.hasOwnProperty(He)&&bt!=null&&!g.hasOwnProperty(He))switch(He){case"selected":r.selected=!1;break;default:kn(r,l,He,null,g,bt)}for(J in g)if(bt=g[J],Mt=d[J],g.hasOwnProperty(J)&&bt!==Mt&&(bt!=null||Mt!=null))switch(J){case"selected":r.selected=bt&&typeof bt!="function"&&typeof bt!="symbol";break;default:kn(r,l,J,bt,g,Mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in d)bt=d[Le],d.hasOwnProperty(Le)&&bt!=null&&!g.hasOwnProperty(Le)&&kn(r,l,Le,null,g,bt);for(xt in g)if(bt=g[xt],Mt=d[xt],g.hasOwnProperty(xt)&&bt!==Mt&&(bt!=null||Mt!=null))switch(xt){case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(n(137,l));break;default:kn(r,l,xt,bt,g,Mt)}return;default:if(nd(l)){for(var Xn in d)bt=d[Xn],d.hasOwnProperty(Xn)&&bt!==void 0&&!g.hasOwnProperty(Xn)&&WS(r,l,Xn,void 0,g,bt);for(Ut in g)bt=g[Ut],Mt=d[Ut],!g.hasOwnProperty(Ut)||bt===Mt||bt===void 0&&Mt===void 0||WS(r,l,Ut,bt,g,Mt);return}}for(var ft in d)bt=d[ft],d.hasOwnProperty(ft)&&bt!=null&&!g.hasOwnProperty(ft)&&kn(r,l,ft,null,g,bt);for(Ft in g)bt=g[Ft],Mt=d[Ft],!g.hasOwnProperty(Ft)||bt===Mt||bt==null&&Mt==null||kn(r,l,Ft,bt,g,Mt)}var ZS=null,KS=null;function Wy(r){return r.nodeType===9?r:r.ownerDocument}function q2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y2(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function QS(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var JS=null;function pz(){var r=window.event;return r&&r.type==="popstate"?r===JS?!1:(JS=r,!0):(JS=null,!1)}var j2=typeof setTimeout=="function"?setTimeout:void 0,mz=typeof clearTimeout=="function"?clearTimeout:void 0,W2=typeof Promise=="function"?Promise:void 0,gz=typeof queueMicrotask=="function"?queueMicrotask:typeof W2<"u"?function(r){return W2.resolve(null).then(r).catch(vz)}:j2;function vz(r){setTimeout(function(){throw r})}function wc(r){return r==="head"}function Z2(r,l){var d=l,g=0,S=0;do{var w=d.nextSibling;if(r.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(0<g&&8>g){d=g;var I=r.ownerDocument;if(d&1&&Og(I.documentElement),d&2&&Og(I.body),d&4)for(d=I.head,Og(d),I=d.firstChild;I;){var G=I.nextSibling,J=I.nodeName;I[is]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&I.rel.toLowerCase()==="stylesheet"||d.removeChild(I),I=G}}if(S===0){r.removeChild(w),Vg(l);return}S--}else d==="$"||d==="$?"||d==="$!"?S++:g=d.charCodeAt(0)-48;else g=0;d=w}while(d);Vg(l)}function $S(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":$S(d),Fn(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function yz(r,l,d,g){for(;r.nodeType===1;){var S=d;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(g){if(!r[is])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==S.rel||r.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||r.getAttribute("title")!==(S.title==null?null:S.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(S.src==null?null:S.src)||r.getAttribute("type")!==(S.type==null?null:S.type)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var w=S.name==null?null:""+S.name;if(S.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=Ro(r.nextSibling),r===null)break}return null}function _z(r,l,d){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=Ro(r.nextSibling),r===null))return null;return r}function tb(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function xz(r,l){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),r._reactRetry=g}}function Ro(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}var eb=null;function K2(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return r;l--}else d==="/$"&&l++}r=r.previousSibling}return null}function Q2(r,l,d){switch(l=Wy(d),r){case"html":if(r=l.documentElement,!r)throw Error(n(452));return r;case"head":if(r=l.head,!r)throw Error(n(453));return r;case"body":if(r=l.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Og(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);Fn(r)}var Xr=new Map,J2=new Set;function Zy(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var cu=q.d;q.d={f:Sz,r:bz,D:Mz,C:Tz,L:Ez,m:Az,X:Cz,S:wz,M:Rz};function Sz(){var r=cu.f(),l=Gr();return r||l}function bz(r){var l=Ar(r);l!==null&&l.tag===5&&l.type==="form"?Cy(l):cu.r(r)}var tp=typeof document>"u"?null:document;function $2(r,l,d){var g=tp;if(g&&typeof l=="string"&&l){var S=Di(l);S='link[rel="'+r+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),J2.has(S)||(J2.add(S),r={rel:r,crossOrigin:d,href:l},g.querySelector(S)===null&&(l=g.createElement("link"),Ra(l,"link",r),bi(l),g.head.appendChild(l)))}}function Mz(r){cu.D(r),$2("dns-prefetch",r,null)}function Tz(r,l){cu.C(r,l),$2("preconnect",r,l)}function Ez(r,l,d){cu.L(r,l,d);var g=tp;if(g&&r&&l){var S='link[rel="preload"][as="'+Di(l)+'"]';l==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+Di(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+Di(d.imageSizes)+'"]')):S+='[href="'+Di(r)+'"]';var w=S;switch(l){case"style":w=ep(r);break;case"script":w=np(r)}Xr.has(w)||(r=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:r,as:l},d),Xr.set(w,r),g.querySelector(S)!==null||l==="style"&&g.querySelector(Ug(w))||l==="script"&&g.querySelector(Lg(w))||(l=g.createElement("link"),Ra(l,"link",r),bi(l),g.head.appendChild(l)))}}function Az(r,l){cu.m(r,l);var d=tp;if(d&&r){var g=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+Di(g)+'"][href="'+Di(r)+'"]',w=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=np(r)}if(!Xr.has(w)&&(r=m({rel:"modulepreload",href:r},l),Xr.set(w,r),d.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Lg(w)))return}g=d.createElement("link"),Ra(g,"link",r),bi(g),d.head.appendChild(g)}}}function wz(r,l,d){cu.S(r,l,d);var g=tp;if(g&&r){var S=ao(g).hoistableStyles,w=ep(r);l=l||"default";var I=S.get(w);if(!I){var G={loading:0,preload:null};if(I=g.querySelector(Ug(w)))G.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":l},d),(d=Xr.get(w))&&nb(r,d);var J=I=g.createElement("link");bi(J),Ra(J,"link",r),J._p=new Promise(function(xt,Ut){J.onload=xt,J.onerror=Ut}),J.addEventListener("load",function(){G.loading|=1}),J.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Ky(I,l,g)}I={type:"stylesheet",instance:I,count:1,state:G},S.set(w,I)}}}function Cz(r,l){cu.X(r,l);var d=tp;if(d&&r){var g=ao(d).hoistableScripts,S=np(r),w=g.get(S);w||(w=d.querySelector(Lg(S)),w||(r=m({src:r,async:!0},l),(l=Xr.get(S))&&ib(r,l),w=d.createElement("script"),bi(w),Ra(w,"link",r),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(S,w))}}function Rz(r,l){cu.M(r,l);var d=tp;if(d&&r){var g=ao(d).hoistableScripts,S=np(r),w=g.get(S);w||(w=d.querySelector(Lg(S)),w||(r=m({src:r,async:!0,type:"module"},l),(l=Xr.get(S))&&ib(r,l),w=d.createElement("script"),bi(w),Ra(w,"link",r),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(S,w))}}function tw(r,l,d,g){var S=(S=mt.current)?Zy(S):null;if(!S)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=ep(d.href),d=ao(S).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=ep(d.href);var w=ao(S).hoistableStyles,I=w.get(r);if(I||(S=S.ownerDocument||S,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,I),(w=S.querySelector(Ug(r)))&&!w._p&&(I.instance=w,I.state.loading=5),Xr.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Xr.set(r,d),w||Dz(S,r,d,I.state))),l&&g===null)throw Error(n(528,""));return I}if(l&&g!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=np(d),d=ao(S).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function ep(r){return'href="'+Di(r)+'"'}function Ug(r){return'link[rel="stylesheet"]['+r+"]"}function ew(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function Dz(r,l,d,g){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=r.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Ra(l,"link",d),bi(l),r.head.appendChild(l))}function np(r){return'[src="'+Di(r)+'"]'}function Lg(r){return"script[async]"+r}function nw(r,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=r.querySelector('style[data-href~="'+Di(d.href)+'"]');if(g)return l.instance=g,bi(g),g;var S=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(r.ownerDocument||r).createElement("style"),bi(g),Ra(g,"style",S),Ky(g,d.precedence,r),l.instance=g;case"stylesheet":S=ep(d.href);var w=r.querySelector(Ug(S));if(w)return l.state.loading|=4,l.instance=w,bi(w),w;g=ew(d),(S=Xr.get(S))&&nb(g,S),w=(r.ownerDocument||r).createElement("link"),bi(w);var I=w;return I._p=new Promise(function(G,J){I.onload=G,I.onerror=J}),Ra(w,"link",g),l.state.loading|=4,Ky(w,d.precedence,r),l.instance=w;case"script":return w=np(d.src),(S=r.querySelector(Lg(w)))?(l.instance=S,bi(S),S):(g=d,(S=Xr.get(w))&&(g=m({},d),ib(g,S)),r=r.ownerDocument||r,S=r.createElement("script"),bi(S),Ra(S,"link",g),r.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Ky(g,d.precedence,r));return l.instance}function Ky(r,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,w=S,I=0;I<g.length;I++){var G=g[I];if(G.dataset.precedence===l)w=G;else if(w!==S)break}w?w.parentNode.insertBefore(r,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(r,l.firstChild))}function nb(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function ib(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var Qy=null;function iw(r,l,d){if(Qy===null){var g=new Map,S=Qy=new Map;S.set(d,g)}else S=Qy,g=S.get(d),g||(g=new Map,S.set(d,g));if(g.has(r))return g;for(g.set(r,null),d=d.getElementsByTagName(r),S=0;S<d.length;S++){var w=d[S];if(!(w[is]||w[Si]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(l)||"";I=r+I;var G=g.get(I);G?G.push(w):g.set(I,[w])}}return g}function aw(r,l,d){r=r.ownerDocument||r,r.head.insertBefore(d,l==="title"?r.querySelector("head > title"):null)}function Nz(r,l,d){if(d===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function sw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Pg=null;function Oz(){}function Uz(r,l,d){if(Pg===null)throw Error(n(475));var g=Pg;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var S=ep(d.href),w=r.querySelector(Ug(S));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(g.count++,g=Jy.bind(g),r.then(g,g)),l.state.loading|=4,l.instance=w,bi(w);return}w=r.ownerDocument||r,d=ew(d),(S=Xr.get(S))&&nb(d,S),w=w.createElement("link"),bi(w);var I=w;I._p=new Promise(function(G,J){I.onload=G,I.onerror=J}),Ra(w,"link",d),l.instance=w}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=Jy.bind(g),r.addEventListener("load",l),r.addEventListener("error",l))}}function Lz(){if(Pg===null)throw Error(n(475));var r=Pg;return r.stylesheets&&r.count===0&&ab(r,r.stylesheets),0<r.count?function(l){var d=setTimeout(function(){if(r.stylesheets&&ab(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(d)}}:null}function Jy(){if(this.count--,this.count===0){if(this.stylesheets)ab(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var $y=null;function ab(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,$y=new Map,l.forEach(Pz,r),$y=null,Jy.call(r))}function Pz(r,l){if(!(l.state.loading&4)){var d=$y.get(r);if(d)var g=d.get(null);else{d=new Map,$y.set(r,d);for(var S=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<S.length;w++){var I=S[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(d.set(I.dataset.precedence,I),g=I)}g&&d.set(null,g)}S=l.instance,I=S.getAttribute("data-precedence"),w=d.get(I)||g,w===g&&d.set(null,S),d.set(I,S),this.count++,g=Jy.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),w?w.parentNode.insertBefore(S,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(S,r.firstChild)),l.state.loading|=4}}var zg={$$typeof:D,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function zz(r,l,d,g,S,w,I,G){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.hiddenUpdates=te(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function rw(r,l,d,g,S,w,I,G,J,xt,Ut,Ft){return r=new zz(r,l,d,I,G,J,xt,Ft),l=1,w===!0&&(l|=24),w=Fa(3,null,null,l),r.current=w,w.stateNode=r,l=Md(),l.refCount++,r.pooledCache=l,l.refCount++,w.memoizedState={element:g,isDehydrated:d,cache:l},rg(w),r}function ow(r){return r?(r=Qo,r):Qo}function lw(r,l,d,g,S,w){S=ow(S),g.context===null?g.context=S:g.pendingContext=S,g=Nr(l),g.payload={element:d},w=w===void 0?null:w,w!==null&&(g.callback=w),d=_o(r,g,l),d!==null&&(Ca(d,r,l),Yl(d,r,l))}function uw(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<l?d:l}}function sb(r,l){uw(r,l),(r=r.alternate)&&uw(r,l)}function cw(r){if(r.tag===13){var l=po(r,67108864);l!==null&&Ca(l,r,67108864),sb(r,67108864)}}var t_=!0;function Bz(r,l,d,g){var S=z.T;z.T=null;var w=q.p;try{q.p=2,rb(r,l,d,g)}finally{q.p=w,z.T=S}}function Iz(r,l,d,g){var S=z.T;z.T=null;var w=q.p;try{q.p=8,rb(r,l,d,g)}finally{q.p=w,z.T=S}}function rb(r,l,d,g){if(t_){var S=ob(g);if(S===null)jS(r,l,g,e_,d),hw(r,g);else if(Vz(S,r,l,d,g))g.stopPropagation();else if(hw(r,g),l&4&&-1<Fz.indexOf(r)){for(;S!==null;){var w=Ar(S);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=be(w.pendingLanes);if(I!==0){var G=w;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var J=1<<31-re(I);G.entanglements[1]|=J,I&=~J}Sl(w),(wn&6)===0&&(ma=Dt()+500,Rg(0))}}break;case 13:G=po(w,2),G!==null&&Ca(G,w,2),Gr(),sb(w,2)}if(w=ob(g),w===null&&jS(r,l,g,e_,d),w===S)break;S=w}S!==null&&g.stopPropagation()}else jS(r,l,g,null,d)}}function ob(r){return r=ad(r),lb(r)}var e_=null;function lb(r){if(e_=null,r=er(r),r!==null){var l=s(r);if(l===null)r=null;else{var d=l.tag;if(d===13){if(r=o(l),r!==null)return r;r=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return e_=r,null}function fw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case Xt:return 2;case Wt:return 8;case we:case ze:return 32;case Z:return 268435456;default:return 32}default:return 32}}var ub=!1,Cc=null,Rc=null,Dc=null,Bg=new Map,Ig=new Map,Nc=[],Fz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hw(r,l){switch(r){case"focusin":case"focusout":Cc=null;break;case"dragenter":case"dragleave":Rc=null;break;case"mouseover":case"mouseout":Dc=null;break;case"pointerover":case"pointerout":Bg.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ig.delete(l.pointerId)}}function Fg(r,l,d,g,S,w){return r===null||r.nativeEvent!==w?(r={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:w,targetContainers:[S]},l!==null&&(l=Ar(l),l!==null&&cw(l)),r):(r.eventSystemFlags|=g,l=r.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),r)}function Vz(r,l,d,g,S){switch(l){case"focusin":return Cc=Fg(Cc,r,l,d,g,S),!0;case"dragenter":return Rc=Fg(Rc,r,l,d,g,S),!0;case"mouseover":return Dc=Fg(Dc,r,l,d,g,S),!0;case"pointerover":var w=S.pointerId;return Bg.set(w,Fg(Bg.get(w)||null,r,l,d,g,S)),!0;case"gotpointercapture":return w=S.pointerId,Ig.set(w,Fg(Ig.get(w)||null,r,l,d,g,S)),!0}return!1}function dw(r){var l=er(r.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){r.blockedOn=l,ws(r.priority,function(){if(d.tag===13){var g=oi();g=Oe(g);var S=po(d,g);S!==null&&Ca(S,d,g),sb(d,g)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function n_(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var d=ob(r.nativeEvent);if(d===null){d=r.nativeEvent;var g=new d.constructor(d.type,d);id=g,d.target.dispatchEvent(g),id=null}else return l=Ar(d),l!==null&&cw(l),r.blockedOn=d,!1;l.shift()}return!0}function pw(r,l,d){n_(r)&&d.delete(l)}function Hz(){ub=!1,Cc!==null&&n_(Cc)&&(Cc=null),Rc!==null&&n_(Rc)&&(Rc=null),Dc!==null&&n_(Dc)&&(Dc=null),Bg.forEach(pw),Ig.forEach(pw)}function i_(r,l){r.blockedOn===l&&(r.blockedOn=null,ub||(ub=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Hz)))}var a_=null;function mw(r){a_!==r&&(a_=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){a_===r&&(a_=null);for(var l=0;l<r.length;l+=3){var d=r[l],g=r[l+1],S=r[l+2];if(typeof g!="function"){if(lb(g||d)===null)continue;break}var w=Ar(d);w!==null&&(r.splice(l,3),l-=3,bg(w,{pending:!0,data:S,method:d.method,action:g},g,S))}}))}function Vg(r){function l(J){return i_(J,r)}Cc!==null&&i_(Cc,r),Rc!==null&&i_(Rc,r),Dc!==null&&i_(Dc,r),Bg.forEach(l),Ig.forEach(l);for(var d=0;d<Nc.length;d++){var g=Nc[d];g.blockedOn===r&&(g.blockedOn=null)}for(;0<Nc.length&&(d=Nc[0],d.blockedOn===null);)dw(d),d.blockedOn===null&&Nc.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var S=d[g],w=d[g+1],I=S[Jn]||null;if(typeof w=="function")I||mw(d);else if(I){var G=null;if(w&&w.hasAttribute("formAction")){if(S=w,I=w[Jn]||null)G=I.formAction;else if(lb(S)!==null)continue}else G=I.action;typeof G=="function"?d[g+1]=G:(d.splice(g,3),g-=3),mw(d)}}}function cb(r){this._internalRoot=r}s_.prototype.render=cb.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,g=oi();lw(d,g,r,l,null,null)},s_.prototype.unmount=cb.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;lw(r.current,2,null,r,null,null),Gr(),l[Cs]=null}};function s_(r){this._internalRoot=r}s_.prototype.unstable_scheduleHydration=function(r){if(r){var l=ln();r={blockedOn:null,target:r,priority:l};for(var d=0;d<Nc.length&&l!==0&&l<Nc[d].priority;d++);Nc.splice(d,0,r),d===0&&dw(r)}};var gw=t.version;if(gw!=="19.1.1")throw Error(n(527,gw,"19.1.1"));q.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=h(l),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var Gz={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r_.isDisabled&&r_.supportsFiber)try{At=r_.inject(Gz),Lt=r_}catch{}}return Gg.createRoot=function(r,l){if(!a(r))throw Error(n(299));var d=!1,g="",S=Qf,w=Vd,I=Vy,G=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks)),l=rw(r,1,!1,null,null,d,g,S,w,I,G,null),r[Cs]=l.current,YS(r),new cb(l)},Gg.hydrateRoot=function(r,l,d){if(!a(r))throw Error(n(299));var g=!1,S="",w=Qf,I=Vd,G=Vy,J=null,xt=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(I=d.onCaughtError),d.onRecoverableError!==void 0&&(G=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(J=d.unstable_transitionCallbacks),d.formState!==void 0&&(xt=d.formState)),l=rw(r,1,!0,l,d??null,g,S,w,I,G,J,xt),l.context=ow(null),d=l.current,g=oi(),g=Oe(g),S=Nr(g),S.callback=null,_o(d,S,g),d=g,l.current.lanes=d,fe(l,d),Sl(l),r[Cs]=l.current,YS(r),new s_(l)},Gg.version="19.1.1",Gg}var Aw;function Jz(){if(Aw)return db.exports;Aw=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),db.exports=Qz(),db.exports}var $z=Jz();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ww="popstate";function t5(i={}){function t(n,a){let{pathname:s,search:o,hash:u}=n.location;return iT("",{pathname:s,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(n,a){return typeof a=="string"?a:O0(a)}return n5(t,e,null,i)}function ua(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Pl(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e5(){return Math.random().toString(36).substring(2,10)}function Cw(i,t){return{usr:i.state,key:i.key,idx:t}}function iT(i,t,e=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?fv(t):t,state:e,key:t&&t.key||n||e5()}}function O0({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function fv(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let n=i.indexOf("?");n>=0&&(t.search=i.substring(n),i=i.substring(0,n)),i&&(t.pathname=i)}return t}function n5(i,t,e,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,u="POP",h=null,p=m();p==null&&(p=0,o.replaceState({...o.state,idx:p},""));function m(){return(o.state||{idx:null}).idx}function v(){u="POP";let E=m(),b=E==null?null:E-p;p=E,h&&h({action:u,location:A.location,delta:b})}function _(E,b){u="PUSH";let R=iT(A.location,E,b);p=m()+1;let D=Cw(R,p),N=A.createHref(R);try{o.pushState(D,"",N)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(N)}s&&h&&h({action:u,location:A.location,delta:1})}function x(E,b){u="REPLACE";let R=iT(A.location,E,b);p=m();let D=Cw(R,p),N=A.createHref(R);o.replaceState(D,"",N),s&&h&&h({action:u,location:A.location,delta:0})}function T(E){return i5(E)}let A={get action(){return u},get location(){return i(a,o)},listen(E){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(ww,v),h=E,()=>{a.removeEventListener(ww,v),h=null}},createHref(E){return t(a,E)},createURL:T,encodeLocation(E){let b=T(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:x,go(E){return o.go(E)}};return A}function i5(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ua(e,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:O0(i);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function GD(i,t,e="/"){return a5(i,t,e,!1)}function a5(i,t,e,n){let a=typeof t=="string"?fv(t):t,s=wu(a.pathname||"/",e);if(s==null)return null;let o=kD(i);s5(o);let u=null;for(let h=0;u==null&&h<o.length;++h){let p=g5(s);u=p5(o[h],p,n)}return u}function kD(i,t=[],e=[],n="",a=!1){let s=(o,u,h=a,p)=>{let m={relativePath:p===void 0?o.path||"":p,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&h)return;ua(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let v=Tu([n,m.relativePath]),_=e.concat(m);o.children&&o.children.length>0&&(ua(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),kD(o.children,t,_,v,h)),!(o.path==null&&!o.index)&&t.push({path:v,score:h5(v,o.index),routesMeta:_})};return i.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))s(o,u);else for(let h of XD(o.path))s(o,u,!0,h)}),t}function XD(i){let t=i.split("/");if(t.length===0)return[];let[e,...n]=t,a=e.endsWith("?"),s=e.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=XD(n.join("/")),u=[];return u.push(...o.map(h=>h===""?s:[s,h].join("/"))),a&&u.push(...o),u.map(h=>i.startsWith("/")&&h===""?"/":h)}function s5(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:d5(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var r5=/^:[\w-]+$/,o5=3,l5=2,u5=1,c5=10,f5=-2,Rw=i=>i==="*";function h5(i,t){let e=i.split("/"),n=e.length;return e.some(Rw)&&(n+=f5),t&&(n+=l5),e.filter(a=>!Rw(a)).reduce((a,s)=>a+(r5.test(s)?o5:s===""?u5:c5),n)}function d5(i,t){return i.length===t.length&&i.slice(0,-1).every((n,a)=>n===t[a])?i[i.length-1]-t[t.length-1]:0}function p5(i,t,e=!1){let{routesMeta:n}=i,a={},s="/",o=[];for(let u=0;u<n.length;++u){let h=n[u],p=u===n.length-1,m=s==="/"?t:t.slice(s.length)||"/",v=Ex({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),_=h.route;if(!v&&p&&e&&!n[n.length-1].route.index&&(v=Ex({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(a,v.params),o.push({params:a,pathname:Tu([s,v.pathname]),pathnameBase:x5(Tu([s,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(s=Tu([s,v.pathnameBase]))}return o}function Ex(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,n]=m5(i.path,i.caseSensitive,i.end),a=t.match(e);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((p,{paramName:m,isOptional:v},_)=>{if(m==="*"){let T=u[_]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const x=u[_];return v&&!x?p[m]=void 0:p[m]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:o,pattern:i}}function m5(i,t=!1,e=!0){Pl(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function g5(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pl(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function wu(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=i.charAt(e);return n&&n!=="/"?null:i.slice(e)||"/"}function v5(i,t="/"){let{pathname:e,search:n="",hash:a=""}=typeof i=="string"?fv(i):i;return{pathname:e?e.startsWith("/")?e:y5(e,t):t,search:S5(n),hash:b5(a)}}function y5(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function vb(i,t,e,n){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _5(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function qD(i){let t=_5(i);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function YD(i,t,e,n=!1){let a;typeof i=="string"?a=fv(i):(a={...i},ua(!a.pathname||!a.pathname.includes("?"),vb("?","pathname","search",a)),ua(!a.pathname||!a.pathname.includes("#"),vb("#","pathname","hash",a)),ua(!a.search||!a.search.includes("#"),vb("#","search","hash",a)));let s=i===""||a.pathname==="",o=s?"/":a.pathname,u;if(o==null)u=e;else{let v=t.length-1;if(!n&&o.startsWith("..")){let _=o.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}u=v>=0?t[v]:"/"}let h=v5(a,u),p=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var Tu=i=>i.join("/").replace(/\/\/+/g,"/"),x5=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),S5=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,b5=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function M5(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var jD=["POST","PUT","PATCH","DELETE"];new Set(jD);var T5=["GET",...jD];new Set(T5);var gm=et.createContext(null);gm.displayName="DataRouter";var U1=et.createContext(null);U1.displayName="DataRouterState";et.createContext(!1);var WD=et.createContext({isTransitioning:!1});WD.displayName="ViewTransition";var E5=et.createContext(new Map);E5.displayName="Fetchers";var A5=et.createContext(null);A5.displayName="Await";var Il=et.createContext(null);Il.displayName="Navigation";var L1=et.createContext(null);L1.displayName="Location";var Iu=et.createContext({outlet:null,matches:[],isDataRoute:!1});Iu.displayName="Route";var wE=et.createContext(null);wE.displayName="RouteError";function w5(i,{relative:t}={}){ua(hv(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=et.useContext(Il),{hash:a,pathname:s,search:o}=dv(i,{relative:t}),u=s;return e!=="/"&&(u=s==="/"?e:Tu([e,s])),n.createHref({pathname:u,search:o,hash:a})}function hv(){return et.useContext(L1)!=null}function Qh(){return ua(hv(),"useLocation() may be used only in the context of a <Router> component."),et.useContext(L1).location}var ZD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KD(i){et.useContext(Il).static||et.useLayoutEffect(i)}function C5(){let{isDataRoute:i}=et.useContext(Iu);return i?H5():R5()}function R5(){ua(hv(),"useNavigate() may be used only in the context of a <Router> component.");let i=et.useContext(gm),{basename:t,navigator:e}=et.useContext(Il),{matches:n}=et.useContext(Iu),{pathname:a}=Qh(),s=JSON.stringify(qD(n)),o=et.useRef(!1);return KD(()=>{o.current=!0}),et.useCallback((h,p={})=>{if(Pl(o.current,ZD),!o.current)return;if(typeof h=="number"){e.go(h);return}let m=YD(h,JSON.parse(s),a,p.relative==="path");i==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Tu([t,m.pathname])),(p.replace?e.replace:e.push)(m,p.state,p)},[t,e,s,a,i])}et.createContext(null);function dv(i,{relative:t}={}){let{matches:e}=et.useContext(Iu),{pathname:n}=Qh(),a=JSON.stringify(qD(e));return et.useMemo(()=>YD(i,JSON.parse(a),n,t==="path"),[i,a,n,t])}function D5(i,t,e,n,a){ua(hv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=et.useContext(Il),{matches:o}=et.useContext(Iu),u=o[o.length-1],h=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let R=v&&v.path||"";QD(p,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let _=Qh(),x;x=_;let T=x.pathname||"/",A=T;if(m!=="/"){let R=m.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=GD(i,{pathname:A});return Pl(v||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Pl(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),P5(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:Tu([m,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:Tu([m,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,e,n,a)}function N5(){let i=V5(),t=M5(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",i),o=et.createElement(et.Fragment,null,et.createElement("p",null,"💿 Hey developer 👋"),et.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",et.createElement("code",{style:s},"ErrorBoundary")," or"," ",et.createElement("code",{style:s},"errorElement")," prop on your route.")),et.createElement(et.Fragment,null,et.createElement("h2",null,"Unexpected Application Error!"),et.createElement("h3",{style:{fontStyle:"italic"}},t),e?et.createElement("pre",{style:a},e):null,o)}var O5=et.createElement(N5,null),U5=class extends et.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.unstable_onError?this.props.unstable_onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?et.createElement(Iu.Provider,{value:this.props.routeContext},et.createElement(wE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L5({routeContext:i,match:t,children:e}){let n=et.useContext(gm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),et.createElement(Iu.Provider,{value:i},e)}function P5(i,t=[],e=null,n=null,a=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let s=i,o=e?.errors;if(o!=null){let p=s.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);ua(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,h=-1;if(e)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:v,errors:_}=e,x=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||x){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((p,m,v)=>{let _,x=!1,T=null,A=null;e&&(_=o&&m.route.id?o[m.route.id]:void 0,T=m.route.errorElement||O5,u&&(h<0&&v===0?(QD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):h===v&&(x=!0,A=m.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,v+1)),b=()=>{let R;return _?R=T:x?R=A:m.route.Component?R=et.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=p,et.createElement(L5,{match:m,routeContext:{outlet:p,matches:E,isDataRoute:e!=null},children:R})};return e&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?et.createElement(U5,{location:e.location,revalidation:e.revalidation,component:T,error:_,children:b(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:n}):b()},null)}function CE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z5(i){let t=et.useContext(gm);return ua(t,CE(i)),t}function B5(i){let t=et.useContext(U1);return ua(t,CE(i)),t}function I5(i){let t=et.useContext(Iu);return ua(t,CE(i)),t}function RE(i){let t=I5(i),e=t.matches[t.matches.length-1];return ua(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function F5(){return RE("useRouteId")}function V5(){let i=et.useContext(wE),t=B5("useRouteError"),e=RE("useRouteError");return i!==void 0?i:t.errors?.[e]}function H5(){let{router:i}=z5("useNavigate"),t=RE("useNavigate"),e=et.useRef(!1);return KD(()=>{e.current=!0}),et.useCallback(async(a,s={})=>{Pl(e.current,ZD),e.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:t,...s}))},[i,t])}var Dw={};function QD(i,t,e){!t&&!Dw[i]&&(Dw[i]=!0,Pl(!1,e))}et.memo(G5);function G5({routes:i,future:t,state:e,unstable_onError:n}){return D5(i,void 0,e,n,t)}function k5({basename:i="/",children:t=null,location:e,navigationType:n="POP",navigator:a,static:s=!1}){ua(!hv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=i.replace(/^\/*/,"/"),u=et.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof e=="string"&&(e=fv(e));let{pathname:h="/",search:p="",hash:m="",state:v=null,key:_="default"}=e,x=et.useMemo(()=>{let T=wu(h,o);return T==null?null:{location:{pathname:T,search:p,hash:m,state:v,key:_},navigationType:n}},[o,h,p,m,v,_,n]);return Pl(x!=null,`<Router basename="${o}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:et.createElement(Il.Provider,{value:u},et.createElement(L1.Provider,{children:t,value:x}))}var lx="get",ux="application/x-www-form-urlencoded";function P1(i){return i!=null&&typeof i.tagName=="string"}function X5(i){return P1(i)&&i.tagName.toLowerCase()==="button"}function q5(i){return P1(i)&&i.tagName.toLowerCase()==="form"}function Y5(i){return P1(i)&&i.tagName.toLowerCase()==="input"}function j5(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function W5(i,t){return i.button===0&&(!t||t==="_self")&&!j5(i)}var o_=null;function Z5(){if(o_===null)try{new FormData(document.createElement("form"),0),o_=!1}catch{o_=!0}return o_}var K5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yb(i){return i!=null&&!K5.has(i)?(Pl(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ux}"`),null):i}function Q5(i,t){let e,n,a,s,o;if(q5(i)){let u=i.getAttribute("action");n=u?wu(u,t):null,e=i.getAttribute("method")||lx,a=yb(i.getAttribute("enctype"))||ux,s=new FormData(i)}else if(X5(i)||Y5(i)&&(i.type==="submit"||i.type==="image")){let u=i.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||u.getAttribute("action");if(n=h?wu(h,t):null,e=i.getAttribute("formmethod")||u.getAttribute("method")||lx,a=yb(i.getAttribute("formenctype"))||yb(u.getAttribute("enctype"))||ux,s=new FormData(u,i),!Z5()){let{name:p,type:m,value:v}=i;if(m==="image"){let _=p?`${p}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else p&&s.append(p,v)}}else{if(P1(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=lx,n=null,a=ux,o=i}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:e.toLowerCase(),encType:a,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function DE(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function J5(i,t,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${e}`:t&&wu(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${e}`,n}async function $5(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tB(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function eB(i,t,e){let n=await Promise.all(i.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await $5(s,e);return o.links?o.links():[]}return[]}));return sB(n.flat(1).filter(tB).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Nw(i,t,e,n,a,s){let o=(h,p)=>e[p]?h.route.id!==e[p].route.id:!0,u=(h,p)=>e[p].pathname!==h.pathname||e[p].route.path?.endsWith("*")&&e[p].params["*"]!==h.params["*"];return s==="assets"?t.filter((h,p)=>o(h,p)||u(h,p)):s==="data"?t.filter((h,p)=>{let m=n.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(o(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function nB(i,t,{includeHydrateFallback:e}={}){return iB(i.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function iB(i){return[...new Set(i)]}function aB(i){let t={},e=Object.keys(i).sort();for(let n of e)t[n]=i[n];return t}function sB(i,t){let e=new Set;return new Set(t),i.reduce((n,a)=>{let s=JSON.stringify(aB(a));return e.has(s)||(e.add(s),n.push({key:s,link:a})),n},[])}function JD(){let i=et.useContext(gm);return DE(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function rB(){let i=et.useContext(U1);return DE(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var NE=et.createContext(void 0);NE.displayName="FrameworkContext";function $D(){let i=et.useContext(NE);return DE(i,"You must render this element inside a <HydratedRouter> element"),i}function oB(i,t){let e=et.useContext(NE),[n,a]=et.useState(!1),[s,o]=et.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=t,_=et.useRef(null);et.useEffect(()=>{if(i==="render"&&o(!0),i==="viewport"){let A=b=>{b.forEach(R=>{o(R.isIntersecting)})},E=new IntersectionObserver(A,{threshold:.5});return _.current&&E.observe(_.current),()=>{E.disconnect()}}},[i]),et.useEffect(()=>{if(n){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[n]);let x=()=>{a(!0)},T=()=>{a(!1),o(!1)};return e?i!=="intent"?[s,_,{}]:[s,_,{onFocus:kg(u,x),onBlur:kg(h,T),onMouseEnter:kg(p,x),onMouseLeave:kg(m,T),onTouchStart:kg(v,x)}]:[!1,_,{}]}function kg(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function lB({page:i,...t}){let{router:e}=JD(),n=et.useMemo(()=>GD(e.routes,i,e.basename),[e.routes,i,e.basename]);return n?et.createElement(cB,{page:i,matches:n,...t}):null}function uB(i){let{manifest:t,routeModules:e}=$D(),[n,a]=et.useState([]);return et.useEffect(()=>{let s=!1;return eB(i,t,e).then(o=>{s||a(o)}),()=>{s=!0}},[i,t,e]),n}function cB({page:i,matches:t,...e}){let n=Qh(),{manifest:a,routeModules:s}=$D(),{basename:o}=JD(),{loaderData:u,matches:h}=rB(),p=et.useMemo(()=>Nw(i,t,h,a,n,"data"),[i,t,h,a,n]),m=et.useMemo(()=>Nw(i,t,h,a,n,"assets"),[i,t,h,a,n]),v=et.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let T=new Set,A=!1;if(t.forEach(b=>{let R=a.routes[b.route.id];!R||!R.hasLoader||(!p.some(D=>D.route.id===b.route.id)&&b.route.id in u&&s[b.route.id]?.shouldRevalidate||R.hasClientLoader?A=!0:T.add(b.route.id))}),T.size===0)return[];let E=J5(i,o,"data");return A&&T.size>0&&E.searchParams.set("_routes",t.filter(b=>T.has(b.route.id)).map(b=>b.route.id).join(",")),[E.pathname+E.search]},[o,u,n,a,p,t,i,s]),_=et.useMemo(()=>nB(m,a),[m,a]),x=uB(m);return et.createElement(et.Fragment,null,v.map(T=>et.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...e})),_.map(T=>et.createElement("link",{key:T,rel:"modulepreload",href:T,...e})),x.map(({key:T,link:A})=>et.createElement("link",{key:T,nonce:e.nonce,...A})))}function fB(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var tN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tN&&(window.__reactRouterVersion="7.9.1")}catch{}function hB({basename:i,children:t,window:e}){let n=et.useRef();n.current==null&&(n.current=t5({window:e,v5Compat:!0}));let a=n.current,[s,o]=et.useState({action:a.action,location:a.location}),u=et.useCallback(h=>{et.startTransition(()=>o(h))},[o]);return et.useLayoutEffect(()=>a.listen(u),[a,u]),et.createElement(k5,{basename:i,children:t,location:s.location,navigationType:s.action,navigator:a})}var eN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f0=et.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:u,target:h,to:p,preventScrollReset:m,viewTransition:v,..._},x){let{basename:T}=et.useContext(Il),A=typeof p=="string"&&eN.test(p),E,b=!1;if(typeof p=="string"&&A&&(E=p,tN))try{let L=new URL(window.location.href),B=p.startsWith("//")?new URL(L.protocol+p):new URL(p),W=wu(B.pathname,T);B.origin===L.origin&&W!=null?p=W+B.search+B.hash:b=!0}catch{Pl(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=w5(p,{relative:a}),[D,N,U]=oB(n,_),P=gB(p,{replace:o,state:u,target:h,preventScrollReset:m,relative:a,viewTransition:v});function F(L){t&&t(L),L.defaultPrevented||P(L)}let V=et.createElement("a",{..._,...U,href:E||R,onClick:b||s?t:F,ref:fB(x,N),target:h,"data-discover":!A&&e==="render"?"true":void 0});return D&&!A?et.createElement(et.Fragment,null,V,et.createElement(lB,{page:R})):V});f0.displayName="Link";var dB=et.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:u,children:h,...p},m){let v=dv(o,{relative:p.relative}),_=Qh(),x=et.useContext(U1),{navigator:T,basename:A}=et.useContext(Il),E=x!=null&&SB(v)&&u===!0,b=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,R=_.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;e||(R=R.toLowerCase(),D=D?D.toLowerCase():null,b=b.toLowerCase()),D&&A&&(D=wu(D,A)||D);const N=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let U=R===b||!a&&R.startsWith(b)&&R.charAt(N)==="/",P=D!=null&&(D===b||!a&&D.startsWith(b)&&D.charAt(b.length)==="/"),F={isActive:U,isPending:P,isTransitioning:E},V=U?t:void 0,L;typeof n=="function"?L=n(F):L=[n,U?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(F):s;return et.createElement(f0,{...p,"aria-current":V,className:L,ref:m,style:B,to:o,viewTransition:u},typeof h=="function"?h(F):h)});dB.displayName="NavLink";var pB=et.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:a,state:s,method:o=lx,action:u,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:v,..._},x)=>{let T=_B(),A=xB(u,{relative:p}),E=o.toLowerCase()==="get"?"get":"post",b=typeof u=="string"&&eN.test(u),R=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let N=D.nativeEvent.submitter,U=N?.getAttribute("formmethod")||o;T(N||D.currentTarget,{fetcherKey:t,method:U,navigate:e,replace:a,state:s,relative:p,preventScrollReset:m,viewTransition:v})};return et.createElement("form",{ref:x,method:E,action:A,onSubmit:n?h:R,..._,"data-discover":!b&&i==="render"?"true":void 0})});pB.displayName="Form";function mB(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nN(i){let t=et.useContext(gm);return ua(t,mB(i)),t}function gB(i,{target:t,replace:e,state:n,preventScrollReset:a,relative:s,viewTransition:o}={}){let u=C5(),h=Qh(),p=dv(i,{relative:s});return et.useCallback(m=>{if(W5(m,t)){m.preventDefault();let v=e!==void 0?e:O0(h)===O0(p);u(i,{replace:v,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[h,u,p,e,n,t,i,a,s,o])}var vB=0,yB=()=>`__${String(++vB)}__`;function _B(){let{router:i}=nN("useSubmit"),{basename:t}=et.useContext(Il),e=F5();return et.useCallback(async(n,a={})=>{let{action:s,method:o,encType:u,formData:h,body:p}=Q5(n,t);if(a.navigate===!1){let m=a.fetcherKey||yB();await i.fetch(m,e,a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||o,formEncType:a.encType||u,flushSync:a.flushSync})}else await i.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||o,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,t,e])}function xB(i,{relative:t}={}){let{basename:e}=et.useContext(Il),n=et.useContext(Iu);ua(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...dv(i||".",{relative:t})},o=Qh();if(i==null){s.search=o.search;let u=new URLSearchParams(s.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let m=u.toString();s.search=m?`?${m}`:""}}return(!i||i===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(s.pathname=s.pathname==="/"?e:Tu([e,s.pathname])),O0(s)}function SB(i,{relative:t}={}){let e=et.useContext(WD);ua(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=nN("useViewTransitionState"),a=dv(i,{relative:t});if(!e.isTransitioning)return!1;let s=wu(e.currentLocation.pathname,n)||e.currentLocation.pathname,o=wu(e.nextLocation.pathname,n)||e.nextLocation.pathname;return Ex(a.pathname,o)!=null||Ex(a.pathname,s)!=null}var _b={exports:{}},fu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function bB(){return Ow||(Ow=1,fu.ConcurrentRoot=1,fu.ContinuousEventPriority=8,fu.DefaultEventPriority=32,fu.DiscreteEventPriority=2,fu.IdleEventPriority=268435456,fu.LegacyRoot=0,fu.NoEventPriority=0),fu}var Uw;function MB(){return Uw||(Uw=1,_b.exports=bB()),_b.exports}var cx=MB();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const z1="180",TB={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},EB={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},iN=0,aT=1,aN=2,AB=3,sN=0,B1=1,h0=2,Lo=3,Cu=0,Es=1,El=2,Eu=0,Ph=1,sT=2,rT=3,oT=4,rN=5,Gc=100,oN=101,lN=102,uN=103,cN=104,fN=200,hN=201,dN=202,pN=203,Ax=204,wx=205,mN=206,gN=207,vN=208,yN=209,_N=210,xN=211,SN=212,bN=213,MN=214,Cx=0,Rx=1,Dx=2,Xh=3,Nx=4,Ox=5,Ux=6,Lx=7,pv=0,TN=1,EN=2,Nl=0,AN=1,wN=2,CN=3,OE=4,RN=5,DN=6,NN=7,lT="attached",ON="detached",I1=300,Ru=301,Kc=302,U0=303,L0=304,vm=306,P0=1e3,Kr=1001,z0=1002,Na=1003,UE=1004,wB=1004,Dp=1005,CB=1005,la=1006,d0=1007,RB=1007,wl=1008,DB=1008,no=1009,LE=1010,PE=1011,Zp=1012,F1=1013,Du=1014,Ys=1015,ym=1016,V1=1017,H1=1018,Kp=1020,zE=35902,BE=35899,IE=1021,FE=1022,Za=1023,Qp=1026,Jp=1027,G1=1028,mv=1029,VE=1030,k1=1031,NB=1032,X1=1033,p0=33776,m0=33777,g0=33778,v0=33779,Px=35840,zx=35841,Bx=35842,Ix=35843,Fx=36196,Vx=37492,Hx=37496,Gx=37808,kx=37809,Xx=37810,qx=37811,Yx=37812,jx=37813,Wx=37814,Zx=37815,Kx=37816,Qx=37817,Jx=37818,$x=37819,t1=37820,e1=37821,n1=36492,i1=36494,a1=36495,s1=36283,r1=36284,o1=36285,l1=36286,UN=2200,LN=2201,PN=2202,B0=2300,u1=2301,fx=2302,wh=2400,Ch=2401,I0=2402,q1=2500,HE=2501,OB=0,UB=1,LB=2,zN=3200,BN=3201,PB=3202,zB=3203,of=0,IN=1,bu="",ja="srgb",Qc="srgb-linear",F0="linear",In="srgb",BB=0,bh=7680,IB=7681,FB=7682,VB=7683,HB=34055,GB=34056,kB=5386,XB=512,qB=513,YB=514,jB=515,WB=516,ZB=517,KB=518,uT=519,FN=512,VN=513,HN=514,GE=515,GN=516,kN=517,XN=518,qN=519,V0=35044,QB=35048,JB=35040,$B=35045,tI=35049,eI=35041,nI=35046,iI=35050,aI=35042,sI="100",cT="300 es",yr=2e3,$p=2001,rI={COMPUTE:"compute",RENDER:"render"},oI={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},lI={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class Fl{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)}hasEventListener(t,e){const n=this._listeners;return n===void 0?!1:n[t]!==void 0&&n[t].indexOf(e)!==-1}removeEventListener(t,e){const n=this._listeners;if(n===void 0)return;const a=n[t];if(a!==void 0){const s=a.indexOf(e);s!==-1&&a.splice(s,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const n=e[t.type];if(n!==void 0){t.target=this;const a=n.slice(0);for(let s=0,o=a.length;s<o;s++)a[s].call(this,t);t.target=null}}}const Xa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Lw=1234567;const zh=Math.PI/180,tm=180/Math.PI;function xr(){const i=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Xa[i&255]+Xa[i>>8&255]+Xa[i>>16&255]+Xa[i>>24&255]+"-"+Xa[t&255]+Xa[t>>8&255]+"-"+Xa[t>>16&15|64]+Xa[t>>24&255]+"-"+Xa[e&63|128]+Xa[e>>8&255]+"-"+Xa[e>>16&255]+Xa[e>>24&255]+Xa[n&255]+Xa[n>>8&255]+Xa[n>>16&255]+Xa[n>>24&255]).toLowerCase()}function Ve(i,t,e){return Math.max(t,Math.min(e,i))}function kE(i,t){return(i%t+t)%t}function uI(i,t,e,n,a){return n+(i-t)*(a-n)/(e-t)}function cI(i,t,e){return i!==t?(e-i)/(t-i):0}function y0(i,t,e){return(1-e)*i+e*t}function fI(i,t,e,n){return y0(i,t,1-Math.exp(-e*n))}function hI(i,t=1){return t-Math.abs(kE(i,t*2)-t)}function dI(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t),i*i*(3-2*i))}function pI(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t),i*i*i*(i*(i*6-15)+10))}function mI(i,t){return i+Math.floor(Math.random()*(t-i+1))}function gI(i,t){return i+Math.random()*(t-i)}function vI(i){return i*(.5-Math.random())}function yI(i){i!==void 0&&(Lw=i);let t=Lw+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function _I(i){return i*zh}function xI(i){return i*tm}function SI(i){return(i&i-1)===0&&i!==0}function bI(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function MI(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function TI(i,t,e,n,a){const s=Math.cos,o=Math.sin,u=s(e/2),h=o(e/2),p=s((t+n)/2),m=o((t+n)/2),v=s((t-n)/2),_=o((t-n)/2),x=s((n-t)/2),T=o((n-t)/2);switch(a){case"XYX":i.set(u*m,h*v,h*_,u*p);break;case"YZY":i.set(h*_,u*m,h*v,u*p);break;case"ZXZ":i.set(h*v,h*_,u*m,u*p);break;case"XZX":i.set(u*m,h*T,h*x,u*p);break;case"YXY":i.set(h*x,u*m,h*T,u*p);break;case"ZYZ":i.set(h*T,h*x,u*m,u*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function bs(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function tn(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const EI={DEG2RAD:zh,RAD2DEG:tm,generateUUID:xr,clamp:Ve,euclideanModulo:kE,mapLinear:uI,inverseLerp:cI,lerp:y0,damp:fI,pingpong:hI,smoothstep:dI,smootherstep:pI,randInt:mI,randFloat:gI,randFloatSpread:vI,seededRandom:yI,degToRad:_I,radToDeg:xI,isPowerOfTwo:SI,ceilPowerOfTwo:bI,floorPowerOfTwo:MI,setQuaternionFromProperEuler:TI,normalize:tn,denormalize:bs};class Ht{constructor(t=0,e=0){Ht.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,a=t.elements;return this.x=a[0]*e+a[3]*n+a[6],this.y=a[1]*e+a[4]*n+a[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Ve(this.x,t.x,e.x),this.y=Ve(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=Ve(this.x,t,e),this.y=Ve(this.y,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Ve(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Ve(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),a=Math.sin(e),s=this.x-t.x,o=this.y-t.y;return this.x=s*n-o*a+t.x,this.y=s*a+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ws{constructor(t=0,e=0,n=0,a=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=a}static slerpFlat(t,e,n,a,s,o,u){let h=n[a+0],p=n[a+1],m=n[a+2],v=n[a+3];const _=s[o+0],x=s[o+1],T=s[o+2],A=s[o+3];if(u===0){t[e+0]=h,t[e+1]=p,t[e+2]=m,t[e+3]=v;return}if(u===1){t[e+0]=_,t[e+1]=x,t[e+2]=T,t[e+3]=A;return}if(v!==A||h!==_||p!==x||m!==T){let E=1-u;const b=h*_+p*x+m*T+v*A,R=b>=0?1:-1,D=1-b*b;if(D>Number.EPSILON){const U=Math.sqrt(D),P=Math.atan2(U,b*R);E=Math.sin(E*P)/U,u=Math.sin(u*P)/U}const N=u*R;if(h=h*E+_*N,p=p*E+x*N,m=m*E+T*N,v=v*E+A*N,E===1-u){const U=1/Math.sqrt(h*h+p*p+m*m+v*v);h*=U,p*=U,m*=U,v*=U}}t[e]=h,t[e+1]=p,t[e+2]=m,t[e+3]=v}static multiplyQuaternionsFlat(t,e,n,a,s,o){const u=n[a],h=n[a+1],p=n[a+2],m=n[a+3],v=s[o],_=s[o+1],x=s[o+2],T=s[o+3];return t[e]=u*T+m*v+h*x-p*_,t[e+1]=h*T+m*_+p*v-u*x,t[e+2]=p*T+m*x+u*_-h*v,t[e+3]=m*T-u*v-h*_-p*x,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,a){return this._x=t,this._y=e,this._z=n,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const n=t._x,a=t._y,s=t._z,o=t._order,u=Math.cos,h=Math.sin,p=u(n/2),m=u(a/2),v=u(s/2),_=h(n/2),x=h(a/2),T=h(s/2);switch(o){case"XYZ":this._x=_*m*v+p*x*T,this._y=p*x*v-_*m*T,this._z=p*m*T+_*x*v,this._w=p*m*v-_*x*T;break;case"YXZ":this._x=_*m*v+p*x*T,this._y=p*x*v-_*m*T,this._z=p*m*T-_*x*v,this._w=p*m*v+_*x*T;break;case"ZXY":this._x=_*m*v-p*x*T,this._y=p*x*v+_*m*T,this._z=p*m*T+_*x*v,this._w=p*m*v-_*x*T;break;case"ZYX":this._x=_*m*v-p*x*T,this._y=p*x*v+_*m*T,this._z=p*m*T-_*x*v,this._w=p*m*v+_*x*T;break;case"YZX":this._x=_*m*v+p*x*T,this._y=p*x*v+_*m*T,this._z=p*m*T-_*x*v,this._w=p*m*v-_*x*T;break;case"XZY":this._x=_*m*v-p*x*T,this._y=p*x*v-_*m*T,this._z=p*m*T+_*x*v,this._w=p*m*v+_*x*T;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,a=Math.sin(n);return this._x=t.x*a,this._y=t.y*a,this._z=t.z*a,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],a=e[4],s=e[8],o=e[1],u=e[5],h=e[9],p=e[2],m=e[6],v=e[10],_=n+u+v;if(_>0){const x=.5/Math.sqrt(_+1);this._w=.25/x,this._x=(m-h)*x,this._y=(s-p)*x,this._z=(o-a)*x}else if(n>u&&n>v){const x=2*Math.sqrt(1+n-u-v);this._w=(m-h)/x,this._x=.25*x,this._y=(a+o)/x,this._z=(s+p)/x}else if(u>v){const x=2*Math.sqrt(1+u-n-v);this._w=(s-p)/x,this._x=(a+o)/x,this._y=.25*x,this._z=(h+m)/x}else{const x=2*Math.sqrt(1+v-n-u);this._w=(o-a)/x,this._x=(s+p)/x,this._y=(h+m)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<1e-8?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ve(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(n===0)return this;const a=Math.min(1,e/n);return this.slerp(t,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,a=t._y,s=t._z,o=t._w,u=e._x,h=e._y,p=e._z,m=e._w;return this._x=n*m+o*u+a*p-s*h,this._y=a*m+o*h+s*u-n*p,this._z=s*m+o*p+n*h-a*u,this._w=o*m-n*u-a*h-s*p,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const n=this._x,a=this._y,s=this._z,o=this._w;let u=o*t._w+n*t._x+a*t._y+s*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=o,this._x=n,this._y=a,this._z=s,this;const h=1-u*u;if(h<=Number.EPSILON){const x=1-e;return this._w=x*o+e*this._w,this._x=x*n+e*this._x,this._y=x*a+e*this._y,this._z=x*s+e*this._z,this.normalize(),this}const p=Math.sqrt(h),m=Math.atan2(p,u),v=Math.sin((1-e)*m)/p,_=Math.sin(e*m)/p;return this._w=o*v+this._w*_,this._x=n*v+this._x*_,this._y=a*v+this._y*_,this._z=s*v+this._z*_,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),a=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(a*Math.sin(t),a*Math.cos(t),s*Math.sin(e),s*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(t=0,e=0,n=0){K.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return n===void 0&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Pw.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Pw.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,a=this.z,s=t.elements;return this.x=s[0]*e+s[3]*n+s[6]*a,this.y=s[1]*e+s[4]*n+s[7]*a,this.z=s[2]*e+s[5]*n+s[8]*a,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,a=this.z,s=t.elements,o=1/(s[3]*e+s[7]*n+s[11]*a+s[15]);return this.x=(s[0]*e+s[4]*n+s[8]*a+s[12])*o,this.y=(s[1]*e+s[5]*n+s[9]*a+s[13])*o,this.z=(s[2]*e+s[6]*n+s[10]*a+s[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,a=this.z,s=t.x,o=t.y,u=t.z,h=t.w,p=2*(o*a-u*n),m=2*(u*e-s*a),v=2*(s*n-o*e);return this.x=e+h*p+o*v-u*m,this.y=n+h*m+u*p-s*v,this.z=a+h*v+s*m-o*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,a=this.z,s=t.elements;return this.x=s[0]*e+s[4]*n+s[8]*a,this.y=s[1]*e+s[5]*n+s[9]*a,this.z=s[2]*e+s[6]*n+s[10]*a,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Ve(this.x,t.x,e.x),this.y=Ve(this.y,t.y,e.y),this.z=Ve(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=Ve(this.x,t,e),this.y=Ve(this.y,t,e),this.z=Ve(this.z,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Ve(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,a=t.y,s=t.z,o=e.x,u=e.y,h=e.z;return this.x=a*h-s*u,this.y=s*o-n*h,this.z=n*u-a*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return xb.copy(this).projectOnVector(t),this.sub(xb)}reflect(t){return this.sub(xb.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Ve(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,a=this.z-t.z;return e*e+n*n+a*a}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const a=Math.sin(e)*t;return this.x=a*Math.sin(n),this.y=Math.cos(e)*t,this.z=a*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),a=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=a,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const xb=new K,Pw=new Ws;class Je{constructor(t,e,n,a,s,o,u,h,p){Je.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,n,a,s,o,u,h,p)}set(t,e,n,a,s,o,u,h,p){const m=this.elements;return m[0]=t,m[1]=a,m[2]=u,m[3]=e,m[4]=s,m[5]=h,m[6]=n,m[7]=o,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,a=e.elements,s=this.elements,o=n[0],u=n[3],h=n[6],p=n[1],m=n[4],v=n[7],_=n[2],x=n[5],T=n[8],A=a[0],E=a[3],b=a[6],R=a[1],D=a[4],N=a[7],U=a[2],P=a[5],F=a[8];return s[0]=o*A+u*R+h*U,s[3]=o*E+u*D+h*P,s[6]=o*b+u*N+h*F,s[1]=p*A+m*R+v*U,s[4]=p*E+m*D+v*P,s[7]=p*b+m*N+v*F,s[2]=_*A+x*R+T*U,s[5]=_*E+x*D+T*P,s[8]=_*b+x*N+T*F,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=t[6],p=t[7],m=t[8];return e*o*m-e*u*p-n*s*m+n*u*h+a*s*p-a*o*h}invert(){const t=this.elements,e=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=t[6],p=t[7],m=t[8],v=m*o-u*p,_=u*h-m*s,x=p*s-o*h,T=e*v+n*_+a*x;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/T;return t[0]=v*A,t[1]=(a*p-m*n)*A,t[2]=(u*n-a*o)*A,t[3]=_*A,t[4]=(m*e-a*h)*A,t[5]=(a*s-u*e)*A,t[6]=x*A,t[7]=(n*h-p*e)*A,t[8]=(o*e-n*s)*A,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,a,s,o,u){const h=Math.cos(s),p=Math.sin(s);return this.set(n*h,n*p,-n*(h*o+p*u)+o+t,-a*p,a*h,-a*(-p*o+h*u)+u+e,0,0,1),this}scale(t,e){return this.premultiply(Sb.makeScale(t,e)),this}rotate(t){return this.premultiply(Sb.makeRotation(-t)),this}translate(t,e){return this.premultiply(Sb.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let a=0;a<9;a++)if(e[a]!==n[a])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const Sb=new Je;function YN(i){for(let t=i.length-1;t>=0;--t)if(i[t]>=65535)return!0;return!1}const AI={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Np(i,t){return new AI[i](t)}function H0(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function jN(){const i=H0("canvas");return i.style.display="block",i}const zw={};function G0(i){i in zw||(zw[i]=!0,console.warn(i))}function wI(i,t,e){return new Promise(function(n,a){function s(){switch(i.clientWaitSync(t,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:a();break;case i.TIMEOUT_EXPIRED:setTimeout(s,e);break;default:n()}}setTimeout(s,e)})}const Bw=new Je().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Iw=new Je().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function CI(){const i={enabled:!0,workingColorSpace:Qc,spaces:{},convert:function(a,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===In&&(a.r=Au(a.r),a.g=Au(a.g),a.b=Au(a.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(a.applyMatrix3(this.spaces[s].toXYZ),a.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===In&&(a.r=kp(a.r),a.g=kp(a.g),a.b=kp(a.b))),a},workingToColorSpace:function(a,s){return this.convert(a,this.workingColorSpace,s)},colorSpaceToWorking:function(a,s){return this.convert(a,s,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===bu?F0:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,s=this.workingColorSpace){return a.fromArray(this.spaces[s].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,s,o){return a.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,s){return G0("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(a,s)},toWorkingColorSpace:function(a,s){return G0("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(a,s)}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[Qc]:{primaries:t,whitePoint:n,transfer:F0,toXYZ:Bw,fromXYZ:Iw,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:ja},outputColorSpaceConfig:{drawingBufferColorSpace:ja}},[ja]:{primaries:t,whitePoint:n,transfer:In,toXYZ:Bw,fromXYZ:Iw,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:ja}}}),i}const _n=CI();function Au(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function kp(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let ip;class WN{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{ip===void 0&&(ip=H0("canvas")),ip.width=t.width,ip.height=t.height;const a=ip.getContext("2d");t instanceof ImageData?a.putImageData(t,0,0):a.drawImage(t,0,0,t.width,t.height),n=ip}return n.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=H0("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const a=n.getImageData(0,0,t.width,t.height),s=a.data;for(let o=0;o<s.length;o++)s[o]=Au(s[o]/255)*255;return n.putImageData(a,0,0),e}else if(t.data){const e=t.data.slice(0);for(let n=0;n<e.length;n++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[n]=Math.floor(Au(e[n]/255)*255):e[n]=Au(e[n]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let RI=0;class Xc{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:RI++}),this.uuid=xr(),this.data=t,this.dataReady=!0,this.version=0}getSize(t){const e=this.data;return typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement?t.set(e.videoWidth,e.videoHeight,0):e instanceof VideoFrame?t.set(e.displayHeight,e.displayWidth,0):e!==null?t.set(e.width,e.height,e.depth||0):t.set(0,0,0),t}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const n={uuid:this.uuid,url:""},a=this.data;if(a!==null){let s;if(Array.isArray(a)){s=[];for(let o=0,u=a.length;o<u;o++)a[o].isDataTexture?s.push(bb(a[o].image)):s.push(bb(a[o]))}else s=bb(a);n.url=s}return e||(t.images[this.uuid]=n),n}}function bb(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?WN.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let DI=0;const Mb=new K;class Ri extends Fl{constructor(t=Ri.DEFAULT_IMAGE,e=Ri.DEFAULT_MAPPING,n=Kr,a=Kr,s=la,o=wl,u=Za,h=no,p=Ri.DEFAULT_ANISOTROPY,m=bu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:DI++}),this.uuid=xr(),this.name="",this.source=new Xc(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=n,this.wrapT=a,this.magFilter=s,this.minFilter=o,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=h,this.offset=new Ht(0,0),this.repeat=new Ht(1,1),this.center=new Ht(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Je,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&&t.depth&&t.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Mb).x}get height(){return this.source.getSize(Mb).y}get depth(){return this.source.getSize(Mb).z}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isArrayTexture=t.isArrayTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}setValues(t){for(const e in t){const n=t[e];if(n===void 0){console.warn(`THREE.Texture.setValues(): parameter '${e}' has value of undefined.`);continue}const a=this[e];if(a===void 0){console.warn(`THREE.Texture.setValues(): property '${e}' does not exist.`);continue}a&&n&&a.isVector2&&n.isVector2||a&&n&&a.isVector3&&n.isVector3||a&&n&&a.isMatrix3&&n.isMatrix3?a.copy(n):this[e]=n}}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==I1)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case P0:t.x=t.x-Math.floor(t.x);break;case Kr:t.x=t.x<0?0:1;break;case z0:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case P0:t.y=t.y-Math.floor(t.y);break;case Kr:t.y=t.y<0?0:1;break;case z0:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}Ri.DEFAULT_IMAGE=null;Ri.DEFAULT_MAPPING=I1;Ri.DEFAULT_ANISOTROPY=1;class Tn{constructor(t=0,e=0,n=0,a=1){Tn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=a}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,a){return this.x=t,this.y=e,this.z=n,this.w=a,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,a=this.z,s=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*a+o[12]*s,this.y=o[1]*e+o[5]*n+o[9]*a+o[13]*s,this.z=o[2]*e+o[6]*n+o[10]*a+o[14]*s,this.w=o[3]*e+o[7]*n+o[11]*a+o[15]*s,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,a,s;const h=t.elements,p=h[0],m=h[4],v=h[8],_=h[1],x=h[5],T=h[9],A=h[2],E=h[6],b=h[10];if(Math.abs(m-_)<.01&&Math.abs(v-A)<.01&&Math.abs(T-E)<.01){if(Math.abs(m+_)<.1&&Math.abs(v+A)<.1&&Math.abs(T+E)<.1&&Math.abs(p+x+b-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const D=(p+1)/2,N=(x+1)/2,U=(b+1)/2,P=(m+_)/4,F=(v+A)/4,V=(T+E)/4;return D>N&&D>U?D<.01?(n=0,a=.707106781,s=.707106781):(n=Math.sqrt(D),a=P/n,s=F/n):N>U?N<.01?(n=.707106781,a=0,s=.707106781):(a=Math.sqrt(N),n=P/a,s=V/a):U<.01?(n=.707106781,a=.707106781,s=0):(s=Math.sqrt(U),n=F/s,a=V/s),this.set(n,a,s,e),this}let R=Math.sqrt((E-T)*(E-T)+(v-A)*(v-A)+(_-m)*(_-m));return Math.abs(R)<.001&&(R=1),this.x=(E-T)/R,this.y=(v-A)/R,this.z=(_-m)/R,this.w=Math.acos((p+x+b-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Ve(this.x,t.x,e.x),this.y=Ve(this.y,t.y,e.y),this.z=Ve(this.z,t.z,e.z),this.w=Ve(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=Ve(this.x,t,e),this.y=Ve(this.y,t,e),this.z=Ve(this.z,t,e),this.w=Ve(this.w,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Ve(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class XE extends Fl{constructor(t=1,e=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:la,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=n.depth,this.scissor=new Tn(0,0,t,e),this.scissorTest=!1,this.viewport=new Tn(0,0,t,e);const a={width:t,height:e,depth:n.depth},s=new Ri(a);this.textures=[];const o=n.count;for(let u=0;u<o;u++)this.textures[u]=s.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(t={}){const e={minFilter:la,generateMipmaps:!1,flipY:!1,internalFormat:null};t.mapping!==void 0&&(e.mapping=t.mapping),t.wrapS!==void 0&&(e.wrapS=t.wrapS),t.wrapT!==void 0&&(e.wrapT=t.wrapT),t.wrapR!==void 0&&(e.wrapR=t.wrapR),t.magFilter!==void 0&&(e.magFilter=t.magFilter),t.minFilter!==void 0&&(e.minFilter=t.minFilter),t.format!==void 0&&(e.format=t.format),t.type!==void 0&&(e.type=t.type),t.anisotropy!==void 0&&(e.anisotropy=t.anisotropy),t.colorSpace!==void 0&&(e.colorSpace=t.colorSpace),t.flipY!==void 0&&(e.flipY=t.flipY),t.generateMipmaps!==void 0&&(e.generateMipmaps=t.generateMipmaps),t.internalFormat!==void 0&&(e.internalFormat=t.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(e)}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let a=0,s=this.textures.length;a<s;a++)this.textures[a].image.width=t,this.textures[a].image.height=e,this.textures[a].image.depth=n,this.textures[a].isArrayTexture=this.textures[a].image.depth>1;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,n=t.textures.length;e<n;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const a=Object.assign({},t.textures[e].image);this.textures[e].source=new Xc(a)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class zl extends XE{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class Y1 extends Ri{constructor(t=null,e=1,n=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:a},this.magFilter=Na,this.minFilter=Na,this.wrapR=Kr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class NI extends zl{constructor(t=1,e=1,n=1,a={}){super(t,e,a),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Y1(null,t,e,n),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class j1 extends Ri{constructor(t=null,e=1,n=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:a},this.magFilter=Na,this.minFilter=Na,this.wrapR=Kr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class OI extends zl{constructor(t=1,e=1,n=1,a={}){super(t,e,a),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new j1(null,t,e,n),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class Qa{constructor(t=new K(1/0,1/0,1/0),e=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(Do.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(Do.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Do.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(n!==void 0){const s=n.getAttribute("position");if(e===!0&&s!==void 0&&t.isInstancedMesh!==!0)for(let o=0,u=s.count;o<u;o++)t.isMesh===!0?t.getVertexPosition(o,Do):Do.fromBufferAttribute(s,o),Do.applyMatrix4(t.matrixWorld),this.expandByPoint(Do);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),l_.copy(t.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),l_.copy(n.boundingBox)),l_.applyMatrix4(t.matrixWorld),this.union(l_)}const a=t.children;for(let s=0,o=a.length;s<o;s++)this.expandByObject(a[s],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Do),Do.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Xg),u_.subVectors(this.max,Xg),ap.subVectors(t.a,Xg),sp.subVectors(t.b,Xg),rp.subVectors(t.c,Xg),Uc.subVectors(sp,ap),Lc.subVectors(rp,sp),sh.subVectors(ap,rp);let e=[0,-Uc.z,Uc.y,0,-Lc.z,Lc.y,0,-sh.z,sh.y,Uc.z,0,-Uc.x,Lc.z,0,-Lc.x,sh.z,0,-sh.x,-Uc.y,Uc.x,0,-Lc.y,Lc.x,0,-sh.y,sh.x,0];return!Tb(e,ap,sp,rp,u_)||(e=[1,0,0,0,1,0,0,0,1],!Tb(e,ap,sp,rp,u_))?!1:(c_.crossVectors(Uc,Lc),e=[c_.x,c_.y,c_.z],Tb(e,ap,sp,rp,u_))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Do).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Do).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(hu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),hu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),hu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),hu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),hu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),hu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),hu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),hu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(hu),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(t){return this.min.fromArray(t.min),this.max.fromArray(t.max),this}}const hu=[new K,new K,new K,new K,new K,new K,new K,new K],Do=new K,l_=new Qa,ap=new K,sp=new K,rp=new K,Uc=new K,Lc=new K,sh=new K,Xg=new K,u_=new K,c_=new K,rh=new K;function Tb(i,t,e,n,a){for(let s=0,o=i.length-3;s<=o;s+=3){rh.fromArray(i,s);const u=a.x*Math.abs(rh.x)+a.y*Math.abs(rh.y)+a.z*Math.abs(rh.z),h=t.dot(rh),p=e.dot(rh),m=n.dot(rh);if(Math.max(-Math.max(h,p,m),Math.min(h,p,m))>u)return!1}return!0}const UI=new Qa,qg=new K,Eb=new K;class Oa{constructor(t=new K,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;e!==void 0?n.copy(e):UI.setFromPoints(t).getCenter(n);let a=0;for(let s=0,o=t.length;s<o;s++)a=Math.max(a,n.distanceToSquared(t[s]));return this.radius=Math.sqrt(a),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;qg.subVectors(t,this.center);const e=qg.lengthSq();if(e>this.radius*this.radius){const n=Math.sqrt(e),a=(n-this.radius)*.5;this.center.addScaledVector(qg,a/n),this.radius+=a}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(Eb.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(qg.copy(t.center).add(Eb)),this.expandByPoint(qg.copy(t.center).sub(Eb))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(t){return this.radius=t.radius,this.center.fromArray(t.center),this}}const du=new K,Ab=new K,f_=new K,Pc=new K,wb=new K,h_=new K,Cb=new K;class _m{constructor(t=new K,e=new K(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,du)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=du.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(du.copy(this.origin).addScaledVector(this.direction,e),du.distanceToSquared(t))}distanceSqToSegment(t,e,n,a){Ab.copy(t).add(e).multiplyScalar(.5),f_.copy(e).sub(t).normalize(),Pc.copy(this.origin).sub(Ab);const s=t.distanceTo(e)*.5,o=-this.direction.dot(f_),u=Pc.dot(this.direction),h=-Pc.dot(f_),p=Pc.lengthSq(),m=Math.abs(1-o*o);let v,_,x,T;if(m>0)if(v=o*h-u,_=o*u-h,T=s*m,v>=0)if(_>=-T)if(_<=T){const A=1/m;v*=A,_*=A,x=v*(v+o*_+2*u)+_*(o*v+_+2*h)+p}else _=s,v=Math.max(0,-(o*_+u)),x=-v*v+_*(_+2*h)+p;else _=-s,v=Math.max(0,-(o*_+u)),x=-v*v+_*(_+2*h)+p;else _<=-T?(v=Math.max(0,-(-o*s+u)),_=v>0?-s:Math.min(Math.max(-s,-h),s),x=-v*v+_*(_+2*h)+p):_<=T?(v=0,_=Math.min(Math.max(-s,-h),s),x=_*(_+2*h)+p):(v=Math.max(0,-(o*s+u)),_=v>0?s:Math.min(Math.max(-s,-h),s),x=-v*v+_*(_+2*h)+p);else _=o>0?-s:s,v=Math.max(0,-(o*_+u)),x=-v*v+_*(_+2*h)+p;return n&&n.copy(this.origin).addScaledVector(this.direction,v),a&&a.copy(Ab).addScaledVector(f_,_),x}intersectSphere(t,e){du.subVectors(t.center,this.origin);const n=du.dot(this.direction),a=du.dot(du)-n*n,s=t.radius*t.radius;if(a>s)return null;const o=Math.sqrt(s-a),u=n-o,h=n+o;return h<0?null:u<0?this.at(h,e):this.at(u,e)}intersectsSphere(t){return t.radius<0?!1:this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return n===null?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,a,s,o,u,h;const p=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,_=this.origin;return p>=0?(n=(t.min.x-_.x)*p,a=(t.max.x-_.x)*p):(n=(t.max.x-_.x)*p,a=(t.min.x-_.x)*p),m>=0?(s=(t.min.y-_.y)*m,o=(t.max.y-_.y)*m):(s=(t.max.y-_.y)*m,o=(t.min.y-_.y)*m),n>o||s>a||((s>n||isNaN(n))&&(n=s),(o<a||isNaN(a))&&(a=o),v>=0?(u=(t.min.z-_.z)*v,h=(t.max.z-_.z)*v):(u=(t.max.z-_.z)*v,h=(t.min.z-_.z)*v),n>h||u>a)||((u>n||n!==n)&&(n=u),(h<a||a!==a)&&(a=h),a<0)?null:this.at(n>=0?n:a,e)}intersectsBox(t){return this.intersectBox(t,du)!==null}intersectTriangle(t,e,n,a,s){wb.subVectors(e,t),h_.subVectors(n,t),Cb.crossVectors(wb,h_);let o=this.direction.dot(Cb),u;if(o>0){if(a)return null;u=1}else if(o<0)u=-1,o=-o;else return null;Pc.subVectors(this.origin,t);const h=u*this.direction.dot(h_.crossVectors(Pc,h_));if(h<0)return null;const p=u*this.direction.dot(wb.cross(Pc));if(p<0||h+p>o)return null;const m=-u*Pc.dot(Cb);return m<0?null:this.at(m/o,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ke{constructor(t,e,n,a,s,o,u,h,p,m,v,_,x,T,A,E){ke.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,n,a,s,o,u,h,p,m,v,_,x,T,A,E)}set(t,e,n,a,s,o,u,h,p,m,v,_,x,T,A,E){const b=this.elements;return b[0]=t,b[4]=e,b[8]=n,b[12]=a,b[1]=s,b[5]=o,b[9]=u,b[13]=h,b[2]=p,b[6]=m,b[10]=v,b[14]=_,b[3]=x,b[7]=T,b[11]=A,b[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ke().fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,a=1/op.setFromMatrixColumn(t,0).length(),s=1/op.setFromMatrixColumn(t,1).length(),o=1/op.setFromMatrixColumn(t,2).length();return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a,e[3]=0,e[4]=n[4]*s,e[5]=n[5]*s,e[6]=n[6]*s,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,a=t.y,s=t.z,o=Math.cos(n),u=Math.sin(n),h=Math.cos(a),p=Math.sin(a),m=Math.cos(s),v=Math.sin(s);if(t.order==="XYZ"){const _=o*m,x=o*v,T=u*m,A=u*v;e[0]=h*m,e[4]=-h*v,e[8]=p,e[1]=x+T*p,e[5]=_-A*p,e[9]=-u*h,e[2]=A-_*p,e[6]=T+x*p,e[10]=o*h}else if(t.order==="YXZ"){const _=h*m,x=h*v,T=p*m,A=p*v;e[0]=_+A*u,e[4]=T*u-x,e[8]=o*p,e[1]=o*v,e[5]=o*m,e[9]=-u,e[2]=x*u-T,e[6]=A+_*u,e[10]=o*h}else if(t.order==="ZXY"){const _=h*m,x=h*v,T=p*m,A=p*v;e[0]=_-A*u,e[4]=-o*v,e[8]=T+x*u,e[1]=x+T*u,e[5]=o*m,e[9]=A-_*u,e[2]=-o*p,e[6]=u,e[10]=o*h}else if(t.order==="ZYX"){const _=o*m,x=o*v,T=u*m,A=u*v;e[0]=h*m,e[4]=T*p-x,e[8]=_*p+A,e[1]=h*v,e[5]=A*p+_,e[9]=x*p-T,e[2]=-p,e[6]=u*h,e[10]=o*h}else if(t.order==="YZX"){const _=o*h,x=o*p,T=u*h,A=u*p;e[0]=h*m,e[4]=A-_*v,e[8]=T*v+x,e[1]=v,e[5]=o*m,e[9]=-u*m,e[2]=-p*m,e[6]=x*v+T,e[10]=_-A*v}else if(t.order==="XZY"){const _=o*h,x=o*p,T=u*h,A=u*p;e[0]=h*m,e[4]=-v,e[8]=p*m,e[1]=_*v+A,e[5]=o*m,e[9]=x*v-T,e[2]=T*v-x,e[6]=u*m,e[10]=A*v+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(LI,t,PI)}lookAt(t,e,n){const a=this.elements;return pr.subVectors(t,e),pr.lengthSq()===0&&(pr.z=1),pr.normalize(),zc.crossVectors(n,pr),zc.lengthSq()===0&&(Math.abs(n.z)===1?pr.x+=1e-4:pr.z+=1e-4,pr.normalize(),zc.crossVectors(n,pr)),zc.normalize(),d_.crossVectors(pr,zc),a[0]=zc.x,a[4]=d_.x,a[8]=pr.x,a[1]=zc.y,a[5]=d_.y,a[9]=pr.y,a[2]=zc.z,a[6]=d_.z,a[10]=pr.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,a=e.elements,s=this.elements,o=n[0],u=n[4],h=n[8],p=n[12],m=n[1],v=n[5],_=n[9],x=n[13],T=n[2],A=n[6],E=n[10],b=n[14],R=n[3],D=n[7],N=n[11],U=n[15],P=a[0],F=a[4],V=a[8],L=a[12],B=a[1],W=a[5],$=a[9],it=a[13],ct=a[2],ut=a[6],z=a[10],q=a[14],j=a[3],rt=a[7],k=a[11],nt=a[15];return s[0]=o*P+u*B+h*ct+p*j,s[4]=o*F+u*W+h*ut+p*rt,s[8]=o*V+u*$+h*z+p*k,s[12]=o*L+u*it+h*q+p*nt,s[1]=m*P+v*B+_*ct+x*j,s[5]=m*F+v*W+_*ut+x*rt,s[9]=m*V+v*$+_*z+x*k,s[13]=m*L+v*it+_*q+x*nt,s[2]=T*P+A*B+E*ct+b*j,s[6]=T*F+A*W+E*ut+b*rt,s[10]=T*V+A*$+E*z+b*k,s[14]=T*L+A*it+E*q+b*nt,s[3]=R*P+D*B+N*ct+U*j,s[7]=R*F+D*W+N*ut+U*rt,s[11]=R*V+D*$+N*z+U*k,s[15]=R*L+D*it+N*q+U*nt,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],a=t[8],s=t[12],o=t[1],u=t[5],h=t[9],p=t[13],m=t[2],v=t[6],_=t[10],x=t[14],T=t[3],A=t[7],E=t[11],b=t[15];return T*(+s*h*v-a*p*v-s*u*_+n*p*_+a*u*x-n*h*x)+A*(+e*h*x-e*p*_+s*o*_-a*o*x+a*p*m-s*h*m)+E*(+e*p*v-e*u*x-s*o*v+n*o*x+s*u*m-n*p*m)+b*(-a*u*m-e*h*v+e*u*_+a*o*v-n*o*_+n*h*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const a=this.elements;return t.isVector3?(a[12]=t.x,a[13]=t.y,a[14]=t.z):(a[12]=t,a[13]=e,a[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=t[6],p=t[7],m=t[8],v=t[9],_=t[10],x=t[11],T=t[12],A=t[13],E=t[14],b=t[15],R=v*E*p-A*_*p+A*h*x-u*E*x-v*h*b+u*_*b,D=T*_*p-m*E*p-T*h*x+o*E*x+m*h*b-o*_*b,N=m*A*p-T*v*p+T*u*x-o*A*x-m*u*b+o*v*b,U=T*v*h-m*A*h-T*u*_+o*A*_+m*u*E-o*v*E,P=e*R+n*D+a*N+s*U;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/P;return t[0]=R*F,t[1]=(A*_*s-v*E*s-A*a*x+n*E*x+v*a*b-n*_*b)*F,t[2]=(u*E*s-A*h*s+A*a*p-n*E*p-u*a*b+n*h*b)*F,t[3]=(v*h*s-u*_*s-v*a*p+n*_*p+u*a*x-n*h*x)*F,t[4]=D*F,t[5]=(m*E*s-T*_*s+T*a*x-e*E*x-m*a*b+e*_*b)*F,t[6]=(T*h*s-o*E*s-T*a*p+e*E*p+o*a*b-e*h*b)*F,t[7]=(o*_*s-m*h*s+m*a*p-e*_*p-o*a*x+e*h*x)*F,t[8]=N*F,t[9]=(T*v*s-m*A*s-T*n*x+e*A*x+m*n*b-e*v*b)*F,t[10]=(o*A*s-T*u*s+T*n*p-e*A*p-o*n*b+e*u*b)*F,t[11]=(m*u*s-o*v*s-m*n*p+e*v*p+o*n*x-e*u*x)*F,t[12]=U*F,t[13]=(m*A*a-T*v*a+T*n*_-e*A*_-m*n*E+e*v*E)*F,t[14]=(T*u*a-o*A*a-T*n*h+e*A*h+o*n*E-e*u*E)*F,t[15]=(o*v*a-m*u*a+m*n*h-e*v*h-o*n*_+e*u*_)*F,this}scale(t){const e=this.elements,n=t.x,a=t.y,s=t.z;return e[0]*=n,e[4]*=a,e[8]*=s,e[1]*=n,e[5]*=a,e[9]*=s,e[2]*=n,e[6]*=a,e[10]*=s,e[3]*=n,e[7]*=a,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],a=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,a))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),a=Math.sin(e),s=1-n,o=t.x,u=t.y,h=t.z,p=s*o,m=s*u;return this.set(p*o+n,p*u-a*h,p*h+a*u,0,p*u+a*h,m*u+n,m*h-a*o,0,p*h-a*u,m*h+a*o,s*h*h+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,a,s,o){return this.set(1,n,s,0,t,1,o,0,e,a,1,0,0,0,0,1),this}compose(t,e,n){const a=this.elements,s=e._x,o=e._y,u=e._z,h=e._w,p=s+s,m=o+o,v=u+u,_=s*p,x=s*m,T=s*v,A=o*m,E=o*v,b=u*v,R=h*p,D=h*m,N=h*v,U=n.x,P=n.y,F=n.z;return a[0]=(1-(A+b))*U,a[1]=(x+N)*U,a[2]=(T-D)*U,a[3]=0,a[4]=(x-N)*P,a[5]=(1-(_+b))*P,a[6]=(E+R)*P,a[7]=0,a[8]=(T+D)*F,a[9]=(E-R)*F,a[10]=(1-(_+A))*F,a[11]=0,a[12]=t.x,a[13]=t.y,a[14]=t.z,a[15]=1,this}decompose(t,e,n){const a=this.elements;let s=op.set(a[0],a[1],a[2]).length();const o=op.set(a[4],a[5],a[6]).length(),u=op.set(a[8],a[9],a[10]).length();this.determinant()<0&&(s=-s),t.x=a[12],t.y=a[13],t.z=a[14],No.copy(this);const p=1/s,m=1/o,v=1/u;return No.elements[0]*=p,No.elements[1]*=p,No.elements[2]*=p,No.elements[4]*=m,No.elements[5]*=m,No.elements[6]*=m,No.elements[8]*=v,No.elements[9]*=v,No.elements[10]*=v,e.setFromRotationMatrix(No),n.x=s,n.y=o,n.z=u,this}makePerspective(t,e,n,a,s,o,u=yr,h=!1){const p=this.elements,m=2*s/(e-t),v=2*s/(n-a),_=(e+t)/(e-t),x=(n+a)/(n-a);let T,A;if(h)T=s/(o-s),A=o*s/(o-s);else if(u===yr)T=-(o+s)/(o-s),A=-2*o*s/(o-s);else if(u===$p)T=-o/(o-s),A=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return p[0]=m,p[4]=0,p[8]=_,p[12]=0,p[1]=0,p[5]=v,p[9]=x,p[13]=0,p[2]=0,p[6]=0,p[10]=T,p[14]=A,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(t,e,n,a,s,o,u=yr,h=!1){const p=this.elements,m=2/(e-t),v=2/(n-a),_=-(e+t)/(e-t),x=-(n+a)/(n-a);let T,A;if(h)T=1/(o-s),A=o/(o-s);else if(u===yr)T=-2/(o-s),A=-(o+s)/(o-s);else if(u===$p)T=-1/(o-s),A=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return p[0]=m,p[4]=0,p[8]=0,p[12]=_,p[1]=0,p[5]=v,p[9]=0,p[13]=x,p[2]=0,p[6]=0,p[10]=T,p[14]=A,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let a=0;a<16;a++)if(e[a]!==n[a])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const op=new K,No=new ke,LI=new K(0,0,0),PI=new K(1,1,1),zc=new K,d_=new K,pr=new K,Fw=new ke,Vw=new Ws;class br{constructor(t=0,e=0,n=0,a=br.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=a}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,a=this._order){return this._x=t,this._y=e,this._z=n,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const a=t.elements,s=a[0],o=a[4],u=a[8],h=a[1],p=a[5],m=a[9],v=a[2],_=a[6],x=a[10];switch(e){case"XYZ":this._y=Math.asin(Ve(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,x),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(_,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Ve(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(u,x),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-v,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ve(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-v,x),this._z=Math.atan2(-o,p)):(this._y=0,this._z=Math.atan2(h,s));break;case"ZYX":this._y=Math.asin(-Ve(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(_,x),this._z=Math.atan2(h,s)):(this._x=0,this._z=Math.atan2(-o,p));break;case"YZX":this._z=Math.asin(Ve(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-v,s)):(this._x=0,this._y=Math.atan2(u,x));break;case"XZY":this._z=Math.asin(-Ve(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(_,p),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-m,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,n===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return Fw.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Fw,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Vw.setFromEuler(this),this.setFromQuaternion(Vw,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}br.DEFAULT_ORDER="XYZ";let em=class{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}},zI=0;const Hw=new K,lp=new Ws,pu=new ke,p_=new K,Yg=new K,BI=new K,II=new Ws,Gw=new K(1,0,0),kw=new K(0,1,0),Xw=new K(0,0,1),qw={type:"added"},FI={type:"removed"},up={type:"childadded",child:null},Rb={type:"childremoved",child:null};class En extends Fl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zI++}),this.uuid=xr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=En.DEFAULT_UP.clone();const t=new K,e=new br,n=new Ws,a=new K(1,1,1);function s(){n.setFromEuler(e,!1)}function o(){e.setFromQuaternion(n,void 0,!1)}e._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new ke},normalMatrix:{value:new Je}}),this.matrix=new ke,this.matrixWorld=new ke,this.matrixAutoUpdate=En.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=En.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new em,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return lp.setFromAxisAngle(t,e),this.quaternion.multiply(lp),this}rotateOnWorldAxis(t,e){return lp.setFromAxisAngle(t,e),this.quaternion.premultiply(lp),this}rotateX(t){return this.rotateOnAxis(Gw,t)}rotateY(t){return this.rotateOnAxis(kw,t)}rotateZ(t){return this.rotateOnAxis(Xw,t)}translateOnAxis(t,e){return Hw.copy(t).applyQuaternion(this.quaternion),this.position.add(Hw.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Gw,t)}translateY(t){return this.translateOnAxis(kw,t)}translateZ(t){return this.translateOnAxis(Xw,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(pu.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?p_.copy(t):p_.set(t,e,n);const a=this.parent;this.updateWorldMatrix(!0,!1),Yg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?pu.lookAt(Yg,p_,this.up):pu.lookAt(p_,Yg,this.up),this.quaternion.setFromRotationMatrix(pu),a&&(pu.extractRotation(a.matrixWorld),lp.setFromRotationMatrix(pu),this.quaternion.premultiply(lp.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(qw),up.child=t,this.dispatchEvent(up),up.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(FI),Rb.child=t,this.dispatchEvent(Rb),Rb.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),pu.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),pu.multiply(t.parent.matrixWorld)),t.applyMatrix4(pu),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(qw),up.child=t,this.dispatchEvent(up),up.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,a=this.children.length;n<a;n++){const o=this.children[n].getObjectByProperty(t,e);if(o!==void 0)return o}}getObjectsByProperty(t,e,n=[]){this[t]===e&&n.push(this);const a=this.children;for(let s=0,o=a.length;s<o;s++)a[s].getObjectsByProperty(t,e,n);return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yg,t,BI),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yg,II,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,a=e.length;n<a;n++)e[n].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let n=0,a=e.length;n<a;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,a=e.length;n<a;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(t===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const a=this.children;for(let s=0,o=a.length;s<o;s++)a[s].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(u=>({...u})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(t),a.indirectTexture=this._indirectTexture.toJSON(t),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function s(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(t)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=s(t.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let p=0,m=h.length;p<m;p++){const v=h[p];s(t.shapes,v)}else s(t.shapes,h)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(t.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,p=this.material.length;h<p;h++)u.push(s(t.materials,this.material[h]));a.material=u}else a.material=s(t.materials,this.material);if(this.children.length>0){a.children=[];for(let u=0;u<this.children.length;u++)a.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){a.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];a.animations.push(s(t.animations,h))}}if(e){const u=o(t.geometries),h=o(t.materials),p=o(t.textures),m=o(t.images),v=o(t.shapes),_=o(t.skeletons),x=o(t.animations),T=o(t.nodes);u.length>0&&(n.geometries=u),h.length>0&&(n.materials=h),p.length>0&&(n.textures=p),m.length>0&&(n.images=m),v.length>0&&(n.shapes=v),_.length>0&&(n.skeletons=_),x.length>0&&(n.animations=x),T.length>0&&(n.nodes=T)}return n.object=a,n;function o(u){const h=[];for(const p in u){const m=u[p];delete m.metadata,h.push(m)}return h}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let n=0;n<t.children.length;n++){const a=t.children[n];this.add(a.clone())}return this}}En.DEFAULT_UP=new K(0,1,0);En.DEFAULT_MATRIX_AUTO_UPDATE=!0;En.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Oo=new K,mu=new K,Db=new K,gu=new K,cp=new K,fp=new K,Yw=new K,Nb=new K,Ob=new K,Ub=new K,Lb=new Tn,Pb=new Tn,zb=new Tn;class qs{constructor(t=new K,e=new K,n=new K){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,a){a.subVectors(n,e),Oo.subVectors(t,e),a.cross(Oo);const s=a.lengthSq();return s>0?a.multiplyScalar(1/Math.sqrt(s)):a.set(0,0,0)}static getBarycoord(t,e,n,a,s){Oo.subVectors(a,e),mu.subVectors(n,e),Db.subVectors(t,e);const o=Oo.dot(Oo),u=Oo.dot(mu),h=Oo.dot(Db),p=mu.dot(mu),m=mu.dot(Db),v=o*p-u*u;if(v===0)return s.set(0,0,0),null;const _=1/v,x=(p*h-u*m)*_,T=(o*m-u*h)*_;return s.set(1-x-T,T,x)}static containsPoint(t,e,n,a){return this.getBarycoord(t,e,n,a,gu)===null?!1:gu.x>=0&&gu.y>=0&&gu.x+gu.y<=1}static getInterpolation(t,e,n,a,s,o,u,h){return this.getBarycoord(t,e,n,a,gu)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(s,gu.x),h.addScaledVector(o,gu.y),h.addScaledVector(u,gu.z),h)}static getInterpolatedAttribute(t,e,n,a,s,o){return Lb.setScalar(0),Pb.setScalar(0),zb.setScalar(0),Lb.fromBufferAttribute(t,e),Pb.fromBufferAttribute(t,n),zb.fromBufferAttribute(t,a),o.setScalar(0),o.addScaledVector(Lb,s.x),o.addScaledVector(Pb,s.y),o.addScaledVector(zb,s.z),o}static isFrontFacing(t,e,n,a){return Oo.subVectors(n,e),mu.subVectors(t,e),Oo.cross(mu).dot(a)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,a){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[a]),this}setFromAttributeAndIndices(t,e,n,a){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,a),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Oo.subVectors(this.c,this.b),mu.subVectors(this.a,this.b),Oo.cross(mu).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return qs.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return qs.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,n,a,s){return qs.getInterpolation(t,this.a,this.b,this.c,e,n,a,s)}containsPoint(t){return qs.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return qs.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,a=this.b,s=this.c;let o,u;cp.subVectors(a,n),fp.subVectors(s,n),Nb.subVectors(t,n);const h=cp.dot(Nb),p=fp.dot(Nb);if(h<=0&&p<=0)return e.copy(n);Ob.subVectors(t,a);const m=cp.dot(Ob),v=fp.dot(Ob);if(m>=0&&v<=m)return e.copy(a);const _=h*v-m*p;if(_<=0&&h>=0&&m<=0)return o=h/(h-m),e.copy(n).addScaledVector(cp,o);Ub.subVectors(t,s);const x=cp.dot(Ub),T=fp.dot(Ub);if(T>=0&&x<=T)return e.copy(s);const A=x*p-h*T;if(A<=0&&p>=0&&T<=0)return u=p/(p-T),e.copy(n).addScaledVector(fp,u);const E=m*T-x*v;if(E<=0&&v-m>=0&&x-T>=0)return Yw.subVectors(s,a),u=(v-m)/(v-m+(x-T)),e.copy(a).addScaledVector(Yw,u);const b=1/(E+A+_);return o=A*b,u=_*b,e.copy(n).addScaledVector(cp,o).addScaledVector(fp,u)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const ZN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bc={h:0,s:0,l:0},m_={h:0,s:0,l:0};function Bb(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*6*(2/3-e):i}class pe{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(e===void 0&&n===void 0){const a=t;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=ja){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,_n.colorSpaceToWorking(this,e),this}setRGB(t,e,n,a=_n.workingColorSpace){return this.r=t,this.g=e,this.b=n,_n.colorSpaceToWorking(this,a),this}setHSL(t,e,n,a=_n.workingColorSpace){if(t=kE(t,1),e=Ve(e,0,1),n=Ve(n,0,1),e===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+e):n+e-n*e,o=2*n-s;this.r=Bb(o,s,t+1/3),this.g=Bb(o,s,t),this.b=Bb(o,s,t-1/3)}return _n.colorSpaceToWorking(this,a),this}setStyle(t,e=ja){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(t)){let s;const o=a[1],u=a[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,e);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,e);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=a[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,e);if(o===6)return this.setHex(parseInt(s,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=ja){const n=ZN[t.toLowerCase()];return n!==void 0?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Au(t.r),this.g=Au(t.g),this.b=Au(t.b),this}copyLinearToSRGB(t){return this.r=kp(t.r),this.g=kp(t.g),this.b=kp(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=ja){return _n.workingToColorSpace(qa.copy(this),t),Math.round(Ve(qa.r*255,0,255))*65536+Math.round(Ve(qa.g*255,0,255))*256+Math.round(Ve(qa.b*255,0,255))}getHexString(t=ja){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=_n.workingColorSpace){_n.workingToColorSpace(qa.copy(this),e);const n=qa.r,a=qa.g,s=qa.b,o=Math.max(n,a,s),u=Math.min(n,a,s);let h,p;const m=(u+o)/2;if(u===o)h=0,p=0;else{const v=o-u;switch(p=m<=.5?v/(o+u):v/(2-o-u),o){case n:h=(a-s)/v+(a<s?6:0);break;case a:h=(s-n)/v+2;break;case s:h=(n-a)/v+4;break}h/=6}return t.h=h,t.s=p,t.l=m,t}getRGB(t,e=_n.workingColorSpace){return _n.workingToColorSpace(qa.copy(this),e),t.r=qa.r,t.g=qa.g,t.b=qa.b,t}getStyle(t=ja){_n.workingToColorSpace(qa.copy(this),t);const e=qa.r,n=qa.g,a=qa.b;return t!==ja?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(n*255)},${Math.round(a*255)})`}offsetHSL(t,e,n){return this.getHSL(Bc),this.setHSL(Bc.h+t,Bc.s+e,Bc.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(Bc),t.getHSL(m_);const n=y0(Bc.h,m_.h,e),a=y0(Bc.s,m_.s,e),s=y0(Bc.l,m_.l,e);return this.setHSL(n,a,s),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,a=this.b,s=t.elements;return this.r=s[0]*e+s[3]*n+s[6]*a,this.g=s[1]*e+s[4]*n+s[7]*a,this.b=s[2]*e+s[5]*n+s[8]*a,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const qa=new pe;pe.NAMES=ZN;let VI=0;class $a extends Fl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:VI++}),this.uuid=xr(),this.name="",this.type="Material",this.blending=Ph,this.side=Cu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ax,this.blendDst=wx,this.blendEquation=Gc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new pe(0,0,0),this.blendAlpha=0,this.depthFunc=Xh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=uT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=bh,this.stencilZFail=bh,this.stencilZPass=bh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const n=t[e];if(n===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const a=this[e];if(a===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(n):a&&a.isVector3&&n&&n.isVector3?a.copy(n):this[e]=n}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(t).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(t).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Ph&&(n.blending=this.blending),this.side!==Cu&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Ax&&(n.blendSrc=this.blendSrc),this.blendDst!==wx&&(n.blendDst=this.blendDst),this.blendEquation!==Gc&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Xh&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==uT&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==bh&&(n.stencilFail=this.stencilFail),this.stencilZFail!==bh&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==bh&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function a(s){const o=[];for(const u in s){const h=s[u];delete h.metadata,o.push(h)}return o}if(e){const s=a(t.textures),o=a(t.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(e!==null){const a=e.length;n=new Array(a);for(let s=0;s!==a;++s)n[s]=e[s].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class lf extends $a{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new pe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new br,this.combine=pv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Mu=HI();function HI(){const i=new ArrayBuffer(4),t=new Float32Array(i),e=new Uint32Array(i),n=new Uint32Array(512),a=new Uint32Array(512);for(let h=0;h<256;++h){const p=h-127;p<-27?(n[h]=0,n[h|256]=32768,a[h]=24,a[h|256]=24):p<-14?(n[h]=1024>>-p-14,n[h|256]=1024>>-p-14|32768,a[h]=-p-1,a[h|256]=-p-1):p<=15?(n[h]=p+15<<10,n[h|256]=p+15<<10|32768,a[h]=13,a[h|256]=13):p<128?(n[h]=31744,n[h|256]=64512,a[h]=24,a[h|256]=24):(n[h]=31744,n[h|256]=64512,a[h]=13,a[h|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),u=new Uint32Array(64);for(let h=1;h<1024;++h){let p=h<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,s[h]=p|m}for(let h=1024;h<2048;++h)s[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)o[h]=h<<23;o[31]=1199570944,o[32]=2147483648;for(let h=33;h<63;++h)o[h]=2147483648+(h-32<<23);o[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(u[h]=1024);return{floatView:t,uint32View:e,baseTable:n,shiftTable:a,mantissaTable:s,exponentTable:o,offsetTable:u}}function Xs(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=Ve(i,-65504,65504),Mu.floatView[0]=i;const t=Mu.uint32View[0],e=t>>23&511;return Mu.baseTable[e]+((t&8388607)>>Mu.shiftTable[e])}function a0(i){const t=i>>10;return Mu.uint32View[0]=Mu.mantissaTable[Mu.offsetTable[t]+(i&1023)]+Mu.exponentTable[t],Mu.floatView[0]}class GI{static toHalfFloat(t){return Xs(t)}static fromHalfFloat(t){return a0(t)}}const qi=new K,g_=new Ht;let kI=0;class qn{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:kI++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=n,this.usage=V0,this.updateRanges=[],this.gpuType=Ys,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let a=0,s=this.itemSize;a<s;a++)this.array[t+a]=e.array[n+a];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,n=this.count;e<n;e++)g_.fromBufferAttribute(this,e),g_.applyMatrix3(t),this.setXY(e,g_.x,g_.y);else if(this.itemSize===3)for(let e=0,n=this.count;e<n;e++)qi.fromBufferAttribute(this,e),qi.applyMatrix3(t),this.setXYZ(e,qi.x,qi.y,qi.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)qi.fromBufferAttribute(this,e),qi.applyMatrix4(t),this.setXYZ(e,qi.x,qi.y,qi.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)qi.fromBufferAttribute(this,e),qi.applyNormalMatrix(t),this.setXYZ(e,qi.x,qi.y,qi.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)qi.fromBufferAttribute(this,e),qi.transformDirection(t),this.setXYZ(e,qi.x,qi.y,qi.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=bs(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=tn(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=bs(e,this.array)),e}setX(t,e){return this.normalized&&(e=tn(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=bs(e,this.array)),e}setY(t,e){return this.normalized&&(e=tn(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=bs(e,this.array)),e}setZ(t,e){return this.normalized&&(e=tn(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=bs(e,this.array)),e}setW(t,e){return this.normalized&&(e=tn(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=tn(e,this.array),n=tn(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,a){return t*=this.itemSize,this.normalized&&(e=tn(e,this.array),n=tn(n,this.array),a=tn(a,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=a,this}setXYZW(t,e,n,a,s){return t*=this.itemSize,this.normalized&&(e=tn(e,this.array),n=tn(n,this.array),a=tn(a,this.array),s=tn(s,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=a,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==V0&&(t.usage=this.usage),t}}class XI extends qn{constructor(t,e,n){super(new Int8Array(t),e,n)}}class qI extends qn{constructor(t,e,n){super(new Uint8Array(t),e,n)}}class YI extends qn{constructor(t,e,n){super(new Uint8ClampedArray(t),e,n)}}class jI extends qn{constructor(t,e,n){super(new Int16Array(t),e,n)}}class qE extends qn{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class WI extends qn{constructor(t,e,n){super(new Int32Array(t),e,n)}}class YE extends qn{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class ZI extends qn{constructor(t,e,n){super(new Uint16Array(t),e,n),this.isFloat16BufferAttribute=!0}getX(t){let e=a0(this.array[t*this.itemSize]);return this.normalized&&(e=bs(e,this.array)),e}setX(t,e){return this.normalized&&(e=tn(e,this.array)),this.array[t*this.itemSize]=Xs(e),this}getY(t){let e=a0(this.array[t*this.itemSize+1]);return this.normalized&&(e=bs(e,this.array)),e}setY(t,e){return this.normalized&&(e=tn(e,this.array)),this.array[t*this.itemSize+1]=Xs(e),this}getZ(t){let e=a0(this.array[t*this.itemSize+2]);return this.normalized&&(e=bs(e,this.array)),e}setZ(t,e){return this.normalized&&(e=tn(e,this.array)),this.array[t*this.itemSize+2]=Xs(e),this}getW(t){let e=a0(this.array[t*this.itemSize+3]);return this.normalized&&(e=bs(e,this.array)),e}setW(t,e){return this.normalized&&(e=tn(e,this.array)),this.array[t*this.itemSize+3]=Xs(e),this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=tn(e,this.array),n=tn(n,this.array)),this.array[t+0]=Xs(e),this.array[t+1]=Xs(n),this}setXYZ(t,e,n,a){return t*=this.itemSize,this.normalized&&(e=tn(e,this.array),n=tn(n,this.array),a=tn(a,this.array)),this.array[t+0]=Xs(e),this.array[t+1]=Xs(n),this.array[t+2]=Xs(a),this}setXYZW(t,e,n,a,s){return t*=this.itemSize,this.normalized&&(e=tn(e,this.array),n=tn(n,this.array),a=tn(a,this.array),s=tn(s,this.array)),this.array[t+0]=Xs(e),this.array[t+1]=Xs(n),this.array[t+2]=Xs(a),this.array[t+3]=Xs(s),this}}class xe extends qn{constructor(t,e,n){super(new Float32Array(t),e,n)}}let KI=0;const qr=new ke,Ib=new En,hp=new K,mr=new Qa,jg=new Qa,ya=new K;class en extends Fl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:KI++}),this.uuid=xr(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(YN(t)?YE:qE)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new Je().getNormalMatrix(t);n.applyNormalMatrix(s),n.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(t),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return qr.makeRotationFromQuaternion(t),this.applyMatrix4(qr),this}rotateX(t){return qr.makeRotationX(t),this.applyMatrix4(qr),this}rotateY(t){return qr.makeRotationY(t),this.applyMatrix4(qr),this}rotateZ(t){return qr.makeRotationZ(t),this.applyMatrix4(qr),this}translate(t,e,n){return qr.makeTranslation(t,e,n),this.applyMatrix4(qr),this}scale(t,e,n){return qr.makeScale(t,e,n),this.applyMatrix4(qr),this}lookAt(t){return Ib.lookAt(t),Ib.updateMatrix(),this.applyMatrix4(Ib.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(hp).negate(),this.translate(hp.x,hp.y,hp.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const n=[];for(let a=0,s=t.length;a<s;a++){const o=t[a];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new xe(n,3))}else{const n=Math.min(t.length,e.count);for(let a=0;a<n;a++){const s=t[a];e.setXYZ(a,s.x,s.y,s.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qa);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,a=e.length;n<a;n++){const s=e[n];mr.setFromBufferAttribute(s),this.morphTargetsRelative?(ya.addVectors(this.boundingBox.min,mr.min),this.boundingBox.expandByPoint(ya),ya.addVectors(this.boundingBox.max,mr.max),this.boundingBox.expandByPoint(ya)):(this.boundingBox.expandByPoint(mr.min),this.boundingBox.expandByPoint(mr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Oa);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new K,1/0);return}if(t){const n=this.boundingSphere.center;if(mr.setFromBufferAttribute(t),e)for(let s=0,o=e.length;s<o;s++){const u=e[s];jg.setFromBufferAttribute(u),this.morphTargetsRelative?(ya.addVectors(mr.min,jg.min),mr.expandByPoint(ya),ya.addVectors(mr.max,jg.max),mr.expandByPoint(ya)):(mr.expandByPoint(jg.min),mr.expandByPoint(jg.max))}mr.getCenter(n);let a=0;for(let s=0,o=t.count;s<o;s++)ya.fromBufferAttribute(t,s),a=Math.max(a,n.distanceToSquared(ya));if(e)for(let s=0,o=e.length;s<o;s++){const u=e[s],h=this.morphTargetsRelative;for(let p=0,m=u.count;p<m;p++)ya.fromBufferAttribute(u,p),h&&(hp.fromBufferAttribute(t,p),ya.add(hp)),a=Math.max(a,n.distanceToSquared(ya))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.position,a=e.normal,s=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new qn(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),u=[],h=[];for(let V=0;V<n.count;V++)u[V]=new K,h[V]=new K;const p=new K,m=new K,v=new K,_=new Ht,x=new Ht,T=new Ht,A=new K,E=new K;function b(V,L,B){p.fromBufferAttribute(n,V),m.fromBufferAttribute(n,L),v.fromBufferAttribute(n,B),_.fromBufferAttribute(s,V),x.fromBufferAttribute(s,L),T.fromBufferAttribute(s,B),m.sub(p),v.sub(p),x.sub(_),T.sub(_);const W=1/(x.x*T.y-T.x*x.y);isFinite(W)&&(A.copy(m).multiplyScalar(T.y).addScaledVector(v,-x.y).multiplyScalar(W),E.copy(v).multiplyScalar(x.x).addScaledVector(m,-T.x).multiplyScalar(W),u[V].add(A),u[L].add(A),u[B].add(A),h[V].add(E),h[L].add(E),h[B].add(E))}let R=this.groups;R.length===0&&(R=[{start:0,count:t.count}]);for(let V=0,L=R.length;V<L;++V){const B=R[V],W=B.start,$=B.count;for(let it=W,ct=W+$;it<ct;it+=3)b(t.getX(it+0),t.getX(it+1),t.getX(it+2))}const D=new K,N=new K,U=new K,P=new K;function F(V){U.fromBufferAttribute(a,V),P.copy(U);const L=u[V];D.copy(L),D.sub(U.multiplyScalar(U.dot(L))).normalize(),N.crossVectors(P,L);const W=N.dot(h[V])<0?-1:1;o.setXYZW(V,D.x,D.y,D.z,W)}for(let V=0,L=R.length;V<L;++V){const B=R[V],W=B.start,$=B.count;for(let it=W,ct=W+$;it<ct;it+=3)F(t.getX(it+0)),F(t.getX(it+1)),F(t.getX(it+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new qn(new Float32Array(e.count*3),3),this.setAttribute("normal",n);else for(let _=0,x=n.count;_<x;_++)n.setXYZ(_,0,0,0);const a=new K,s=new K,o=new K,u=new K,h=new K,p=new K,m=new K,v=new K;if(t)for(let _=0,x=t.count;_<x;_+=3){const T=t.getX(_+0),A=t.getX(_+1),E=t.getX(_+2);a.fromBufferAttribute(e,T),s.fromBufferAttribute(e,A),o.fromBufferAttribute(e,E),m.subVectors(o,s),v.subVectors(a,s),m.cross(v),u.fromBufferAttribute(n,T),h.fromBufferAttribute(n,A),p.fromBufferAttribute(n,E),u.add(m),h.add(m),p.add(m),n.setXYZ(T,u.x,u.y,u.z),n.setXYZ(A,h.x,h.y,h.z),n.setXYZ(E,p.x,p.y,p.z)}else for(let _=0,x=e.count;_<x;_+=3)a.fromBufferAttribute(e,_+0),s.fromBufferAttribute(e,_+1),o.fromBufferAttribute(e,_+2),m.subVectors(o,s),v.subVectors(a,s),m.cross(v),n.setXYZ(_+0,m.x,m.y,m.z),n.setXYZ(_+1,m.x,m.y,m.z),n.setXYZ(_+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)ya.fromBufferAttribute(t,e),ya.normalize(),t.setXYZ(e,ya.x,ya.y,ya.z)}toNonIndexed(){function t(u,h){const p=u.array,m=u.itemSize,v=u.normalized,_=new p.constructor(h.length*m);let x=0,T=0;for(let A=0,E=h.length;A<E;A++){u.isInterleavedBufferAttribute?x=h[A]*u.data.stride+u.offset:x=h[A]*m;for(let b=0;b<m;b++)_[T++]=p[x++]}return new qn(_,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new en,n=this.index.array,a=this.attributes;for(const u in a){const h=a[u],p=t(h,n);e.setAttribute(u,p)}const s=this.morphAttributes;for(const u in s){const h=[],p=s[u];for(let m=0,v=p.length;m<v;m++){const _=p[m],x=t(_,n);h.push(x)}e.morphAttributes[u]=h}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let u=0,h=o.length;u<h;u++){const p=o[u];e.addGroup(p.start,p.count,p.materialIndex)}return e}toJSON(){const t={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(t[p]=h[p]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const h in n){const p=n[h];t.data.attributes[h]=p.toJSON(t.data)}const a={};let s=!1;for(const h in this.morphAttributes){const p=this.morphAttributes[h],m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v];m.push(x.toJSON(t.data))}m.length>0&&(a[h]=m,s=!0)}s&&(t.data.morphAttributes=a,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const u=this.boundingSphere;return u!==null&&(t.data.boundingSphere=u.toJSON()),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;n!==null&&this.setIndex(n.clone());const a=t.attributes;for(const p in a){const m=a[p];this.setAttribute(p,m.clone(e))}const s=t.morphAttributes;for(const p in s){const m=[],v=s[p];for(let _=0,x=v.length;_<x;_++)m.push(v[_].clone(e));this.morphAttributes[p]=m}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let p=0,m=o.length;p<m;p++){const v=o[p];this.addGroup(v.start,v.count,v.materialIndex)}const u=t.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=t.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const jw=new ke,oh=new _m,v_=new Oa,Ww=new K,y_=new K,__=new K,x_=new K,Fb=new K,S_=new K,Zw=new K,b_=new K;class Zi extends En{constructor(t=new en,e=new lf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const a=e[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=a.length;s<o;s++){const u=a[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}getVertexPosition(t,e){const n=this.geometry,a=n.attributes.position,s=n.morphAttributes.position,o=n.morphTargetsRelative;e.fromBufferAttribute(a,t);const u=this.morphTargetInfluences;if(s&&u){S_.set(0,0,0);for(let h=0,p=s.length;h<p;h++){const m=u[h],v=s[h];m!==0&&(Fb.fromBufferAttribute(v,t),o?S_.addScaledVector(Fb,m):S_.addScaledVector(Fb.sub(e),m))}e.add(S_)}return e}raycast(t,e){const n=this.geometry,a=this.material,s=this.matrixWorld;a!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),v_.copy(n.boundingSphere),v_.applyMatrix4(s),oh.copy(t.ray).recast(t.near),!(v_.containsPoint(oh.origin)===!1&&(oh.intersectSphere(v_,Ww)===null||oh.origin.distanceToSquared(Ww)>(t.far-t.near)**2))&&(jw.copy(s).invert(),oh.copy(t.ray).applyMatrix4(jw),!(n.boundingBox!==null&&oh.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(t,e,oh)))}_computeIntersections(t,e,n){let a;const s=this.geometry,o=this.material,u=s.index,h=s.attributes.position,p=s.attributes.uv,m=s.attributes.uv1,v=s.attributes.normal,_=s.groups,x=s.drawRange;if(u!==null)if(Array.isArray(o))for(let T=0,A=_.length;T<A;T++){const E=_[T],b=o[E.materialIndex],R=Math.max(E.start,x.start),D=Math.min(u.count,Math.min(E.start+E.count,x.start+x.count));for(let N=R,U=D;N<U;N+=3){const P=u.getX(N),F=u.getX(N+1),V=u.getX(N+2);a=M_(this,b,t,n,p,m,v,P,F,V),a&&(a.faceIndex=Math.floor(N/3),a.face.materialIndex=E.materialIndex,e.push(a))}}else{const T=Math.max(0,x.start),A=Math.min(u.count,x.start+x.count);for(let E=T,b=A;E<b;E+=3){const R=u.getX(E),D=u.getX(E+1),N=u.getX(E+2);a=M_(this,o,t,n,p,m,v,R,D,N),a&&(a.faceIndex=Math.floor(E/3),e.push(a))}}else if(h!==void 0)if(Array.isArray(o))for(let T=0,A=_.length;T<A;T++){const E=_[T],b=o[E.materialIndex],R=Math.max(E.start,x.start),D=Math.min(h.count,Math.min(E.start+E.count,x.start+x.count));for(let N=R,U=D;N<U;N+=3){const P=N,F=N+1,V=N+2;a=M_(this,b,t,n,p,m,v,P,F,V),a&&(a.faceIndex=Math.floor(N/3),a.face.materialIndex=E.materialIndex,e.push(a))}}else{const T=Math.max(0,x.start),A=Math.min(h.count,x.start+x.count);for(let E=T,b=A;E<b;E+=3){const R=E,D=E+1,N=E+2;a=M_(this,o,t,n,p,m,v,R,D,N),a&&(a.faceIndex=Math.floor(E/3),e.push(a))}}}}function QI(i,t,e,n,a,s,o,u){let h;if(t.side===Es?h=n.intersectTriangle(o,s,a,!0,u):h=n.intersectTriangle(a,s,o,t.side===Cu,u),h===null)return null;b_.copy(u),b_.applyMatrix4(i.matrixWorld);const p=e.ray.origin.distanceTo(b_);return p<e.near||p>e.far?null:{distance:p,point:b_.clone(),object:i}}function M_(i,t,e,n,a,s,o,u,h,p){i.getVertexPosition(u,y_),i.getVertexPosition(h,__),i.getVertexPosition(p,x_);const m=QI(i,t,e,n,y_,__,x_,Zw);if(m){const v=new K;qs.getBarycoord(Zw,y_,__,x_,v),a&&(m.uv=qs.getInterpolatedAttribute(a,u,h,p,v,new Ht)),s&&(m.uv1=qs.getInterpolatedAttribute(s,u,h,p,v,new Ht)),o&&(m.normal=qs.getInterpolatedAttribute(o,u,h,p,v,new K),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const _={a:u,b:h,c:p,normal:new K,materialIndex:0};qs.getNormal(y_,__,x_,_.normal),m.face=_,m.barycoord=v}return m}class Jh extends en{constructor(t=1,e=1,n=1,a=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:a,heightSegments:s,depthSegments:o};const u=this;a=Math.floor(a),s=Math.floor(s),o=Math.floor(o);const h=[],p=[],m=[],v=[];let _=0,x=0;T("z","y","x",-1,-1,n,e,t,o,s,0),T("z","y","x",1,-1,n,e,-t,o,s,1),T("x","z","y",1,1,t,n,e,a,o,2),T("x","z","y",1,-1,t,n,-e,a,o,3),T("x","y","z",1,-1,t,e,n,a,s,4),T("x","y","z",-1,-1,t,e,-n,a,s,5),this.setIndex(h),this.setAttribute("position",new xe(p,3)),this.setAttribute("normal",new xe(m,3)),this.setAttribute("uv",new xe(v,2));function T(A,E,b,R,D,N,U,P,F,V,L){const B=N/F,W=U/V,$=N/2,it=U/2,ct=P/2,ut=F+1,z=V+1;let q=0,j=0;const rt=new K;for(let k=0;k<z;k++){const nt=k*W-it;for(let _t=0;_t<ut;_t++){const wt=_t*B-$;rt[A]=wt*R,rt[E]=nt*D,rt[b]=ct,p.push(rt.x,rt.y,rt.z),rt[A]=0,rt[E]=0,rt[b]=P>0?1:-1,m.push(rt.x,rt.y,rt.z),v.push(_t/F),v.push(1-k/V),q+=1}}for(let k=0;k<V;k++)for(let nt=0;nt<F;nt++){const _t=_+nt+ut*k,wt=_+nt+ut*(k+1),Rt=_+(nt+1)+ut*(k+1),qt=_+(nt+1)+ut*k;h.push(_t,wt,qt),h.push(wt,Rt,qt),j+=6}u.addGroup(x,j,L),x+=j,_+=q}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Jh(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function nm(i){const t={};for(const e in i){t[e]={};for(const n in i[e]){const a=i[e][n];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][n]=null):t[e][n]=a.clone():Array.isArray(a)?t[e][n]=a.slice():t[e][n]=a}}return t}function xs(i){const t={};for(let e=0;e<i.length;e++){const n=nm(i[e]);for(const a in n)t[a]=n[a]}return t}function JI(i){const t=[];for(let e=0;e<i.length;e++)t.push(i[e].clone());return t}function KN(i){const t=i.getRenderTarget();return t===null?i.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:_n.workingColorSpace}const QN={clone:nm,merge:xs};var $I=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,t6=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Io extends $a{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=$I,this.fragmentShader=t6,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=nm(t.uniforms),this.uniformsGroups=JI(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const a in this.uniforms){const o=this.uniforms[a].value;o&&o.isTexture?e.uniforms[a]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[a]={type:"m4",value:o.toArray()}:e.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const a in this.extensions)this.extensions[a]===!0&&(n[a]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class W1 extends En{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ke,this.projectionMatrix=new ke,this.projectionMatrixInverse=new ke,this.coordinateSystem=yr,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ic=new K,Kw=new Ht,Qw=new Ht;class _a extends W1{constructor(t=50,e=1,n=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=a,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=tm*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(zh*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return tm*2*Math.atan(Math.tan(zh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,n){Ic.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Ic.x,Ic.y).multiplyScalar(-t/Ic.z),Ic.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ic.x,Ic.y).multiplyScalar(-t/Ic.z)}getViewSize(t,e){return this.getViewBounds(t,Kw,Qw),e.subVectors(Qw,Kw)}setViewOffset(t,e,n,a,s,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=a,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(zh*.5*this.fov)/this.zoom,n=2*e,a=this.aspect*n,s=-.5*a;const o=this.view;if(this.view!==null&&this.view.enabled){const h=o.fullWidth,p=o.fullHeight;s+=o.offsetX*a/h,e-=o.offsetY*n/p,a*=o.width/h,n*=o.height/p}const u=this.filmOffset;u!==0&&(s+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+a,e,e-n,t,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const dp=-90,pp=1;class JN extends En{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new _a(dp,pp,t,e);a.layers=this.layers,this.add(a);const s=new _a(dp,pp,t,e);s.layers=this.layers,this.add(s);const o=new _a(dp,pp,t,e);o.layers=this.layers,this.add(o);const u=new _a(dp,pp,t,e);u.layers=this.layers,this.add(u);const h=new _a(dp,pp,t,e);h.layers=this.layers,this.add(h);const p=new _a(dp,pp,t,e);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,a,s,o,u,h]=e;for(const p of e)this.remove(p);if(t===yr)n.up.set(0,1,0),n.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(t===$p)n.up.set(0,-1,0),n.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const p of e)this.add(p),p.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:a}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[s,o,u,h,p,m]=this.children,v=t.getRenderTarget(),_=t.getActiveCubeFace(),x=t.getActiveMipmapLevel(),T=t.xr.enabled;t.xr.enabled=!1;const A=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,a),t.render(e,s),t.setRenderTarget(n,1,a),t.render(e,o),t.setRenderTarget(n,2,a),t.render(e,u),t.setRenderTarget(n,3,a),t.render(e,h),t.setRenderTarget(n,4,a),t.render(e,p),n.texture.generateMipmaps=A,t.setRenderTarget(n,5,a),t.render(e,m),t.setRenderTarget(v,_,x),t.xr.enabled=T,n.texture.needsPMREMUpdate=!0}}class gv extends Ri{constructor(t=[],e=Ru,n,a,s,o,u,h,p,m){super(t,e,n,a,s,o,u,h,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class $N extends zl{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},a=[n,n,n,n,n,n];this.texture=new gv(a),this._setTextureOptions(e),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Jh(5,5,5),s=new Io({name:"CubemapFromEquirect",uniforms:nm(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Es,blending:Eu});s.uniforms.tEquirect.value=e;const o=new Zi(a,s),u=e.minFilter;return e.minFilter===wl&&(e.minFilter=la),new JN(1,10,this).update(t,o),e.minFilter=u,o.geometry.dispose(),o.material.dispose(),this}clear(t,e=!0,n=!0,a=!0){const s=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,n,a);t.setRenderTarget(s)}}class Op extends En{constructor(){super(),this.isGroup=!0,this.type="Group"}}const e6={type:"move"};class hx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Op,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Op,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Op,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,n){let a=null,s=null,o=null;const u=this._targetRay,h=this._grip,p=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(p&&t.hand){o=!0;for(const A of t.hand.values()){const E=e.getJointPose(A,n),b=this._getHandJoint(p,A);E!==null&&(b.matrix.fromArray(E.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=E.radius),b.visible=E!==null}const m=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],_=m.position.distanceTo(v.position),x=.02,T=.005;p.inputState.pinching&&_>x+T?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!p.inputState.pinching&&_<=x-T&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else h!==null&&t.gripSpace&&(s=e.getPose(t.gripSpace,n),s!==null&&(h.matrix.fromArray(s.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,s.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(s.linearVelocity)):h.hasLinearVelocity=!1,s.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(s.angularVelocity)):h.hasAngularVelocity=!1));u!==null&&(a=e.getPose(t.targetRaySpace,n),a===null&&s!==null&&(a=s),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(e6)))}return u!==null&&(u.visible=a!==null),h!==null&&(h.visible=s!==null),p!==null&&(p.visible=o!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const n=new Op;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}class Z1{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new pe(t),this.density=e}clone(){return new Z1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class K1{constructor(t,e=1,n=1e3){this.isFog=!0,this.name="",this.color=new pe(t),this.near=e,this.far=n}clone(){return new K1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class jE extends En{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new br,this.environmentIntensity=1,this.environmentRotation=new br,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class Q1{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=V0,this.updateRanges=[],this.version=0,this.uuid=xr()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let a=0,s=this.stride;a<s;a++)this.array[t+a]=e.array[n+a];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xr()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xr()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _s=new K;class qh{constructor(t,e,n,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)_s.fromBufferAttribute(this,e),_s.applyMatrix4(t),this.setXYZ(e,_s.x,_s.y,_s.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)_s.fromBufferAttribute(this,e),_s.applyNormalMatrix(t),this.setXYZ(e,_s.x,_s.y,_s.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)_s.fromBufferAttribute(this,e),_s.transformDirection(t),this.setXYZ(e,_s.x,_s.y,_s.z);return this}getComponent(t,e){let n=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(n=bs(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=tn(n,this.array)),this.data.array[t*this.data.stride+this.offset+e]=n,this}setX(t,e){return this.normalized&&(e=tn(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=tn(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=tn(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=tn(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=bs(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=bs(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=bs(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=bs(e,this.array)),e}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=tn(e,this.array),n=tn(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,a){return t=t*this.data.stride+this.offset,this.normalized&&(e=tn(e,this.array),n=tn(n,this.array),a=tn(a,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=a,this}setXYZW(t,e,n,a,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=tn(e,this.array),n=tn(n,this.array),a=tn(a,this.array),s=tn(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=a,this.data.array[t+3]=s,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const a=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[a+s])}return new qn(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new qh(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const a=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[a+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class WE extends $a{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new pe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let mp;const Wg=new K,gp=new K,vp=new K,yp=new Ht,Zg=new Ht,tO=new ke,T_=new K,Kg=new K,E_=new K,Jw=new Ht,Vb=new Ht,$w=new Ht;class eO extends En{constructor(t=new WE){if(super(),this.isSprite=!0,this.type="Sprite",mp===void 0){mp=new en;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Q1(e,5);mp.setIndex([0,1,2,0,2,3]),mp.setAttribute("position",new qh(n,3,0,!1)),mp.setAttribute("uv",new qh(n,2,3,!1))}this.geometry=mp,this.material=t,this.center=new Ht(.5,.5),this.count=1}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),gp.setFromMatrixScale(this.matrixWorld),tO.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),vp.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&gp.multiplyScalar(-vp.z);const n=this.material.rotation;let a,s;n!==0&&(s=Math.cos(n),a=Math.sin(n));const o=this.center;A_(T_.set(-.5,-.5,0),vp,o,gp,a,s),A_(Kg.set(.5,-.5,0),vp,o,gp,a,s),A_(E_.set(.5,.5,0),vp,o,gp,a,s),Jw.set(0,0),Vb.set(1,0),$w.set(1,1);let u=t.ray.intersectTriangle(T_,Kg,E_,!1,Wg);if(u===null&&(A_(Kg.set(-.5,.5,0),vp,o,gp,a,s),Vb.set(0,1),u=t.ray.intersectTriangle(T_,E_,Kg,!1,Wg),u===null))return;const h=t.ray.origin.distanceTo(Wg);h<t.near||h>t.far||e.push({distance:h,point:Wg.clone(),uv:qs.getInterpolation(Wg,T_,Kg,E_,Jw,Vb,$w,new Ht),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function A_(i,t,e,n,a,s){yp.subVectors(i,e).addScalar(.5).multiply(n),a!==void 0?(Zg.x=s*yp.x-a*yp.y,Zg.y=a*yp.x+s*yp.y):Zg.copy(yp),i.copy(t),i.x+=Zg.x,i.y+=Zg.y,i.applyMatrix4(tO)}const w_=new K,tC=new K;class nO extends En{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let n=0,a=e.length;n<a;n++){const s=e[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,n=0){e=Math.abs(e);const a=this.levels;let s;for(s=0;s<a.length&&!(e<a[s].distance);s++);return a.splice(s,0,{distance:e,hysteresis:n,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let n=0;n<e.length;n++)if(e[n].distance===t){const a=e.splice(n,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let n,a;for(n=1,a=e.length;n<a;n++){let s=e[n].distance;if(e[n].object.visible&&(s-=s*e[n].hysteresis),t<s)break}return e[n-1].object}return null}raycast(t,e){if(this.levels.length>0){w_.setFromMatrixPosition(this.matrixWorld);const a=t.ray.origin.distanceTo(w_);this.getObjectForDistance(a).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){w_.setFromMatrixPosition(t.matrixWorld),tC.setFromMatrixPosition(this.matrixWorld);const n=w_.distanceTo(tC)/t.zoom;e[0].object.visible=!0;let a,s;for(a=1,s=e.length;a<s;a++){let o=e[a].distance;if(e[a].object.visible&&(o-=o*e[a].hysteresis),n>=o)e[a-1].object.visible=!1,e[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<s;a++)e[a].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let a=0,s=n.length;a<s;a++){const o=n[a];e.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return e}}const eC=new K,nC=new Tn,iC=new Tn,n6=new K,aC=new ke,C_=new K,Hb=new Oa,sC=new ke,Gb=new _m;class iO extends Zi{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=lT,this.bindMatrix=new ke,this.bindMatrixInverse=new ke,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new Qa),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let n=0;n<e.count;n++)this.getVertexPosition(n,C_),this.boundingBox.expandByPoint(C_)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Oa),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let n=0;n<e.count;n++)this.getVertexPosition(n,C_),this.boundingSphere.expandByPoint(C_)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const n=this.material,a=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Hb.copy(this.boundingSphere),Hb.applyMatrix4(a),t.ray.intersectsSphere(Hb)!==!1&&(sC.copy(a).invert(),Gb.copy(t.ray).applyMatrix4(sC),!(this.boundingBox!==null&&Gb.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,Gb)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Tn,e=this.geometry.attributes.skinWeight;for(let n=0,a=e.count;n<a;n++){t.fromBufferAttribute(e,n);const s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===lT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===ON?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const n=this.skeleton,a=this.geometry;nC.fromBufferAttribute(a.attributes.skinIndex,t),iC.fromBufferAttribute(a.attributes.skinWeight,t),eC.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let s=0;s<4;s++){const o=iC.getComponent(s);if(o!==0){const u=nC.getComponent(s);aC.multiplyMatrices(n.bones[u].matrixWorld,n.boneInverses[u]),e.addScaledVector(n6.copy(eC).applyMatrix4(aC),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}class ZE extends En{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ol extends Ri{constructor(t=null,e=1,n=1,a,s,o,u,h,p=Na,m=Na,v,_){super(null,o,u,h,p,m,a,s,v,_),this.isDataTexture=!0,this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const rC=new ke,i6=new ke;class J1{constructor(t=[],e=[]){this.uuid=xr(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,a=this.bones.length;n<a;n++)this.boneInverses.push(new ke)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const n=new ke;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,a=this.boneTexture;for(let s=0,o=t.length;s<o;s++){const u=t[s]?t[s].matrixWorld:i6;rC.multiplyMatrices(u,e[s]),rC.toArray(n,s*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new J1(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new Ol(e,t,t,Za,Ys);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const a=this.bones[e];if(a.name===t)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,a=t.bones.length;n<a;n++){const s=t.bones[n];let o=e[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new ZE),this.bones.push(o),this.boneInverses.push(new ke().fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let a=0,s=e.length;a<s;a++){const o=e[a];t.bones.push(o.uuid);const u=n[a];t.boneInverses.push(u.toArray())}return t}}class im extends qn{constructor(t,e,n,a=1){super(t,e,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const _p=new ke,oC=new ke,R_=[],lC=new Qa,a6=new ke,Qg=new Zi,Jg=new Oa;class aO extends Zi{constructor(t,e,n){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new im(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<n;a++)this.setMatrixAt(a,a6)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new Qa),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,_p),lC.copy(t.boundingBox).applyMatrix4(_p),this.boundingBox.union(lC)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new Oa),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,_p),Jg.copy(t.boundingSphere).applyMatrix4(_p),this.boundingSphere.union(Jg)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const n=e.morphTargetInfluences,a=this.morphTexture.source.data.data,s=n.length+1,o=t*s+1;for(let u=0;u<n.length;u++)n[u]=a[o+u]}raycast(t,e){const n=this.matrixWorld,a=this.count;if(Qg.geometry=this.geometry,Qg.material=this.material,Qg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Jg.copy(this.boundingSphere),Jg.applyMatrix4(n),t.ray.intersectsSphere(Jg)!==!1))for(let s=0;s<a;s++){this.getMatrixAt(s,_p),oC.multiplyMatrices(n,_p),Qg.matrixWorld=oC,Qg.raycast(t,R_);for(let o=0,u=R_.length;o<u;o++){const h=R_[o];h.instanceId=s,h.object=this,e.push(h)}R_.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new im(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const n=e.morphTargetInfluences,a=n.length+1;this.morphTexture===null&&(this.morphTexture=new Ol(new Float32Array(a*this.count),a,this.count,G1,Ys));const s=this.morphTexture.source.data.data;let o=0;for(let p=0;p<n.length;p++)o+=n[p];const u=this.geometry.morphTargetsRelative?1:1-o,h=a*t;s[h]=u,s.set(n,h+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const kb=new K,s6=new K,r6=new Je;class Hc{constructor(t=new K(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,a){return this.normal.set(t,e,n),this.constant=a,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const a=kb.subVectors(n,e).cross(s6.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(a,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(kb),a=this.normal.dot(n);if(a===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/a;return s<0||s>1?null:e.copy(t.start).addScaledVector(n,s)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||r6.getNormalMatrix(t),a=this.coplanarPoint(kb).applyMatrix4(t),s=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const lh=new Oa,o6=new Ht(.5,.5),D_=new K;class xm{constructor(t=new Hc,e=new Hc,n=new Hc,a=new Hc,s=new Hc,o=new Hc){this.planes=[t,e,n,a,s,o]}set(t,e,n,a,s,o){const u=this.planes;return u[0].copy(t),u[1].copy(e),u[2].copy(n),u[3].copy(a),u[4].copy(s),u[5].copy(o),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=yr,n=!1){const a=this.planes,s=t.elements,o=s[0],u=s[1],h=s[2],p=s[3],m=s[4],v=s[5],_=s[6],x=s[7],T=s[8],A=s[9],E=s[10],b=s[11],R=s[12],D=s[13],N=s[14],U=s[15];if(a[0].setComponents(p-o,x-m,b-T,U-R).normalize(),a[1].setComponents(p+o,x+m,b+T,U+R).normalize(),a[2].setComponents(p+u,x+v,b+A,U+D).normalize(),a[3].setComponents(p-u,x-v,b-A,U-D).normalize(),n)a[4].setComponents(h,_,E,N).normalize(),a[5].setComponents(p-h,x-_,b-E,U-N).normalize();else if(a[4].setComponents(p-h,x-_,b-E,U-N).normalize(),e===yr)a[5].setComponents(p+h,x+_,b+E,U+N).normalize();else if(e===$p)a[5].setComponents(h,_,E,N).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),lh.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),lh.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(lh)}intersectsSprite(t){lh.center.set(0,0,0);const e=o6.distanceTo(t.center);return lh.radius=.7071067811865476+e,lh.applyMatrix4(t.matrixWorld),this.intersectsSphere(lh)}intersectsSphere(t){const e=this.planes,n=t.center,a=-t.radius;for(let s=0;s<6;s++)if(e[s].distanceToPoint(n)<a)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const a=e[n];if(D_.x=a.normal.x>0?t.max.x:t.min.x,D_.y=a.normal.y>0?t.max.y:t.min.y,D_.z=a.normal.z>0?t.max.z:t.min.z,a.distanceToPoint(D_)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const bl=new ke,Ml=new xm;class $1{constructor(){this.coordinateSystem=yr}intersectsObject(t,e){if(!e.isArrayCamera||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const a=e.cameras[n];if(bl.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ml.setFromProjectionMatrix(bl,a.coordinateSystem,a.reversedDepth),Ml.intersectsObject(t))return!0}return!1}intersectsSprite(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const a=e.cameras[n];if(bl.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ml.setFromProjectionMatrix(bl,a.coordinateSystem,a.reversedDepth),Ml.intersectsSprite(t))return!0}return!1}intersectsSphere(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const a=e.cameras[n];if(bl.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ml.setFromProjectionMatrix(bl,a.coordinateSystem,a.reversedDepth),Ml.intersectsSphere(t))return!0}return!1}intersectsBox(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const a=e.cameras[n];if(bl.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ml.setFromProjectionMatrix(bl,a.coordinateSystem,a.reversedDepth),Ml.intersectsBox(t))return!0}return!1}containsPoint(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let n=0;n<e.cameras.length;n++){const a=e.cameras[n];if(bl.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ml.setFromProjectionMatrix(bl,a.coordinateSystem,a.reversedDepth),Ml.containsPoint(t))return!0}return!1}clone(){return new $1}}function Xb(i,t){return i-t}function l6(i,t){return i.z-t.z}function u6(i,t){return t.z-i.z}class c6{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,n,a){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const u=s[this.index];o.push(u),this.index++,u.start=t,u.count=e,u.z=n,u.index=a}reset(){this.list.length=0,this.index=0}}const ks=new ke,f6=new pe(1,1,1),uC=new xm,h6=new $1,N_=new Qa,uh=new Oa,$g=new K,cC=new K,d6=new K,qb=new c6,Ya=new Zi,O_=[];function p6(i,t,e=0){const n=t.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==t.array.constructor){const a=i.count;for(let s=0;s<a;s++)for(let o=0;o<n;o++)t.setComponent(s+e,o,i.getComponent(s,o))}else t.array.set(i.array,e*n);t.needsUpdate=!0}function ch(i,t){if(i.constructor!==t.constructor){const e=Math.min(i.length,t.length);for(let n=0;n<e;n++)t[n]=i[n]}else{const e=Math.min(i.length,t.length);t.set(new i.constructor(i.buffer,0,e))}}class sO extends Zi{constructor(t,e,n=e*2,a){super(new en,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),n=new Ol(e,t,t,Za,Ys);this._matricesTexture=n}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),n=new Ol(e,t,t,mv,Du);this._indirectTexture=n}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),n=new Ol(e,t,t,Za,Ys);n.colorSpace=_n.workingColorSpace,this._colorsTexture=n}_initializeGeometry(t){const e=this.geometry,n=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in t.attributes){const o=t.getAttribute(s),{array:u,itemSize:h,normalized:p}=o,m=new u.constructor(n*h),v=new qn(m,h,p);e.setAttribute(s,v)}if(t.getIndex()!==null){const s=n>65535?new Uint32Array(a):new Uint16Array(a);e.setIndex(new qn(s,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in e.attributes){if(!t.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const a=t.getAttribute(n),s=e.getAttribute(n);if(a.itemSize!==s.itemSize||a.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qa);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let n=0,a=e.length;n<a;n++){if(e[n].active===!1)continue;const s=e[n].geometryIndex;this.getMatrixAt(n,ks),this.getBoundingBoxAt(s,N_).applyMatrix4(ks),t.union(N_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Oa);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let n=0,a=e.length;n<a;n++){if(e[n].active===!1)continue;const s=e[n].geometryIndex;this.getMatrixAt(n,ks),this.getBoundingSphereAt(s,uh).applyMatrix4(ks),t.union(uh)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:t};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Xb),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=n):(a=this._instanceInfo.length,this._instanceInfo.push(n));const s=this._matricesTexture;ks.identity().toArray(s.image.data,a*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(f6.toArray(o.image.data,a*4),o.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(t,e=-1,n=-1){this._initializeGeometry(t),this._validateGeometry(t);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const o=t.getIndex();if(o!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=n===-1?o.count:n),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Xb),h=this._availableGeometryIds.shift(),s[h]=a):(h=this._geometryCount,this._geometryCount++,s.push(a)),this.setGeometryAt(h,t),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,h}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const n=this.geometry,a=n.getIndex()!==null,s=n.getIndex(),o=e.getIndex(),u=this._geometryInfo[t];if(a&&o.count>u.reservedIndexCount||e.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=u.vertexStart,p=u.reservedVertexCount;u.vertexCount=e.getAttribute("position").count;for(const m in n.attributes){const v=e.getAttribute(m),_=n.getAttribute(m);p6(v,_,h);const x=v.itemSize;for(let T=v.count,A=p;T<A;T++){const E=h+T;for(let b=0;b<x;b++)_.setComponent(E,b,0)}_.needsUpdate=!0,_.addUpdateRange(h*x,p*x)}if(a){const m=u.indexStart,v=u.reservedIndexCount;u.indexCount=e.getIndex().count;for(let _=0;_<o.count;_++)s.setX(m+_,h+o.getX(_));for(let _=o.count,x=v;_<x;_++)s.setX(m+_,h);s.needsUpdate=!0,s.addUpdateRange(m,u.reservedIndexCount)}return u.start=a?u.indexStart:u.vertexStart,u.count=a?u.indexCount:u.vertexCount,u.boundingBox=null,e.boundingBox!==null&&(u.boundingBox=e.boundingBox.clone()),u.boundingSphere=null,e.boundingSphere!==null&&(u.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const n=this._instanceInfo;for(let a=0,s=n.length;a<s;a++)n[a].active&&n[a].geometryIndex===t&&this.deleteInstance(a);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const n=this._geometryInfo,a=n.map((o,u)=>u).sort((o,u)=>n[o].vertexStart-n[u].vertexStart),s=this.geometry;for(let o=0,u=n.length;o<u;o++){const h=a[o],p=n[h];if(p.active!==!1){if(s.index!==null){if(p.indexStart!==e){const{indexStart:m,vertexStart:v,reservedIndexCount:_}=p,x=s.index,T=x.array,A=t-v;for(let E=m;E<m+_;E++)T[E]=T[E]+A;x.array.copyWithin(e,m,m+_),x.addUpdateRange(e,_),p.indexStart=e}e+=p.reservedIndexCount}if(p.vertexStart!==t){const{vertexStart:m,reservedVertexCount:v}=p,_=s.attributes;for(const x in _){const T=_[x],{array:A,itemSize:E}=T;A.copyWithin(t*E,m*E,(m+v)*E),T.addUpdateRange(t*E,v*E)}p.vertexStart=t}t+=p.reservedVertexCount,p.start=s.index?p.indexStart:p.vertexStart,this._nextIndexStart=s.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const n=this.geometry,a=this._geometryInfo[t];if(a.boundingBox===null){const s=new Qa,o=n.index,u=n.attributes.position;for(let h=a.start,p=a.start+a.count;h<p;h++){let m=h;o&&(m=o.getX(m)),s.expandByPoint($g.fromBufferAttribute(u,m))}a.boundingBox=s}return e.copy(a.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const n=this.geometry,a=this._geometryInfo[t];if(a.boundingSphere===null){const s=new Oa;this.getBoundingBoxAt(t,N_),N_.getCenter(s.center);const o=n.index,u=n.attributes.position;let h=0;for(let p=a.start,m=a.start+a.count;p<m;p++){let v=p;o&&(v=o.getX(v)),$g.fromBufferAttribute(u,v),h=Math.max(h,s.center.distanceToSquared($g))}s.radius=Math.sqrt(h),a.boundingSphere=s}return e.copy(a.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const n=this._matricesTexture,a=this._matricesTexture.image.data;return e.toArray(a,t*16),n.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const n=this._geometryInfo[t];return e.vertexStart=n.vertexStart,e.vertexCount=n.vertexCount,e.reservedVertexCount=n.reservedVertexCount,e.indexStart=n.indexStart,e.indexCount=n.indexCount,e.reservedIndexCount=n.reservedIndexCount,e.start=n.start,e.count=n.count,e}setInstanceCount(t){const e=this._availableInstanceIds,n=this._instanceInfo;for(e.sort(Xb);e[e.length-1]===n.length-1;)n.pop(),e.pop();if(t<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const a=new Int32Array(t),s=new Int32Array(t);ch(this._multiDrawCounts,a),ch(this._multiDrawStarts,s),this._multiDrawCounts=a,this._multiDrawStarts=s,this._maxInstanceCount=t;const o=this._indirectTexture,u=this._matricesTexture,h=this._colorsTexture;o.dispose(),this._initIndirectTexture(),ch(o.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),ch(u.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),ch(h.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const n=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...n.map(u=>u.vertexStart+u.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(h=>h.indexStart+h.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new en,this._initializeGeometry(s));const o=this.geometry;s.index&&ch(s.index.array,o.index.array);for(const u in s.attributes)ch(s.attributes[u].array,o.attributes[u].array)}raycast(t,e){const n=this._instanceInfo,a=this._geometryInfo,s=this.matrixWorld,o=this.geometry;Ya.material=this.material,Ya.geometry.index=o.index,Ya.geometry.attributes=o.attributes,Ya.geometry.boundingBox===null&&(Ya.geometry.boundingBox=new Qa),Ya.geometry.boundingSphere===null&&(Ya.geometry.boundingSphere=new Oa);for(let u=0,h=n.length;u<h;u++){if(!n[u].visible||!n[u].active)continue;const p=n[u].geometryIndex,m=a[p];Ya.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(u,Ya.matrixWorld).premultiply(s),this.getBoundingBoxAt(p,Ya.geometry.boundingBox),this.getBoundingSphereAt(p,Ya.geometry.boundingSphere),Ya.raycast(t,O_);for(let v=0,_=O_.length;v<_;v++){const x=O_[v];x.object=this,x.batchId=u,e.push(x)}O_.length=0}Ya.material=null,Ya.geometry.index=null,Ya.geometry.attributes={},Ya.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._availableInstanceIds=t._availableInstanceIds.slice(),this._availableGeometryIds=t._availableGeometryIds.slice(),this._nextIndexStart=t._nextIndexStart,this._nextVertexStart=t._nextVertexStart,this._geometryCount=t._geometryCount,this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._indirectTexture=t._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,n,a,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=a.getIndex(),u=o===null?1:o.array.BYTES_PER_ELEMENT,h=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,v=this._geometryInfo,_=this.perObjectFrustumCulled,x=this._indirectTexture,T=x.image.data,A=n.isArrayCamera?h6:uC;_&&!n.isArrayCamera&&(ks.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),uC.setFromProjectionMatrix(ks,n.coordinateSystem,n.reversedDepth));let E=0;if(this.sortObjects){ks.copy(this.matrixWorld).invert(),$g.setFromMatrixPosition(n.matrixWorld).applyMatrix4(ks),cC.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(ks);for(let D=0,N=h.length;D<N;D++)if(h[D].visible&&h[D].active){const U=h[D].geometryIndex;this.getMatrixAt(D,ks),this.getBoundingSphereAt(U,uh).applyMatrix4(ks);let P=!1;if(_&&(P=!A.intersectsSphere(uh,n)),!P){const F=v[U],V=d6.subVectors(uh.center,$g).dot(cC);qb.push(F.start,F.count,V,D)}}const b=qb.list,R=this.customSort;R===null?b.sort(s.transparent?u6:l6):R.call(this,b,n);for(let D=0,N=b.length;D<N;D++){const U=b[D];p[E]=U.start*u,m[E]=U.count,T[E]=U.index,E++}qb.reset()}else for(let b=0,R=h.length;b<R;b++)if(h[b].visible&&h[b].active){const D=h[b].geometryIndex;let N=!1;if(_&&(this.getMatrixAt(b,ks),this.getBoundingSphereAt(D,uh).applyMatrix4(ks),N=!A.intersectsSphere(uh,n)),!N){const U=v[D];p[E]=U.start*u,m[E]=U.count,T[E]=b,E++}}x.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(t,e,n,a,s,o){this.onBeforeRender(t,null,a,s,o)}}class As extends $a{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new pe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const c1=new K,f1=new K,fC=new ke,t0=new _m,U_=new Oa,Yb=new K,hC=new K;class Jc extends En{constructor(t=new en,e=new As){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,n=[0];for(let a=1,s=e.count;a<s;a++)c1.fromBufferAttribute(e,a-1),f1.fromBufferAttribute(e,a),n[a]=n[a-1],n[a]+=c1.distanceTo(f1);t.setAttribute("lineDistance",new xe(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const n=this.geometry,a=this.matrixWorld,s=t.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),U_.copy(n.boundingSphere),U_.applyMatrix4(a),U_.radius+=s,t.ray.intersectsSphere(U_)===!1)return;fC.copy(a).invert(),t0.copy(t.ray).applyMatrix4(fC);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=this.isLineSegments?2:1,m=n.index,_=n.attributes.position;if(m!==null){const x=Math.max(0,o.start),T=Math.min(m.count,o.start+o.count);for(let A=x,E=T-1;A<E;A+=p){const b=m.getX(A),R=m.getX(A+1),D=L_(this,t,t0,h,b,R,A);D&&e.push(D)}if(this.isLineLoop){const A=m.getX(T-1),E=m.getX(x),b=L_(this,t,t0,h,A,E,T-1);b&&e.push(b)}}else{const x=Math.max(0,o.start),T=Math.min(_.count,o.start+o.count);for(let A=x,E=T-1;A<E;A+=p){const b=L_(this,t,t0,h,A,A+1,A);b&&e.push(b)}if(this.isLineLoop){const A=L_(this,t,t0,h,T-1,x,T-1);A&&e.push(A)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const a=e[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=a.length;s<o;s++){const u=a[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}}function L_(i,t,e,n,a,s,o){const u=i.geometry.attributes.position;if(c1.fromBufferAttribute(u,a),f1.fromBufferAttribute(u,s),e.distanceSqToSegment(c1,f1,Yb,hC)>n)return;Yb.applyMatrix4(i.matrixWorld);const p=t.ray.origin.distanceTo(Yb);if(!(p<t.near||p>t.far))return{distance:p,point:hC.clone().applyMatrix4(i.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:i}}const dC=new K,pC=new K;class Vl extends Jc{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,n=[];for(let a=0,s=e.count;a<s;a+=2)dC.fromBufferAttribute(e,a),pC.fromBufferAttribute(e,a+1),n[a]=a===0?0:n[a-1],n[a+1]=n[a]+dC.distanceTo(pC);t.setAttribute("lineDistance",new xe(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class rO extends Jc{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class KE extends $a{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new pe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const mC=new ke,fT=new _m,P_=new Oa,z_=new K;class oO extends En{constructor(t=new en,e=new KE){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,a=this.matrixWorld,s=t.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),P_.copy(n.boundingSphere),P_.applyMatrix4(a),P_.radius+=s,t.ray.intersectsSphere(P_)===!1)return;mC.copy(a).invert(),fT.copy(t.ray).applyMatrix4(mC);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=n.index,v=n.attributes.position;if(p!==null){const _=Math.max(0,o.start),x=Math.min(p.count,o.start+o.count);for(let T=_,A=x;T<A;T++){const E=p.getX(T);z_.fromBufferAttribute(v,E),gC(z_,E,h,a,t,e,this)}}else{const _=Math.max(0,o.start),x=Math.min(v.count,o.start+o.count);for(let T=_,A=x;T<A;T++)z_.fromBufferAttribute(v,T),gC(z_,T,h,a,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const a=e[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=a.length;s<o;s++){const u=a[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}}function gC(i,t,e,n,a,s,o){const u=fT.distanceSqToPoint(i);if(u<e){const h=new K;fT.closestPointToPoint(i,h),h.applyMatrix4(n);const p=a.ray.origin.distanceTo(h);if(p<a.near||p>a.far)return;s.push({distance:p,distanceToRay:Math.sqrt(u),point:h,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class lO extends Ri{constructor(t,e,n,a,s=la,o=la,u,h,p){super(t,e,n,a,s,o,u,h,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function v(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=t.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in t&&(this._requestVideoFrameCallbackId=t.requestVideoFrameCallback(v))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class m6 extends lO{constructor(t,e,n,a,s,o,u,h){super({},t,e,n,a,s,o,u,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class g6 extends Ri{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Na,this.minFilter=Na,this.generateMipmaps=!1,this.needsUpdate=!0}}class tS extends Ri{constructor(t,e,n,a,s,o,u,h,p,m,v,_){super(null,o,u,h,p,m,a,s,v,_),this.isCompressedTexture=!0,this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class v6 extends tS{constructor(t,e,n,a,s,o){super(t,e,n,s,o),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=Kr,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class y6 extends tS{constructor(t,e,n){super(void 0,t[0].width,t[0].height,e,n,Ru),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class _6 extends Ri{constructor(t,e,n,a,s,o,u,h,p){super(t,e,n,a,s,o,u,h,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class QE extends Ri{constructor(t,e,n=Du,a,s,o,u=Na,h=Na,p,m=Qp,v=1){if(m!==Qp&&m!==Jp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const _={width:t,height:e,depth:v};super(_,a,s,o,u,h,m,n,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new Xc(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class JE extends Ri{constructor(t=null){super(),this.sourceTexture=t,this.isExternalTexture=!0}copy(t){return super.copy(t),this.sourceTexture=t.sourceTexture,this}}class eS extends en{constructor(t=1,e=1,n=4,a=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:n,radialSegments:a,heightSegments:s},e=Math.max(0,e),n=Math.max(1,Math.floor(n)),a=Math.max(3,Math.floor(a)),s=Math.max(1,Math.floor(s));const o=[],u=[],h=[],p=[],m=e/2,v=Math.PI/2*t,_=e,x=2*v+_,T=n*2+s,A=a+1,E=new K,b=new K;for(let R=0;R<=T;R++){let D=0,N=0,U=0,P=0;if(R<=n){const L=R/n,B=L*Math.PI/2;N=-m-t*Math.cos(B),U=t*Math.sin(B),P=-t*Math.cos(B),D=L*v}else if(R<=n+s){const L=(R-n)/s;N=-m+L*e,U=t,P=0,D=v+L*_}else{const L=(R-n-s)/n,B=L*Math.PI/2;N=m+t*Math.sin(B),U=t*Math.cos(B),P=t*Math.sin(B),D=v+_+L*v}const F=Math.max(0,Math.min(1,D/x));let V=0;R===0?V=.5/a:R===T&&(V=-.5/a);for(let L=0;L<=a;L++){const B=L/a,W=B*Math.PI*2,$=Math.sin(W),it=Math.cos(W);b.x=-U*it,b.y=N,b.z=U*$,u.push(b.x,b.y,b.z),E.set(-U*it,P,U*$),E.normalize(),h.push(E.x,E.y,E.z),p.push(B+V,F)}if(R>0){const L=(R-1)*A;for(let B=0;B<a;B++){const W=L+B,$=L+B+1,it=R*A+B,ct=R*A+B+1;o.push(W,$,it),o.push($,ct,it)}}}this.setIndex(o),this.setAttribute("position",new xe(u,3)),this.setAttribute("normal",new xe(h,3)),this.setAttribute("uv",new xe(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new eS(t.radius,t.height,t.capSegments,t.radialSegments,t.heightSegments)}}class nS extends en{constructor(t=1,e=32,n=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:a},e=Math.max(3,e);const s=[],o=[],u=[],h=[],p=new K,m=new Ht;o.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let v=0,_=3;v<=e;v++,_+=3){const x=n+v/e*a;p.x=t*Math.cos(x),p.y=t*Math.sin(x),o.push(p.x,p.y,p.z),u.push(0,0,1),m.x=(o[_]/t+1)/2,m.y=(o[_+1]/t+1)/2,h.push(m.x,m.y)}for(let v=1;v<=e;v++)s.push(v,v+1,0);this.setIndex(s),this.setAttribute("position",new xe(o,3)),this.setAttribute("normal",new xe(u,3)),this.setAttribute("uv",new xe(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new nS(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class vv extends en{constructor(t=1,e=1,n=1,a=32,s=1,o=!1,u=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:a,heightSegments:s,openEnded:o,thetaStart:u,thetaLength:h};const p=this;a=Math.floor(a),s=Math.floor(s);const m=[],v=[],_=[],x=[];let T=0;const A=[],E=n/2;let b=0;R(),o===!1&&(t>0&&D(!0),e>0&&D(!1)),this.setIndex(m),this.setAttribute("position",new xe(v,3)),this.setAttribute("normal",new xe(_,3)),this.setAttribute("uv",new xe(x,2));function R(){const N=new K,U=new K;let P=0;const F=(e-t)/n;for(let V=0;V<=s;V++){const L=[],B=V/s,W=B*(e-t)+t;for(let $=0;$<=a;$++){const it=$/a,ct=it*h+u,ut=Math.sin(ct),z=Math.cos(ct);U.x=W*ut,U.y=-B*n+E,U.z=W*z,v.push(U.x,U.y,U.z),N.set(ut,F,z).normalize(),_.push(N.x,N.y,N.z),x.push(it,1-B),L.push(T++)}A.push(L)}for(let V=0;V<a;V++)for(let L=0;L<s;L++){const B=A[L][V],W=A[L+1][V],$=A[L+1][V+1],it=A[L][V+1];(t>0||L!==0)&&(m.push(B,W,it),P+=3),(e>0||L!==s-1)&&(m.push(W,$,it),P+=3)}p.addGroup(b,P,0),b+=P}function D(N){const U=T,P=new Ht,F=new K;let V=0;const L=N===!0?t:e,B=N===!0?1:-1;for(let $=1;$<=a;$++)v.push(0,E*B,0),_.push(0,B,0),x.push(.5,.5),T++;const W=T;for(let $=0;$<=a;$++){const ct=$/a*h+u,ut=Math.cos(ct),z=Math.sin(ct);F.x=L*z,F.y=E*B,F.z=L*ut,v.push(F.x,F.y,F.z),_.push(0,B,0),P.x=ut*.5+.5,P.y=z*.5*B+.5,x.push(P.x,P.y),T++}for(let $=0;$<a;$++){const it=U+$,ct=W+$;N===!0?m.push(ct,ct+1,it):m.push(ct+1,ct,it),V+=3}p.addGroup(b,V,N===!0?1:2),b+=V}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new vv(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class yv extends vv{constructor(t=1,e=1,n=32,a=1,s=!1,o=0,u=Math.PI*2){super(0,t,e,n,a,s,o,u),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:u}}static fromJSON(t){return new yv(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class uf extends en{constructor(t=[],e=[],n=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:a};const s=[],o=[];u(a),p(n),m(),this.setAttribute("position",new xe(s,3)),this.setAttribute("normal",new xe(s.slice(),3)),this.setAttribute("uv",new xe(o,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function u(R){const D=new K,N=new K,U=new K;for(let P=0;P<e.length;P+=3)x(e[P+0],D),x(e[P+1],N),x(e[P+2],U),h(D,N,U,R)}function h(R,D,N,U){const P=U+1,F=[];for(let V=0;V<=P;V++){F[V]=[];const L=R.clone().lerp(N,V/P),B=D.clone().lerp(N,V/P),W=P-V;for(let $=0;$<=W;$++)$===0&&V===P?F[V][$]=L:F[V][$]=L.clone().lerp(B,$/W)}for(let V=0;V<P;V++)for(let L=0;L<2*(P-V)-1;L++){const B=Math.floor(L/2);L%2===0?(_(F[V][B+1]),_(F[V+1][B]),_(F[V][B])):(_(F[V][B+1]),_(F[V+1][B+1]),_(F[V+1][B]))}}function p(R){const D=new K;for(let N=0;N<s.length;N+=3)D.x=s[N+0],D.y=s[N+1],D.z=s[N+2],D.normalize().multiplyScalar(R),s[N+0]=D.x,s[N+1]=D.y,s[N+2]=D.z}function m(){const R=new K;for(let D=0;D<s.length;D+=3){R.x=s[D+0],R.y=s[D+1],R.z=s[D+2];const N=E(R)/2/Math.PI+.5,U=b(R)/Math.PI+.5;o.push(N,1-U)}T(),v()}function v(){for(let R=0;R<o.length;R+=6){const D=o[R+0],N=o[R+2],U=o[R+4],P=Math.max(D,N,U),F=Math.min(D,N,U);P>.9&&F<.1&&(D<.2&&(o[R+0]+=1),N<.2&&(o[R+2]+=1),U<.2&&(o[R+4]+=1))}}function _(R){s.push(R.x,R.y,R.z)}function x(R,D){const N=R*3;D.x=t[N+0],D.y=t[N+1],D.z=t[N+2]}function T(){const R=new K,D=new K,N=new K,U=new K,P=new Ht,F=new Ht,V=new Ht;for(let L=0,B=0;L<s.length;L+=9,B+=6){R.set(s[L+0],s[L+1],s[L+2]),D.set(s[L+3],s[L+4],s[L+5]),N.set(s[L+6],s[L+7],s[L+8]),P.set(o[B+0],o[B+1]),F.set(o[B+2],o[B+3]),V.set(o[B+4],o[B+5]),U.copy(R).add(D).add(N).divideScalar(3);const W=E(U);A(P,B+0,R,W),A(F,B+2,D,W),A(V,B+4,N,W)}}function A(R,D,N,U){U<0&&R.x===1&&(o[D]=R.x-1),N.x===0&&N.z===0&&(o[D]=U/2/Math.PI+.5)}function E(R){return Math.atan2(R.z,-R.x)}function b(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new uf(t.vertices,t.indices,t.radius,t.details)}}class iS extends uf{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,a=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-n,0,-a,n,0,a,-n,0,a,n,-a,-n,0,-a,n,0,a,-n,0,a,n,0,-n,0,-a,n,0,-a,-n,0,a,n,0,a],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new iS(t.radius,t.detail)}}const B_=new K,I_=new K,jb=new K,F_=new qs;class uO extends en{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const a=Math.pow(10,4),s=Math.cos(zh*e),o=t.getIndex(),u=t.getAttribute("position"),h=o?o.count:u.count,p=[0,0,0],m=["a","b","c"],v=new Array(3),_={},x=[];for(let T=0;T<h;T+=3){o?(p[0]=o.getX(T),p[1]=o.getX(T+1),p[2]=o.getX(T+2)):(p[0]=T,p[1]=T+1,p[2]=T+2);const{a:A,b:E,c:b}=F_;if(A.fromBufferAttribute(u,p[0]),E.fromBufferAttribute(u,p[1]),b.fromBufferAttribute(u,p[2]),F_.getNormal(jb),v[0]=`${Math.round(A.x*a)},${Math.round(A.y*a)},${Math.round(A.z*a)}`,v[1]=`${Math.round(E.x*a)},${Math.round(E.y*a)},${Math.round(E.z*a)}`,v[2]=`${Math.round(b.x*a)},${Math.round(b.y*a)},${Math.round(b.z*a)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let R=0;R<3;R++){const D=(R+1)%3,N=v[R],U=v[D],P=F_[m[R]],F=F_[m[D]],V=`${N}_${U}`,L=`${U}_${N}`;L in _&&_[L]?(jb.dot(_[L].normal)<=s&&(x.push(P.x,P.y,P.z),x.push(F.x,F.y,F.z)),_[L]=null):V in _||(_[V]={index0:p[R],index1:p[D],normal:jb.clone()})}}for(const T in _)if(_[T]){const{index0:A,index1:E}=_[T];B_.fromBufferAttribute(u,A),I_.fromBufferAttribute(u,E),x.push(B_.x,B_.y,B_.z),x.push(I_.x,I_.y,I_.z)}this.setAttribute("position",new xe(x,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class Vo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,a=this.getPoint(0),s=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),s+=n.distanceTo(a),e.push(s),a=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const n=this.getLengths();let a=0;const s=n.length;let o;e?o=e:o=t*n[s-1];let u=0,h=s-1,p;for(;u<=h;)if(a=Math.floor(u+(h-u)/2),p=n[a]-o,p<0)u=a+1;else if(p>0)h=a-1;else{h=a;break}if(a=h,n[a]===o)return a/(s-1);const m=n[a],_=n[a+1]-m,x=(o-m)/_;return(a+x)/(s-1)}getTangent(t,e){let a=t-1e-4,s=t+1e-4;a<0&&(a=0),s>1&&(s=1);const o=this.getPoint(a),u=this.getPoint(s),h=e||(o.isVector2?new Ht:new K);return h.copy(u).sub(o).normalize(),h}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e=!1){const n=new K,a=[],s=[],o=[],u=new K,h=new ke;for(let x=0;x<=t;x++){const T=x/t;a[x]=this.getTangentAt(T,new K)}s[0]=new K,o[0]=new K;let p=Number.MAX_VALUE;const m=Math.abs(a[0].x),v=Math.abs(a[0].y),_=Math.abs(a[0].z);m<=p&&(p=m,n.set(1,0,0)),v<=p&&(p=v,n.set(0,1,0)),_<=p&&n.set(0,0,1),u.crossVectors(a[0],n).normalize(),s[0].crossVectors(a[0],u),o[0].crossVectors(a[0],s[0]);for(let x=1;x<=t;x++){if(s[x]=s[x-1].clone(),o[x]=o[x-1].clone(),u.crossVectors(a[x-1],a[x]),u.length()>Number.EPSILON){u.normalize();const T=Math.acos(Ve(a[x-1].dot(a[x]),-1,1));s[x].applyMatrix4(h.makeRotationAxis(u,T))}o[x].crossVectors(a[x],s[x])}if(e===!0){let x=Math.acos(Ve(s[0].dot(s[t]),-1,1));x/=t,a[0].dot(u.crossVectors(s[0],s[t]))>0&&(x=-x);for(let T=1;T<=t;T++)s[T].applyMatrix4(h.makeRotationAxis(a[T],x*T)),o[T].crossVectors(a[T],s[T])}return{tangents:a,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class aS extends Vo{constructor(t=0,e=0,n=1,a=1,s=0,o=Math.PI*2,u=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=a,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=u,this.aRotation=h}getPoint(t,e=new Ht){const n=e,a=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=a;for(;s>a;)s-=a;s<Number.EPSILON&&(o?s=0:s=a),this.aClockwise===!0&&!o&&(s===a?s=-a:s=s-a);const u=this.aStartAngle+t*s;let h=this.aX+this.xRadius*Math.cos(u),p=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),_=h-this.aX,x=p-this.aY;h=_*m-x*v+this.aX,p=_*v+x*m+this.aY}return n.set(h,p)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class cO extends aS{constructor(t,e,n,a,s,o){super(t,e,n,n,a,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function $E(){let i=0,t=0,e=0,n=0;function a(s,o,u,h){i=s,t=u,e=-3*s+3*o-2*u-h,n=2*s-2*o+u+h}return{initCatmullRom:function(s,o,u,h,p){a(o,u,p*(u-s),p*(h-o))},initNonuniformCatmullRom:function(s,o,u,h,p,m,v){let _=(o-s)/p-(u-s)/(p+m)+(u-o)/m,x=(u-o)/m-(h-o)/(m+v)+(h-u)/v;_*=m,x*=m,a(o,u,_,x)},calc:function(s){const o=s*s,u=o*s;return i+t*s+e*o+n*u}}}const V_=new K,Wb=new $E,Zb=new $E,Kb=new $E;class fO extends Vo{constructor(t=[],e=!1,n="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=a}getPoint(t,e=new K){const n=e,a=this.points,s=a.length,o=(s-(this.closed?0:1))*t;let u=Math.floor(o),h=o-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/s)+1)*s:h===0&&u===s-1&&(u=s-2,h=1);let p,m;this.closed||u>0?p=a[(u-1)%s]:(V_.subVectors(a[0],a[1]).add(a[0]),p=V_);const v=a[u%s],_=a[(u+1)%s];if(this.closed||u+2<s?m=a[(u+2)%s]:(V_.subVectors(a[s-1],a[s-2]).add(a[s-1]),m=V_),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let T=Math.pow(p.distanceToSquared(v),x),A=Math.pow(v.distanceToSquared(_),x),E=Math.pow(_.distanceToSquared(m),x);A<1e-4&&(A=1),T<1e-4&&(T=A),E<1e-4&&(E=A),Wb.initNonuniformCatmullRom(p.x,v.x,_.x,m.x,T,A,E),Zb.initNonuniformCatmullRom(p.y,v.y,_.y,m.y,T,A,E),Kb.initNonuniformCatmullRom(p.z,v.z,_.z,m.z,T,A,E)}else this.curveType==="catmullrom"&&(Wb.initCatmullRom(p.x,v.x,_.x,m.x,this.tension),Zb.initCatmullRom(p.y,v.y,_.y,m.y,this.tension),Kb.initCatmullRom(p.z,v.z,_.z,m.z,this.tension));return n.set(Wb.calc(h),Zb.calc(h),Kb.calc(h)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const a=t.points[e];this.points.push(a.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const a=this.points[e];t.points.push(a.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const a=t.points[e];this.points.push(new K().fromArray(a))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function vC(i,t,e,n,a){const s=(n-t)*.5,o=(a-e)*.5,u=i*i,h=i*u;return(2*e-2*n+s+o)*h+(-3*e+3*n-2*s-o)*u+s*i+e}function x6(i,t){const e=1-i;return e*e*t}function S6(i,t){return 2*(1-i)*i*t}function b6(i,t){return i*i*t}function _0(i,t,e,n){return x6(i,t)+S6(i,e)+b6(i,n)}function M6(i,t){const e=1-i;return e*e*e*t}function T6(i,t){const e=1-i;return 3*e*e*i*t}function E6(i,t){return 3*(1-i)*i*i*t}function A6(i,t){return i*i*i*t}function x0(i,t,e,n,a){return M6(i,t)+T6(i,e)+E6(i,n)+A6(i,a)}class tA extends Vo{constructor(t=new Ht,e=new Ht,n=new Ht,a=new Ht){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=a}getPoint(t,e=new Ht){const n=e,a=this.v0,s=this.v1,o=this.v2,u=this.v3;return n.set(x0(t,a.x,s.x,o.x,u.x),x0(t,a.y,s.y,o.y,u.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class hO extends Vo{constructor(t=new K,e=new K,n=new K,a=new K){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=a}getPoint(t,e=new K){const n=e,a=this.v0,s=this.v1,o=this.v2,u=this.v3;return n.set(x0(t,a.x,s.x,o.x,u.x),x0(t,a.y,s.y,o.y,u.y),x0(t,a.z,s.z,o.z,u.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class eA extends Vo{constructor(t=new Ht,e=new Ht){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Ht){const n=e;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Ht){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class dO extends Vo{constructor(t=new K,e=new K){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new K){const n=e;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new K){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class nA extends Vo{constructor(t=new Ht,e=new Ht,n=new Ht){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new Ht){const n=e,a=this.v0,s=this.v1,o=this.v2;return n.set(_0(t,a.x,s.x,o.x),_0(t,a.y,s.y,o.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class iA extends Vo{constructor(t=new K,e=new K,n=new K){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new K){const n=e,a=this.v0,s=this.v1,o=this.v2;return n.set(_0(t,a.x,s.x,o.x),_0(t,a.y,s.y,o.y),_0(t,a.z,s.z,o.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class aA extends Vo{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Ht){const n=e,a=this.points,s=(a.length-1)*t,o=Math.floor(s),u=s-o,h=a[o===0?o:o-1],p=a[o],m=a[o>a.length-2?a.length-1:o+1],v=a[o>a.length-3?a.length-1:o+2];return n.set(vC(u,h.x,p.x,m.x,v.x),vC(u,h.y,p.y,m.y,v.y)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const a=t.points[e];this.points.push(a.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const a=this.points[e];t.points.push(a.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const a=t.points[e];this.points.push(new Ht().fromArray(a))}return this}}var h1=Object.freeze({__proto__:null,ArcCurve:cO,CatmullRomCurve3:fO,CubicBezierCurve:tA,CubicBezierCurve3:hO,EllipseCurve:aS,LineCurve:eA,LineCurve3:dO,QuadraticBezierCurve:nA,QuadraticBezierCurve3:iA,SplineCurve:aA});class pO extends Vo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const n=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new h1[n](e,t))}return this}getPoint(t,e){const n=t*this.getLength(),a=this.getCurveLengths();let s=0;for(;s<a.length;){if(a[s]>=n){const o=a[s]-n,u=this.curves[s],h=u.getLength(),p=h===0?0:1-o/h;return u.getPointAt(p,e)}s++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,a=this.curves.length;n<a;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let a=0,s=this.curves;a<s.length;a++){const o=s[a],u=o.isEllipseCurve?t*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,h=o.getPoints(u);for(let p=0;p<h.length;p++){const m=h[p];n&&n.equals(m)||(e.push(m),n=m)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const a=t.curves[e];this.curves.push(a.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const a=this.curves[e];t.curves.push(a.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const a=t.curves[e];this.curves.push(new h1[a.type]().fromJSON(a))}return this}}class d1 extends pO{constructor(t){super(),this.type="Path",this.currentPoint=new Ht,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new eA(this.currentPoint.clone(),new Ht(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,a){const s=new nA(this.currentPoint.clone(),new Ht(t,e),new Ht(n,a));return this.curves.push(s),this.currentPoint.set(n,a),this}bezierCurveTo(t,e,n,a,s,o){const u=new tA(this.currentPoint.clone(),new Ht(t,e),new Ht(n,a),new Ht(s,o));return this.curves.push(u),this.currentPoint.set(s,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new aA(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,a,s,o){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(t+u,e+h,n,a,s,o),this}absarc(t,e,n,a,s,o){return this.absellipse(t,e,n,n,a,s,o),this}ellipse(t,e,n,a,s,o,u,h){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+p,e+m,n,a,s,o,u,h),this}absellipse(t,e,n,a,s,o,u,h){const p=new aS(t,e,n,a,s,o,u,h);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class Bh extends d1{constructor(t){super(t),this.uuid=xr(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let n=0,a=this.holes.length;n<a;n++)e[n]=this.holes[n].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const a=t.holes[e];this.holes.push(a.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const a=this.holes[e];t.holes.push(a.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const a=t.holes[e];this.holes.push(new d1().fromJSON(a))}return this}}function w6(i,t,e=2){const n=t&&t.length,a=n?t[0]*e:i.length;let s=mO(i,0,a,e,!0);const o=[];if(!s||s.next===s.prev)return o;let u,h,p;if(n&&(s=O6(i,t,s,e)),i.length>80*e){u=1/0,h=1/0;let m=-1/0,v=-1/0;for(let _=e;_<a;_+=e){const x=i[_],T=i[_+1];x<u&&(u=x),T<h&&(h=T),x>m&&(m=x),T>v&&(v=T)}p=Math.max(m-u,v-h),p=p!==0?32767/p:0}return k0(s,o,e,u,h,p,0),o}function mO(i,t,e,n,a){let s;if(a===k6(i,t,e,n)>0)for(let o=t;o<e;o+=n)s=yC(o/n|0,i[o],i[o+1],s);else for(let o=e-n;o>=t;o-=n)s=yC(o/n|0,i[o],i[o+1],s);return s&&am(s,s.next)&&(q0(s),s=s.next),s}function Yh(i,t){if(!i)return i;t||(t=i);let e=i,n;do if(n=!1,!e.steiner&&(am(e,e.next)||vi(e.prev,e,e.next)===0)){if(q0(e),e=t=e.prev,e===e.next)break;n=!0}else e=e.next;while(n||e!==t);return t}function k0(i,t,e,n,a,s,o){if(!i)return;!o&&s&&B6(i,n,a,s);let u=i;for(;i.prev!==i.next;){const h=i.prev,p=i.next;if(s?R6(i,n,a,s):C6(i)){t.push(h.i,i.i,p.i),q0(i),i=p.next,u=p.next;continue}if(i=p,i===u){o?o===1?(i=D6(Yh(i),t),k0(i,t,e,n,a,s,2)):o===2&&N6(i,t,e,n,a,s):k0(Yh(i),t,e,n,a,s,1);break}}}function C6(i){const t=i.prev,e=i,n=i.next;if(vi(t,e,n)>=0)return!1;const a=t.x,s=e.x,o=n.x,u=t.y,h=e.y,p=n.y,m=Math.min(a,s,o),v=Math.min(u,h,p),_=Math.max(a,s,o),x=Math.max(u,h,p);let T=n.next;for(;T!==t;){if(T.x>=m&&T.x<=_&&T.y>=v&&T.y<=x&&s0(a,u,s,h,o,p,T.x,T.y)&&vi(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function R6(i,t,e,n){const a=i.prev,s=i,o=i.next;if(vi(a,s,o)>=0)return!1;const u=a.x,h=s.x,p=o.x,m=a.y,v=s.y,_=o.y,x=Math.min(u,h,p),T=Math.min(m,v,_),A=Math.max(u,h,p),E=Math.max(m,v,_),b=hT(x,T,t,e,n),R=hT(A,E,t,e,n);let D=i.prevZ,N=i.nextZ;for(;D&&D.z>=b&&N&&N.z<=R;){if(D.x>=x&&D.x<=A&&D.y>=T&&D.y<=E&&D!==a&&D!==o&&s0(u,m,h,v,p,_,D.x,D.y)&&vi(D.prev,D,D.next)>=0||(D=D.prevZ,N.x>=x&&N.x<=A&&N.y>=T&&N.y<=E&&N!==a&&N!==o&&s0(u,m,h,v,p,_,N.x,N.y)&&vi(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;D&&D.z>=b;){if(D.x>=x&&D.x<=A&&D.y>=T&&D.y<=E&&D!==a&&D!==o&&s0(u,m,h,v,p,_,D.x,D.y)&&vi(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;N&&N.z<=R;){if(N.x>=x&&N.x<=A&&N.y>=T&&N.y<=E&&N!==a&&N!==o&&s0(u,m,h,v,p,_,N.x,N.y)&&vi(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function D6(i,t){let e=i;do{const n=e.prev,a=e.next.next;!am(n,a)&&vO(n,e,e.next,a)&&X0(n,a)&&X0(a,n)&&(t.push(n.i,e.i,a.i),q0(e),q0(e.next),e=i=a),e=e.next}while(e!==i);return Yh(e)}function N6(i,t,e,n,a,s){let o=i;do{let u=o.next.next;for(;u!==o.prev;){if(o.i!==u.i&&V6(o,u)){let h=yO(o,u);o=Yh(o,o.next),h=Yh(h,h.next),k0(o,t,e,n,a,s,0),k0(h,t,e,n,a,s,0);return}u=u.next}o=o.next}while(o!==i)}function O6(i,t,e,n){const a=[];for(let s=0,o=t.length;s<o;s++){const u=t[s]*n,h=s<o-1?t[s+1]*n:i.length,p=mO(i,u,h,n,!1);p===p.next&&(p.steiner=!0),a.push(F6(p))}a.sort(U6);for(let s=0;s<a.length;s++)e=L6(a[s],e);return e}function U6(i,t){let e=i.x-t.x;if(e===0&&(e=i.y-t.y,e===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),a=(t.next.y-t.y)/(t.next.x-t.x);e=n-a}return e}function L6(i,t){const e=P6(i,t);if(!e)return t;const n=yO(e,i);return Yh(n,n.next),Yh(e,e.next)}function P6(i,t){let e=t;const n=i.x,a=i.y;let s=-1/0,o;if(am(i,e))return e;do{if(am(i,e.next))return e.next;if(a<=e.y&&a>=e.next.y&&e.next.y!==e.y){const v=e.x+(a-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(v<=n&&v>s&&(s=v,o=e.x<e.next.x?e:e.next,v===n))return o}e=e.next}while(e!==t);if(!o)return null;const u=o,h=o.x,p=o.y;let m=1/0;e=o;do{if(n>=e.x&&e.x>=h&&n!==e.x&&gO(a<p?n:s,a,h,p,a<p?s:n,a,e.x,e.y)){const v=Math.abs(a-e.y)/(n-e.x);X0(e,i)&&(v<m||v===m&&(e.x>o.x||e.x===o.x&&z6(o,e)))&&(o=e,m=v)}e=e.next}while(e!==u);return o}function z6(i,t){return vi(i.prev,i,t.prev)<0&&vi(t.next,i,i.next)<0}function B6(i,t,e,n){let a=i;do a.z===0&&(a.z=hT(a.x,a.y,t,e,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==i);a.prevZ.nextZ=null,a.prevZ=null,I6(a)}function I6(i){let t,e=1;do{let n=i,a;i=null;let s=null;for(t=0;n;){t++;let o=n,u=0;for(let p=0;p<e&&(u++,o=o.nextZ,!!o);p++);let h=e;for(;u>0||h>0&&o;)u!==0&&(h===0||!o||n.z<=o.z)?(a=n,n=n.nextZ,u--):(a=o,o=o.nextZ,h--),s?s.nextZ=a:i=a,a.prevZ=s,s=a;n=o}s.nextZ=null,e*=2}while(t>1);return i}function hT(i,t,e,n,a){return i=(i-e)*a|0,t=(t-n)*a|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,i|t<<1}function F6(i){let t=i,e=i;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==i);return e}function gO(i,t,e,n,a,s,o,u){return(a-o)*(t-u)>=(i-o)*(s-u)&&(i-o)*(n-u)>=(e-o)*(t-u)&&(e-o)*(s-u)>=(a-o)*(n-u)}function s0(i,t,e,n,a,s,o,u){return!(i===o&&t===u)&&gO(i,t,e,n,a,s,o,u)}function V6(i,t){return i.next.i!==t.i&&i.prev.i!==t.i&&!H6(i,t)&&(X0(i,t)&&X0(t,i)&&G6(i,t)&&(vi(i.prev,i,t.prev)||vi(i,t.prev,t))||am(i,t)&&vi(i.prev,i,i.next)>0&&vi(t.prev,t,t.next)>0)}function vi(i,t,e){return(t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y)}function am(i,t){return i.x===t.x&&i.y===t.y}function vO(i,t,e,n){const a=G_(vi(i,t,e)),s=G_(vi(i,t,n)),o=G_(vi(e,n,i)),u=G_(vi(e,n,t));return!!(a!==s&&o!==u||a===0&&H_(i,e,t)||s===0&&H_(i,n,t)||o===0&&H_(e,i,n)||u===0&&H_(e,t,n))}function H_(i,t,e){return t.x<=Math.max(i.x,e.x)&&t.x>=Math.min(i.x,e.x)&&t.y<=Math.max(i.y,e.y)&&t.y>=Math.min(i.y,e.y)}function G_(i){return i>0?1:i<0?-1:0}function H6(i,t){let e=i;do{if(e.i!==i.i&&e.next.i!==i.i&&e.i!==t.i&&e.next.i!==t.i&&vO(e,e.next,i,t))return!0;e=e.next}while(e!==i);return!1}function X0(i,t){return vi(i.prev,i,i.next)<0?vi(i,t,i.next)>=0&&vi(i,i.prev,t)>=0:vi(i,t,i.prev)<0||vi(i,i.next,t)<0}function G6(i,t){let e=i,n=!1;const a=(i.x+t.x)/2,s=(i.y+t.y)/2;do e.y>s!=e.next.y>s&&e.next.y!==e.y&&a<(e.next.x-e.x)*(s-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next;while(e!==i);return n}function yO(i,t){const e=dT(i.i,i.x,i.y),n=dT(t.i,t.x,t.y),a=i.next,s=t.prev;return i.next=t,t.prev=i,e.next=a,a.prev=e,n.next=e,e.prev=n,s.next=n,n.prev=s,n}function yC(i,t,e,n){const a=dT(i,t,e);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function q0(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function dT(i,t,e){return{i,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function k6(i,t,e,n){let a=0;for(let s=t,o=e-n;s<e;s+=n)a+=(i[o]-i[s])*(i[s+1]+i[o+1]),o=s;return a}class X6{static triangulate(t,e,n=2){return w6(t,e,n)}}class zo{static area(t){const e=t.length;let n=0;for(let a=e-1,s=0;s<e;a=s++)n+=t[a].x*t[s].y-t[s].x*t[a].y;return n*.5}static isClockWise(t){return zo.area(t)<0}static triangulateShape(t,e){const n=[],a=[],s=[];_C(t),xC(n,t);let o=t.length;e.forEach(_C);for(let h=0;h<e.length;h++)a.push(o),o+=e[h].length,xC(n,e[h]);const u=X6.triangulate(n,a);for(let h=0;h<u.length;h+=3)s.push(u.slice(h,h+3));return s}}function _C(i){const t=i.length;t>2&&i[t-1].equals(i[0])&&i.pop()}function xC(i,t){for(let e=0;e<t.length;e++)i.push(t[e].x),i.push(t[e].y)}class sS extends en{constructor(t=new Bh([new Ht(.5,.5),new Ht(-.5,.5),new Ht(-.5,-.5),new Ht(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,a=[],s=[];for(let u=0,h=t.length;u<h;u++){const p=t[u];o(p)}this.setAttribute("position",new xe(a,3)),this.setAttribute("uv",new xe(s,2)),this.computeVertexNormals();function o(u){const h=[],p=e.curveSegments!==void 0?e.curveSegments:12,m=e.steps!==void 0?e.steps:1,v=e.depth!==void 0?e.depth:1;let _=e.bevelEnabled!==void 0?e.bevelEnabled:!0,x=e.bevelThickness!==void 0?e.bevelThickness:.2,T=e.bevelSize!==void 0?e.bevelSize:x-.1,A=e.bevelOffset!==void 0?e.bevelOffset:0,E=e.bevelSegments!==void 0?e.bevelSegments:3;const b=e.extrudePath,R=e.UVGenerator!==void 0?e.UVGenerator:q6;let D,N=!1,U,P,F,V;b&&(D=b.getSpacedPoints(m),N=!0,_=!1,U=b.computeFrenetFrames(m,!1),P=new K,F=new K,V=new K),_||(E=0,x=0,T=0,A=0);const L=u.extractPoints(p);let B=L.shape;const W=L.holes;if(!zo.isClockWise(B)){B=B.reverse();for(let Vt=0,Bt=W.length;Vt<Bt;Vt++){const Pt=W[Vt];zo.isClockWise(Pt)&&(W[Vt]=Pt.reverse())}}function it(Vt){const Pt=10000000000000001e-36;let Dt=Vt[0];for(let ne=1;ne<=Vt.length;ne++){const Xt=ne%Vt.length,Wt=Vt[Xt],we=Wt.x-Dt.x,ze=Wt.y-Dt.y,Z=we*we+ze*ze,H=Math.max(Math.abs(Wt.x),Math.abs(Wt.y),Math.abs(Dt.x),Math.abs(Dt.y)),pt=Pt*H*H;if(Z<=pt){Vt.splice(Xt,1),ne--;continue}Dt=Wt}}it(B),W.forEach(it);const ct=W.length,ut=B;for(let Vt=0;Vt<ct;Vt++){const Bt=W[Vt];B=B.concat(Bt)}function z(Vt,Bt,Pt){return Bt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Vt.clone().addScaledVector(Bt,Pt)}const q=B.length;function j(Vt,Bt,Pt){let Dt,ne,Xt;const Wt=Vt.x-Bt.x,we=Vt.y-Bt.y,ze=Pt.x-Vt.x,Z=Pt.y-Vt.y,H=Wt*Wt+we*we,pt=Wt*Z-we*ze;if(Math.abs(pt)>Number.EPSILON){const At=Math.sqrt(H),Lt=Math.sqrt(ze*ze+Z*Z),Ct=Bt.x-we/At,re=Bt.y+Wt/At,$t=Pt.x-Z/Lt,me=Pt.y+ze/Lt,ge=(($t-Ct)*Z-(me-re)*ze)/(Wt*Z-we*ze);Dt=Ct+Wt*ge-Vt.x,ne=re+we*ge-Vt.y;const Gt=Dt*Dt+ne*ne;if(Gt<=2)return new Ht(Dt,ne);Xt=Math.sqrt(Gt/2)}else{let At=!1;Wt>Number.EPSILON?ze>Number.EPSILON&&(At=!0):Wt<-Number.EPSILON?ze<-Number.EPSILON&&(At=!0):Math.sign(we)===Math.sign(Z)&&(At=!0),At?(Dt=-we,ne=Wt,Xt=Math.sqrt(H)):(Dt=Wt,ne=we,Xt=Math.sqrt(H/2))}return new Ht(Dt/Xt,ne/Xt)}const rt=[];for(let Vt=0,Bt=ut.length,Pt=Bt-1,Dt=Vt+1;Vt<Bt;Vt++,Pt++,Dt++)Pt===Bt&&(Pt=0),Dt===Bt&&(Dt=0),rt[Vt]=j(ut[Vt],ut[Pt],ut[Dt]);const k=[];let nt,_t=rt.concat();for(let Vt=0,Bt=ct;Vt<Bt;Vt++){const Pt=W[Vt];nt=[];for(let Dt=0,ne=Pt.length,Xt=ne-1,Wt=Dt+1;Dt<ne;Dt++,Xt++,Wt++)Xt===ne&&(Xt=0),Wt===ne&&(Wt=0),nt[Dt]=j(Pt[Dt],Pt[Xt],Pt[Wt]);k.push(nt),_t=_t.concat(nt)}let wt;if(E===0)wt=zo.triangulateShape(ut,W);else{const Vt=[],Bt=[];for(let Pt=0;Pt<E;Pt++){const Dt=Pt/E,ne=x*Math.cos(Dt*Math.PI/2),Xt=T*Math.sin(Dt*Math.PI/2)+A;for(let Wt=0,we=ut.length;Wt<we;Wt++){const ze=z(ut[Wt],rt[Wt],Xt);he(ze.x,ze.y,-ne),Dt===0&&Vt.push(ze)}for(let Wt=0,we=ct;Wt<we;Wt++){const ze=W[Wt];nt=k[Wt];const Z=[];for(let H=0,pt=ze.length;H<pt;H++){const At=z(ze[H],nt[H],Xt);he(At.x,At.y,-ne),Dt===0&&Z.push(At)}Dt===0&&Bt.push(Z)}}wt=zo.triangulateShape(Vt,Bt)}const Rt=wt.length,qt=T+A;for(let Vt=0;Vt<q;Vt++){const Bt=_?z(B[Vt],_t[Vt],qt):B[Vt];N?(F.copy(U.normals[0]).multiplyScalar(Bt.x),P.copy(U.binormals[0]).multiplyScalar(Bt.y),V.copy(D[0]).add(F).add(P),he(V.x,V.y,V.z)):he(Bt.x,Bt.y,0)}for(let Vt=1;Vt<=m;Vt++)for(let Bt=0;Bt<q;Bt++){const Pt=_?z(B[Bt],_t[Bt],qt):B[Bt];N?(F.copy(U.normals[Vt]).multiplyScalar(Pt.x),P.copy(U.binormals[Vt]).multiplyScalar(Pt.y),V.copy(D[Vt]).add(F).add(P),he(V.x,V.y,V.z)):he(Pt.x,Pt.y,v/m*Vt)}for(let Vt=E-1;Vt>=0;Vt--){const Bt=Vt/E,Pt=x*Math.cos(Bt*Math.PI/2),Dt=T*Math.sin(Bt*Math.PI/2)+A;for(let ne=0,Xt=ut.length;ne<Xt;ne++){const Wt=z(ut[ne],rt[ne],Dt);he(Wt.x,Wt.y,v+Pt)}for(let ne=0,Xt=W.length;ne<Xt;ne++){const Wt=W[ne];nt=k[ne];for(let we=0,ze=Wt.length;we<ze;we++){const Z=z(Wt[we],nt[we],Dt);N?he(Z.x,Z.y+D[m-1].y,D[m-1].x+Pt):he(Z.x,Z.y,v+Pt)}}}mt(),Nt();function mt(){const Vt=a.length/3;if(_){let Bt=0,Pt=q*Bt;for(let Dt=0;Dt<Rt;Dt++){const ne=wt[Dt];ce(ne[2]+Pt,ne[1]+Pt,ne[0]+Pt)}Bt=m+E*2,Pt=q*Bt;for(let Dt=0;Dt<Rt;Dt++){const ne=wt[Dt];ce(ne[0]+Pt,ne[1]+Pt,ne[2]+Pt)}}else{for(let Bt=0;Bt<Rt;Bt++){const Pt=wt[Bt];ce(Pt[2],Pt[1],Pt[0])}for(let Bt=0;Bt<Rt;Bt++){const Pt=wt[Bt];ce(Pt[0]+q*m,Pt[1]+q*m,Pt[2]+q*m)}}n.addGroup(Vt,a.length/3-Vt,0)}function Nt(){const Vt=a.length/3;let Bt=0;kt(ut,Bt),Bt+=ut.length;for(let Pt=0,Dt=W.length;Pt<Dt;Pt++){const ne=W[Pt];kt(ne,Bt),Bt+=ne.length}n.addGroup(Vt,a.length/3-Vt,1)}function kt(Vt,Bt){let Pt=Vt.length;for(;--Pt>=0;){const Dt=Pt;let ne=Pt-1;ne<0&&(ne=Vt.length-1);for(let Xt=0,Wt=m+E*2;Xt<Wt;Xt++){const we=q*Xt,ze=q*(Xt+1),Z=Bt+Dt+we,H=Bt+ne+we,pt=Bt+ne+ze,At=Bt+Dt+ze;Xe(Z,H,pt,At)}}}function he(Vt,Bt,Pt){h.push(Vt),h.push(Bt),h.push(Pt)}function ce(Vt,Bt,Pt){hn(Vt),hn(Bt),hn(Pt);const Dt=a.length/3,ne=R.generateTopUV(n,a,Dt-3,Dt-2,Dt-1);Q(ne[0]),Q(ne[1]),Q(ne[2])}function Xe(Vt,Bt,Pt,Dt){hn(Vt),hn(Bt),hn(Dt),hn(Bt),hn(Pt),hn(Dt);const ne=a.length/3,Xt=R.generateSideWallUV(n,a,ne-6,ne-3,ne-2,ne-1);Q(Xt[0]),Q(Xt[1]),Q(Xt[3]),Q(Xt[1]),Q(Xt[2]),Q(Xt[3])}function hn(Vt){a.push(h[Vt*3+0]),a.push(h[Vt*3+1]),a.push(h[Vt*3+2])}function Q(Vt){s.push(Vt.x),s.push(Vt.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,n=this.parameters.options;return Y6(e,n,t)}static fromJSON(t,e){const n=[];for(let s=0,o=t.shapes.length;s<o;s++){const u=e[t.shapes[s]];n.push(u)}const a=t.options.extrudePath;return a!==void 0&&(t.options.extrudePath=new h1[a.type]().fromJSON(a)),new sS(n,t.options)}}const q6={generateTopUV:function(i,t,e,n,a){const s=t[e*3],o=t[e*3+1],u=t[n*3],h=t[n*3+1],p=t[a*3],m=t[a*3+1];return[new Ht(s,o),new Ht(u,h),new Ht(p,m)]},generateSideWallUV:function(i,t,e,n,a,s){const o=t[e*3],u=t[e*3+1],h=t[e*3+2],p=t[n*3],m=t[n*3+1],v=t[n*3+2],_=t[a*3],x=t[a*3+1],T=t[a*3+2],A=t[s*3],E=t[s*3+1],b=t[s*3+2];return Math.abs(u-m)<Math.abs(o-p)?[new Ht(o,1-h),new Ht(p,1-v),new Ht(_,1-T),new Ht(A,1-b)]:[new Ht(u,1-h),new Ht(m,1-v),new Ht(x,1-T),new Ht(E,1-b)]}};function Y6(i,t,e){if(e.shapes=[],Array.isArray(i))for(let n=0,a=i.length;n<a;n++){const s=i[n];e.shapes.push(s.uuid)}else e.shapes.push(i.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class rS extends uf{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,a=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,s,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new rS(t.radius,t.detail)}}class oS extends en{constructor(t=[new Ht(0,-.5),new Ht(.5,0),new Ht(0,.5)],e=12,n=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:a},e=Math.floor(e),a=Ve(a,0,Math.PI*2);const s=[],o=[],u=[],h=[],p=[],m=1/e,v=new K,_=new Ht,x=new K,T=new K,A=new K;let E=0,b=0;for(let R=0;R<=t.length-1;R++)switch(R){case 0:E=t[R+1].x-t[R].x,b=t[R+1].y-t[R].y,x.x=b*1,x.y=-E,x.z=b*0,A.copy(x),x.normalize(),h.push(x.x,x.y,x.z);break;case t.length-1:h.push(A.x,A.y,A.z);break;default:E=t[R+1].x-t[R].x,b=t[R+1].y-t[R].y,x.x=b*1,x.y=-E,x.z=b*0,T.copy(x),x.x+=A.x,x.y+=A.y,x.z+=A.z,x.normalize(),h.push(x.x,x.y,x.z),A.copy(T)}for(let R=0;R<=e;R++){const D=n+R*m*a,N=Math.sin(D),U=Math.cos(D);for(let P=0;P<=t.length-1;P++){v.x=t[P].x*N,v.y=t[P].y,v.z=t[P].x*U,o.push(v.x,v.y,v.z),_.x=R/e,_.y=P/(t.length-1),u.push(_.x,_.y);const F=h[3*P+0]*N,V=h[3*P+1],L=h[3*P+0]*U;p.push(F,V,L)}}for(let R=0;R<e;R++)for(let D=0;D<t.length-1;D++){const N=D+R*t.length,U=N,P=N+t.length,F=N+t.length+1,V=N+1;s.push(U,P,V),s.push(F,V,P)}this.setIndex(s),this.setAttribute("position",new xe(o,3)),this.setAttribute("uv",new xe(u,2)),this.setAttribute("normal",new xe(p,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new oS(t.points,t.segments,t.phiStart,t.phiLength)}}class _v extends uf{constructor(t=1,e=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,a,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new _v(t.radius,t.detail)}}class Sm extends en{constructor(t=1,e=1,n=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:a};const s=t/2,o=e/2,u=Math.floor(n),h=Math.floor(a),p=u+1,m=h+1,v=t/u,_=e/h,x=[],T=[],A=[],E=[];for(let b=0;b<m;b++){const R=b*_-o;for(let D=0;D<p;D++){const N=D*v-s;T.push(N,-R,0),A.push(0,0,1),E.push(D/u),E.push(1-b/h)}}for(let b=0;b<h;b++)for(let R=0;R<u;R++){const D=R+p*b,N=R+p*(b+1),U=R+1+p*(b+1),P=R+1+p*b;x.push(D,N,P),x.push(N,U,P)}this.setIndex(x),this.setAttribute("position",new xe(T,3)),this.setAttribute("normal",new xe(A,3)),this.setAttribute("uv",new xe(E,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Sm(t.width,t.height,t.widthSegments,t.heightSegments)}}class lS extends en{constructor(t=.5,e=1,n=32,a=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:a,thetaStart:s,thetaLength:o},n=Math.max(3,n),a=Math.max(1,a);const u=[],h=[],p=[],m=[];let v=t;const _=(e-t)/a,x=new K,T=new Ht;for(let A=0;A<=a;A++){for(let E=0;E<=n;E++){const b=s+E/n*o;x.x=v*Math.cos(b),x.y=v*Math.sin(b),h.push(x.x,x.y,x.z),p.push(0,0,1),T.x=(x.x/e+1)/2,T.y=(x.y/e+1)/2,m.push(T.x,T.y)}v+=_}for(let A=0;A<a;A++){const E=A*(n+1);for(let b=0;b<n;b++){const R=b+E,D=R,N=R+n+1,U=R+n+2,P=R+1;u.push(D,N,P),u.push(N,U,P)}}this.setIndex(u),this.setAttribute("position",new xe(h,3)),this.setAttribute("normal",new xe(p,3)),this.setAttribute("uv",new xe(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new lS(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class uS extends en{constructor(t=new Bh([new Ht(0,.5),new Ht(-.5,-.5),new Ht(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],a=[],s=[],o=[];let u=0,h=0;if(Array.isArray(t)===!1)p(t);else for(let m=0;m<t.length;m++)p(t[m]),this.addGroup(u,h,m),u+=h,h=0;this.setIndex(n),this.setAttribute("position",new xe(a,3)),this.setAttribute("normal",new xe(s,3)),this.setAttribute("uv",new xe(o,2));function p(m){const v=a.length/3,_=m.extractPoints(e);let x=_.shape;const T=_.holes;zo.isClockWise(x)===!1&&(x=x.reverse());for(let E=0,b=T.length;E<b;E++){const R=T[E];zo.isClockWise(R)===!0&&(T[E]=R.reverse())}const A=zo.triangulateShape(x,T);for(let E=0,b=T.length;E<b;E++){const R=T[E];x=x.concat(R)}for(let E=0,b=x.length;E<b;E++){const R=x[E];a.push(R.x,R.y,0),s.push(0,0,1),o.push(R.x,R.y)}for(let E=0,b=A.length;E<b;E++){const R=A[E],D=R[0]+v,N=R[1]+v,U=R[2]+v;n.push(D,N,U),h+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return j6(e,t)}static fromJSON(t,e){const n=[];for(let a=0,s=t.shapes.length;a<s;a++){const o=e[t.shapes[a]];n.push(o)}return new uS(n,t.curveSegments)}}function j6(i,t){if(t.shapes=[],Array.isArray(i))for(let e=0,n=i.length;e<n;e++){const a=i[e];t.shapes.push(a.uuid)}else t.shapes.push(i.uuid);return t}class xv extends en{constructor(t=1,e=32,n=16,a=0,s=Math.PI*2,o=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:a,phiLength:s,thetaStart:o,thetaLength:u},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const h=Math.min(o+u,Math.PI);let p=0;const m=[],v=new K,_=new K,x=[],T=[],A=[],E=[];for(let b=0;b<=n;b++){const R=[],D=b/n;let N=0;b===0&&o===0?N=.5/e:b===n&&h===Math.PI&&(N=-.5/e);for(let U=0;U<=e;U++){const P=U/e;v.x=-t*Math.cos(a+P*s)*Math.sin(o+D*u),v.y=t*Math.cos(o+D*u),v.z=t*Math.sin(a+P*s)*Math.sin(o+D*u),T.push(v.x,v.y,v.z),_.copy(v).normalize(),A.push(_.x,_.y,_.z),E.push(P+N,1-D),R.push(p++)}m.push(R)}for(let b=0;b<n;b++)for(let R=0;R<e;R++){const D=m[b][R+1],N=m[b][R],U=m[b+1][R],P=m[b+1][R+1];(b!==0||o>0)&&x.push(D,N,P),(b!==n-1||h<Math.PI)&&x.push(N,U,P)}this.setIndex(x),this.setAttribute("position",new xe(T,3)),this.setAttribute("normal",new xe(A,3)),this.setAttribute("uv",new xe(E,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new xv(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class cS extends uf{constructor(t=1,e=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,a,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new cS(t.radius,t.detail)}}class fS extends en{constructor(t=1,e=.4,n=12,a=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:a,arc:s},n=Math.floor(n),a=Math.floor(a);const o=[],u=[],h=[],p=[],m=new K,v=new K,_=new K;for(let x=0;x<=n;x++)for(let T=0;T<=a;T++){const A=T/a*s,E=x/n*Math.PI*2;v.x=(t+e*Math.cos(E))*Math.cos(A),v.y=(t+e*Math.cos(E))*Math.sin(A),v.z=e*Math.sin(E),u.push(v.x,v.y,v.z),m.x=t*Math.cos(A),m.y=t*Math.sin(A),_.subVectors(v,m).normalize(),h.push(_.x,_.y,_.z),p.push(T/a),p.push(x/n)}for(let x=1;x<=n;x++)for(let T=1;T<=a;T++){const A=(a+1)*x+T-1,E=(a+1)*(x-1)+T-1,b=(a+1)*(x-1)+T,R=(a+1)*x+T;o.push(A,E,R),o.push(E,b,R)}this.setIndex(o),this.setAttribute("position",new xe(u,3)),this.setAttribute("normal",new xe(h,3)),this.setAttribute("uv",new xe(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new fS(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class hS extends en{constructor(t=1,e=.4,n=64,a=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:a,p:s,q:o},n=Math.floor(n),a=Math.floor(a);const u=[],h=[],p=[],m=[],v=new K,_=new K,x=new K,T=new K,A=new K,E=new K,b=new K;for(let D=0;D<=n;++D){const N=D/n*s*Math.PI*2;R(N,s,o,t,x),R(N+.01,s,o,t,T),E.subVectors(T,x),b.addVectors(T,x),A.crossVectors(E,b),b.crossVectors(A,E),A.normalize(),b.normalize();for(let U=0;U<=a;++U){const P=U/a*Math.PI*2,F=-e*Math.cos(P),V=e*Math.sin(P);v.x=x.x+(F*b.x+V*A.x),v.y=x.y+(F*b.y+V*A.y),v.z=x.z+(F*b.z+V*A.z),h.push(v.x,v.y,v.z),_.subVectors(v,x).normalize(),p.push(_.x,_.y,_.z),m.push(D/n),m.push(U/a)}}for(let D=1;D<=n;D++)for(let N=1;N<=a;N++){const U=(a+1)*(D-1)+(N-1),P=(a+1)*D+(N-1),F=(a+1)*D+N,V=(a+1)*(D-1)+N;u.push(U,P,V),u.push(P,F,V)}this.setIndex(u),this.setAttribute("position",new xe(h,3)),this.setAttribute("normal",new xe(p,3)),this.setAttribute("uv",new xe(m,2));function R(D,N,U,P,F){const V=Math.cos(D),L=Math.sin(D),B=U/N*D,W=Math.cos(B);F.x=P*(2+W)*.5*V,F.y=P*(2+W)*L*.5,F.z=P*Math.sin(B)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new hS(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class dS extends en{constructor(t=new iA(new K(-1,-1,0),new K(-1,1,0),new K(1,1,0)),e=64,n=1,a=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:a,closed:s};const o=t.computeFrenetFrames(e,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const u=new K,h=new K,p=new Ht;let m=new K;const v=[],_=[],x=[],T=[];A(),this.setIndex(T),this.setAttribute("position",new xe(v,3)),this.setAttribute("normal",new xe(_,3)),this.setAttribute("uv",new xe(x,2));function A(){for(let D=0;D<e;D++)E(D);E(s===!1?e:0),R(),b()}function E(D){m=t.getPointAt(D/e,m);const N=o.normals[D],U=o.binormals[D];for(let P=0;P<=a;P++){const F=P/a*Math.PI*2,V=Math.sin(F),L=-Math.cos(F);h.x=L*N.x+V*U.x,h.y=L*N.y+V*U.y,h.z=L*N.z+V*U.z,h.normalize(),_.push(h.x,h.y,h.z),u.x=m.x+n*h.x,u.y=m.y+n*h.y,u.z=m.z+n*h.z,v.push(u.x,u.y,u.z)}}function b(){for(let D=1;D<=e;D++)for(let N=1;N<=a;N++){const U=(a+1)*(D-1)+(N-1),P=(a+1)*D+(N-1),F=(a+1)*D+N,V=(a+1)*(D-1)+N;T.push(U,P,V),T.push(P,F,V)}}function R(){for(let D=0;D<=e;D++)for(let N=0;N<=a;N++)p.x=D/e,p.y=N/a,x.push(p.x,p.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new dS(new h1[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class _O extends en{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],n=new Set,a=new K,s=new K;if(t.index!==null){const o=t.attributes.position,u=t.index;let h=t.groups;h.length===0&&(h=[{start:0,count:u.count,materialIndex:0}]);for(let p=0,m=h.length;p<m;++p){const v=h[p],_=v.start,x=v.count;for(let T=_,A=_+x;T<A;T+=3)for(let E=0;E<3;E++){const b=u.getX(T+E),R=u.getX(T+(E+1)%3);a.fromBufferAttribute(o,b),s.fromBufferAttribute(o,R),SC(a,s,n)===!0&&(e.push(a.x,a.y,a.z),e.push(s.x,s.y,s.z))}}}else{const o=t.attributes.position;for(let u=0,h=o.count/3;u<h;u++)for(let p=0;p<3;p++){const m=3*u+p,v=3*u+(p+1)%3;a.fromBufferAttribute(o,m),s.fromBufferAttribute(o,v),SC(a,s,n)===!0&&(e.push(a.x,a.y,a.z),e.push(s.x,s.y,s.z))}}this.setAttribute("position",new xe(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function SC(i,t,e){const n=`${i.x},${i.y},${i.z}-${t.x},${t.y},${t.z}`,a=`${t.x},${t.y},${t.z}-${i.x},${i.y},${i.z}`;return e.has(n)===!0||e.has(a)===!0?!1:(e.add(n),e.add(a),!0)}var bC=Object.freeze({__proto__:null,BoxGeometry:Jh,CapsuleGeometry:eS,CircleGeometry:nS,ConeGeometry:yv,CylinderGeometry:vv,DodecahedronGeometry:iS,EdgesGeometry:uO,ExtrudeGeometry:sS,IcosahedronGeometry:rS,LatheGeometry:oS,OctahedronGeometry:_v,PlaneGeometry:Sm,PolyhedronGeometry:uf,RingGeometry:lS,ShapeGeometry:uS,SphereGeometry:xv,TetrahedronGeometry:cS,TorusGeometry:fS,TorusKnotGeometry:hS,TubeGeometry:dS,WireframeGeometry:_O});class xO extends $a{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new pe(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class SO extends Io{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class sA extends $a{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new pe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=of,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new br,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class bO extends sA{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ht(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ve(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new pe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new pe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new pe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class MO extends $a{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new pe(16777215),this.specular=new pe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=of,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new br,this.combine=pv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class TO extends $a{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new pe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=of,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class EO extends $a{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=of,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class AO extends $a{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new pe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=of,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new br,this.combine=pv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class rA extends $a{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=zN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class oA extends $a{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class wO extends $a{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new pe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=of,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class CO extends As{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Rh(i,t){return!i||i.constructor===t?i:typeof t.BYTES_PER_ELEMENT=="number"?new t(i):Array.prototype.slice.call(i)}function RO(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function DO(i){function t(a,s){return i[a]-i[s]}const e=i.length,n=new Array(e);for(let a=0;a!==e;++a)n[a]=a;return n.sort(t),n}function pT(i,t,e){const n=i.length,a=new i.constructor(n);for(let s=0,o=0;o!==n;++s){const u=e[s]*t;for(let h=0;h!==t;++h)a[o++]=i[u+h]}return a}function lA(i,t,e,n){let a=1,s=i[0];for(;s!==void 0&&s[n]===void 0;)s=i[a++];if(s===void 0)return;let o=s[n];if(o!==void 0)if(Array.isArray(o))do o=s[n],o!==void 0&&(t.push(s.time),e.push(...o)),s=i[a++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[n],o!==void 0&&(t.push(s.time),o.toArray(e,e.length)),s=i[a++];while(s!==void 0);else do o=s[n],o!==void 0&&(t.push(s.time),e.push(o)),s=i[a++];while(s!==void 0)}function W6(i,t,e,n,a=30){const s=i.clone();s.name=t;const o=[];for(let h=0;h<s.tracks.length;++h){const p=s.tracks[h],m=p.getValueSize(),v=[],_=[];for(let x=0;x<p.times.length;++x){const T=p.times[x]*a;if(!(T<e||T>=n)){v.push(p.times[x]);for(let A=0;A<m;++A)_.push(p.values[x*m+A])}}v.length!==0&&(p.times=Rh(v,p.times.constructor),p.values=Rh(_,p.values.constructor),o.push(p))}s.tracks=o;let u=1/0;for(let h=0;h<s.tracks.length;++h)u>s.tracks[h].times[0]&&(u=s.tracks[h].times[0]);for(let h=0;h<s.tracks.length;++h)s.tracks[h].shift(-1*u);return s.resetDuration(),s}function Z6(i,t=0,e=i,n=30){n<=0&&(n=30);const a=e.tracks.length,s=t/n;for(let o=0;o<a;++o){const u=e.tracks[o],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const p=i.tracks.find(function(b){return b.name===u.name&&b.ValueTypeName===h});if(p===void 0)continue;let m=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let _=0;const x=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=x/3);const T=u.times.length-1;let A;if(s<=u.times[0]){const b=m,R=v-m;A=u.values.slice(b,R)}else if(s>=u.times[T]){const b=T*v+m,R=b+v-m;A=u.values.slice(b,R)}else{const b=u.createInterpolant(),R=m,D=v-m;b.evaluate(s),A=b.resultBuffer.slice(R,D)}h==="quaternion"&&new Ws().fromArray(A).normalize().conjugate().toArray(A);const E=p.times.length;for(let b=0;b<E;++b){const R=b*x+_;if(h==="quaternion")Ws.multiplyQuaternionsFlat(p.values,R,A,0,p.values,R);else{const D=x-_*2;for(let N=0;N<D;++N)p.values[R+N]-=A[N]}}}return i.blendMode=HE,i}class K6{static convertArray(t,e){return Rh(t,e)}static isTypedArray(t){return RO(t)}static getKeyframeOrder(t){return DO(t)}static sortedArray(t,e,n){return pT(t,e,n)}static flattenJSON(t,e,n,a){lA(t,e,n,a)}static subclip(t,e,n,a,s=30){return W6(t,e,n,a,s)}static makeClipAdditive(t,e=0,n=t,a=30){return Z6(t,e,n,a)}}class Sv{constructor(t,e,n,a){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,a=e[n],s=e[n-1];t:{e:{let o;n:{i:if(!(t<a)){for(let u=n+2;;){if(a===void 0){if(t<s)break i;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===u)break;if(s=a,a=e[++n],t<a)break e}o=e.length;break n}if(!(t>=s)){const u=e[1];t<u&&(n=2,s=u);for(let h=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===h)break;if(a=s,s=e[--n-1],t>=s)break e}o=n,n=0;break n}break t}for(;n<o;){const u=n+o>>>1;t<e[u]?o=u:n=u+1}if(a=e[n],s=e[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,a)}return this.interpolate_(n,s,t,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,a=this.valueSize,s=t*a;for(let o=0;o!==a;++o)e[o]=n[s+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class NO extends Sv{constructor(t,e,n,a){super(t,e,n,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:wh,endingEnd:wh}}intervalChanged_(t,e,n){const a=this.parameterPositions;let s=t-2,o=t+1,u=a[s],h=a[o];if(u===void 0)switch(this.getSettings_().endingStart){case Ch:s=t,u=2*e-n;break;case I0:s=a.length-2,u=e+a[s]-a[s+1];break;default:s=t,u=n}if(h===void 0)switch(this.getSettings_().endingEnd){case Ch:o=t,h=2*n-e;break;case I0:o=1,h=n+a[1]-a[0];break;default:o=t-1,h=e}const p=(n-e)*.5,m=this.valueSize;this._weightPrev=p/(e-u),this._weightNext=p/(h-n),this._offsetPrev=s*m,this._offsetNext=o*m}interpolate_(t,e,n,a){const s=this.resultBuffer,o=this.sampleValues,u=this.valueSize,h=t*u,p=h-u,m=this._offsetPrev,v=this._offsetNext,_=this._weightPrev,x=this._weightNext,T=(n-e)/(a-e),A=T*T,E=A*T,b=-_*E+2*_*A-_*T,R=(1+_)*E+(-1.5-2*_)*A+(-.5+_)*T+1,D=(-1-x)*E+(1.5+x)*A+.5*T,N=x*E-x*A;for(let U=0;U!==u;++U)s[U]=b*o[m+U]+R*o[p+U]+D*o[h+U]+N*o[v+U];return s}}class uA extends Sv{constructor(t,e,n,a){super(t,e,n,a)}interpolate_(t,e,n,a){const s=this.resultBuffer,o=this.sampleValues,u=this.valueSize,h=t*u,p=h-u,m=(n-e)/(a-e),v=1-m;for(let _=0;_!==u;++_)s[_]=o[p+_]*v+o[h+_]*m;return s}}class OO extends Sv{constructor(t,e,n,a){super(t,e,n,a)}interpolate_(t){return this.copySampleValue_(t-1)}}class io{constructor(t,e,n,a){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Rh(e,this.TimeBufferType),this.values=Rh(n,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Rh(t.times,Array),values:Rh(t.values,Array)};const a=t.getInterpolation();a!==t.DefaultInterpolation&&(n.interpolation=a)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new OO(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new uA(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new NO(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case B0:e=this.InterpolantFactoryMethodDiscrete;break;case u1:e=this.InterpolantFactoryMethodLinear;break;case fx:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return B0;case this.InterpolantFactoryMethodLinear:return u1;case this.InterpolantFactoryMethodSmooth:return fx}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let n=0,a=e.length;n!==a;++n)e[n]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let n=0,a=e.length;n!==a;++n)e[n]*=t}return this}trim(t,e){const n=this.times,a=n.length;let s=0,o=a-1;for(;s!==a&&n[s]<t;)++s;for(;o!==-1&&n[o]>e;)--o;if(++o,s!==0||o!==a){s>=o&&(o=Math.max(o,1),s=o-1);const u=this.getValueSize();this.times=n.slice(s,o),this.values=this.values.slice(s*u,o*u)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,a=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let u=0;u!==s;u++){const h=n[u];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,h),t=!1;break}if(o!==null&&o>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,h,o),t=!1;break}o=h}if(a!==void 0&&RO(a))for(let u=0,h=a.length;u!==h;++u){const p=a[u];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,p),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),a=this.getInterpolation()===fx,s=t.length-1;let o=1;for(let u=1;u<s;++u){let h=!1;const p=t[u],m=t[u+1];if(p!==m&&(u!==1||p!==t[0]))if(a)h=!0;else{const v=u*n,_=v-n,x=v+n;for(let T=0;T!==n;++T){const A=e[v+T];if(A!==e[_+T]||A!==e[x+T]){h=!0;break}}}if(h){if(u!==o){t[o]=t[u];const v=u*n,_=o*n;for(let x=0;x!==n;++x)e[_+x]=e[v+x]}++o}}if(s>0){t[o]=t[s];for(let u=s*n,h=o*n,p=0;p!==n;++p)e[h+p]=e[u+p];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),n=this.constructor,a=new n(this.name,t,e);return a.createInterpolant=this.createInterpolant,a}}io.prototype.ValueTypeName="";io.prototype.TimeBufferType=Float32Array;io.prototype.ValueBufferType=Float32Array;io.prototype.DefaultInterpolation=u1;class $h extends io{constructor(t,e,n){super(t,e,n)}}$h.prototype.ValueTypeName="bool";$h.prototype.ValueBufferType=Array;$h.prototype.DefaultInterpolation=B0;$h.prototype.InterpolantFactoryMethodLinear=void 0;$h.prototype.InterpolantFactoryMethodSmooth=void 0;class cA extends io{constructor(t,e,n,a){super(t,e,n,a)}}cA.prototype.ValueTypeName="color";class Y0 extends io{constructor(t,e,n,a){super(t,e,n,a)}}Y0.prototype.ValueTypeName="number";class UO extends Sv{constructor(t,e,n,a){super(t,e,n,a)}interpolate_(t,e,n,a){const s=this.resultBuffer,o=this.sampleValues,u=this.valueSize,h=(n-e)/(a-e);let p=t*u;for(let m=p+u;p!==m;p+=4)Ws.slerpFlat(s,0,o,p-u,o,p,h);return s}}class bv extends io{constructor(t,e,n,a){super(t,e,n,a)}InterpolantFactoryMethodLinear(t){return new UO(this.times,this.values,this.getValueSize(),t)}}bv.prototype.ValueTypeName="quaternion";bv.prototype.InterpolantFactoryMethodSmooth=void 0;class td extends io{constructor(t,e,n){super(t,e,n)}}td.prototype.ValueTypeName="string";td.prototype.ValueBufferType=Array;td.prototype.DefaultInterpolation=B0;td.prototype.InterpolantFactoryMethodLinear=void 0;td.prototype.InterpolantFactoryMethodSmooth=void 0;class j0 extends io{constructor(t,e,n,a){super(t,e,n,a)}}j0.prototype.ValueTypeName="vector";class W0{constructor(t="",e=-1,n=[],a=q1){this.name=t,this.tracks=n,this.duration=e,this.blendMode=a,this.uuid=xr(),this.userData={},this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,a=1/(t.fps||1);for(let o=0,u=n.length;o!==u;++o)e.push(J6(n[o]).scale(a));const s=new this(t.name,t.duration,e,t.blendMode);return s.uuid=t.uuid,s.userData=JSON.parse(t.userData||"{}"),s}static toJSON(t){const e=[],n=t.tracks,a={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode,userData:JSON.stringify(t.userData)};for(let s=0,o=n.length;s!==o;++s)e.push(io.toJSON(n[s]));return a}static CreateFromMorphTargetSequence(t,e,n,a){const s=e.length,o=[];for(let u=0;u<s;u++){let h=[],p=[];h.push((u+s-1)%s,u,(u+1)%s),p.push(0,1,0);const m=DO(h);h=pT(h,1,m),p=pT(p,1,m),!a&&h[0]===0&&(h.push(s),p.push(p[0])),o.push(new Y0(".morphTargetInfluences["+e[u].name+"]",h,p).scale(1/n))}return new this(t,-1,o)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const a=t;n=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<n.length;a++)if(n[a].name===e)return n[a];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const a={},s=/^([\w-]*?)([\d]+)$/;for(let u=0,h=t.length;u<h;u++){const p=t[u],m=p.name.match(s);if(m&&m.length>1){const v=m[1];let _=a[v];_||(a[v]=_=[]),_.push(p)}}const o=[];for(const u in a)o.push(this.CreateFromMorphTargetSequence(u,a[u],e,n));return o}static parseAnimation(t,e){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(v,_,x,T,A){if(x.length!==0){const E=[],b=[];lA(x,E,b,T),E.length!==0&&A.push(new v(_,E,b))}},a=[],s=t.name||"default",o=t.fps||30,u=t.blendMode;let h=t.length||-1;const p=t.hierarchy||[];for(let v=0;v<p.length;v++){const _=p[v].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const x={};let T;for(T=0;T<_.length;T++)if(_[T].morphTargets)for(let A=0;A<_[T].morphTargets.length;A++)x[_[T].morphTargets[A]]=-1;for(const A in x){const E=[],b=[];for(let R=0;R!==_[T].morphTargets.length;++R){const D=_[T];E.push(D.time),b.push(D.morphTarget===A?1:0)}a.push(new Y0(".morphTargetInfluence["+A+"]",E,b))}h=x.length*o}else{const x=".bones["+e[v].name+"]";n(j0,x+".position",_,"pos",a),n(bv,x+".quaternion",_,"rot",a),n(j0,x+".scale",_,"scl",a)}}return a.length===0?null:new this(s,h,a,u)}resetDuration(){const t=this.tracks;let e=0;for(let n=0,a=t.length;n!==a;++n){const s=this.tracks[n];e=Math.max(e,s.times[s.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let n=0;n<this.tracks.length;n++)t.push(this.tracks[n].clone());const e=new this.constructor(this.name,this.duration,t,this.blendMode);return e.userData=JSON.parse(JSON.stringify(this.userData)),e}toJSON(){return this.constructor.toJSON(this)}}function Q6(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Y0;case"vector":case"vector2":case"vector3":case"vector4":return j0;case"color":return cA;case"quaternion":return bv;case"bool":case"boolean":return $h;case"string":return td}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function J6(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=Q6(i.type);if(i.times===void 0){const e=[],n=[];lA(i.keys,e,n,"value"),i.times=e,i.values=n}return t.parse!==void 0?t.parse(i):new t(i.name,i.times,i.values,i.interpolation)}const Cl={enabled:!1,files:{},add:function(i,t){this.enabled!==!1&&(this.files[i]=t)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class fA{constructor(t,e,n){const a=this;let s=!1,o=0,u=0,h;const p=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.abortController=new AbortController,this.itemStart=function(m){u++,s===!1&&a.onStart!==void 0&&a.onStart(m,o,u),s=!0},this.itemEnd=function(m){o++,a.onProgress!==void 0&&a.onProgress(m,o,u),o===u&&(s=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(m){a.onError!==void 0&&a.onError(m)},this.resolveURL=function(m){return h?h(m):m},this.setURLModifier=function(m){return h=m,this},this.addHandler=function(m,v){return p.push(m,v),this},this.removeHandler=function(m){const v=p.indexOf(m);return v!==-1&&p.splice(v,2),this},this.getHandler=function(m){for(let v=0,_=p.length;v<_;v+=2){const x=p[v],T=p[v+1];if(x.global&&(x.lastIndex=0),x.test(m))return T}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const LO=new fA;class tr{constructor(t){this.manager=t!==void 0?t:LO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise(function(a,s){n.load(t,a,e,s)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}abort(){return this}}tr.DEFAULT_MATERIAL_NAME="__DEFAULT";const vu={};class $6 extends Error{constructor(t,e){super(t),this.response=e}}class Nu extends tr{constructor(t){super(t),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(t,e,n,a){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=Cl.get(`file:${t}`);if(s!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(s),this.manager.itemEnd(t)},0),s;if(vu[t]!==void 0){vu[t].push({onLoad:e,onProgress:n,onError:a});return}vu[t]=[],vu[t].push({onLoad:e,onProgress:n,onError:a});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),u=this.mimeType,h=this.responseType;fetch(o).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=vu[t],v=p.body.getReader(),_=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),x=_?parseInt(_):0,T=x!==0;let A=0;const E=new ReadableStream({start(b){R();function R(){v.read().then(({done:D,value:N})=>{if(D)b.close();else{A+=N.byteLength;const U=new ProgressEvent("progress",{lengthComputable:T,loaded:A,total:x});for(let P=0,F=m.length;P<F;P++){const V=m[P];V.onProgress&&V.onProgress(U)}b.enqueue(N),R()}},D=>{b.error(D)})}}});return new Response(E)}else throw new $6(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(h){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,u));case"json":return p.json();default:if(u==="")return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(u),_=v&&v[1]?v[1].toLowerCase():void 0,x=new TextDecoder(_);return p.arrayBuffer().then(T=>x.decode(T))}}}).then(p=>{Cl.add(`file:${t}`,p);const m=vu[t];delete vu[t];for(let v=0,_=m.length;v<_;v++){const x=m[v];x.onLoad&&x.onLoad(p)}}).catch(p=>{const m=vu[t];if(m===void 0)throw this.manager.itemError(t),p;delete vu[t];for(let v=0,_=m.length;v<_;v++){const x=m[v];x.onError&&x.onError(p)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class tF extends tr{constructor(t){super(t)}load(t,e,n,a){const s=this,o=new Nu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(u){try{e(s.parse(JSON.parse(u)))}catch(h){a?a(h):console.error(h),s.manager.itemError(t)}},n,a)}parse(t){const e=[];for(let n=0;n<t.length;n++){const a=W0.parse(t[n]);e.push(a)}return e}}class eF extends tr{constructor(t){super(t)}load(t,e,n,a){const s=this,o=[],u=new tS,h=new Nu(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(s.withCredentials);let p=0;function m(v){h.load(t[v],function(_){const x=s.parse(_,!0);o[v]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},p+=1,p===6&&(x.mipmapCount===1&&(u.minFilter=la),u.image=o,u.format=x.format,u.needsUpdate=!0,e&&e(u))},n,a)}if(Array.isArray(t))for(let v=0,_=t.length;v<_;++v)m(v);else h.load(t,function(v){const _=s.parse(v,!0);if(_.isCubemap){const x=_.mipmaps.length/_.mipmapCount;for(let T=0;T<x;T++){o[T]={mipmaps:[]};for(let A=0;A<_.mipmapCount;A++)o[T].mipmaps.push(_.mipmaps[T*_.mipmapCount+A]),o[T].format=_.format,o[T].width=_.width,o[T].height=_.height}u.image=o}else u.image.width=_.width,u.image.height=_.height,u.mipmaps=_.mipmaps;_.mipmapCount===1&&(u.minFilter=la),u.format=_.format,u.needsUpdate=!0,e&&e(u)},n,a);return u}}const xp=new WeakMap;class Z0 extends tr{constructor(t){super(t)}load(t,e,n,a){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=Cl.get(`image:${t}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(t),setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0);else{let v=xp.get(o);v===void 0&&(v=[],xp.set(o,v)),v.push({onLoad:e,onError:a})}return o}const u=H0("img");function h(){m(),e&&e(this);const v=xp.get(this)||[];for(let _=0;_<v.length;_++){const x=v[_];x.onLoad&&x.onLoad(this)}xp.delete(this),s.manager.itemEnd(t)}function p(v){m(),a&&a(v),Cl.remove(`image:${t}`);const _=xp.get(this)||[];for(let x=0;x<_.length;x++){const T=_[x];T.onError&&T.onError(v)}xp.delete(this),s.manager.itemError(t),s.manager.itemEnd(t)}function m(){u.removeEventListener("load",h,!1),u.removeEventListener("error",p,!1)}return u.addEventListener("load",h,!1),u.addEventListener("error",p,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),Cl.add(`image:${t}`,u),s.manager.itemStart(t),u.src=t,u}}class nF extends tr{constructor(t){super(t)}load(t,e,n,a){const s=new gv;s.colorSpace=ja;const o=new Z0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let u=0;function h(p){o.load(t[p],function(m){s.images[p]=m,u++,u===6&&(s.needsUpdate=!0,e&&e(s))},void 0,a)}for(let p=0;p<t.length;++p)h(p);return s}}class iF extends tr{constructor(t){super(t)}load(t,e,n,a){const s=this,o=new Ol,u=new Nu(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(s.withCredentials),u.load(t,function(h){let p;try{p=s.parse(h)}catch(m){if(a!==void 0)a(m);else{console.error(m);return}}p.image!==void 0?o.image=p.image:p.data!==void 0&&(o.image.width=p.width,o.image.height=p.height,o.image.data=p.data),o.wrapS=p.wrapS!==void 0?p.wrapS:Kr,o.wrapT=p.wrapT!==void 0?p.wrapT:Kr,o.magFilter=p.magFilter!==void 0?p.magFilter:la,o.minFilter=p.minFilter!==void 0?p.minFilter:la,o.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(o.colorSpace=p.colorSpace),p.flipY!==void 0&&(o.flipY=p.flipY),p.format!==void 0&&(o.format=p.format),p.type!==void 0&&(o.type=p.type),p.mipmaps!==void 0&&(o.mipmaps=p.mipmaps,o.minFilter=wl),p.mipmapCount===1&&(o.minFilter=la),p.generateMipmaps!==void 0&&(o.generateMipmaps=p.generateMipmaps),o.needsUpdate=!0,e&&e(o,p)},n,a),o}}class PO extends tr{constructor(t){super(t)}load(t,e,n,a){const s=new Ri,o=new Z0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(u){s.image=u,s.needsUpdate=!0,e!==void 0&&e(s)},n,a),s}}class cf extends En{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new pe(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class zO extends cf{constructor(t,e,n){super(t,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(En.DEFAULT_UP),this.updateMatrix(),this.groundColor=new pe(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const Qb=new ke,MC=new K,TC=new K;class hA{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ht(512,512),this.mapType=no,this.map=null,this.mapPass=null,this.matrix=new ke,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new xm,this._frameExtents=new Ht(1,1),this._viewportCount=1,this._viewports=[new Tn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;MC.setFromMatrixPosition(t.matrixWorld),e.position.copy(MC),TC.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(TC),e.updateMatrixWorld(),Qb.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Qb,e.coordinateSystem,e.reversedDepth),e.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Qb)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class aF extends hA{constructor(){super(new _a(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(t){const e=this.camera,n=tm*2*t.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,s=t.distance||e.far;(n!==e.fov||a!==e.aspect||s!==e.far)&&(e.fov=n,e.aspect=a,e.far=s,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class BO extends cf{constructor(t,e,n=0,a=Math.PI/3,s=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(En.DEFAULT_UP),this.updateMatrix(),this.target=new En,this.distance=n,this.angle=a,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new aF}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const EC=new ke,e0=new K,Jb=new K;class sF extends hA{constructor(){super(new _a(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ht(4,2),this._viewportCount=6,this._viewports=[new Tn(2,1,1,1),new Tn(0,1,1,1),new Tn(3,1,1,1),new Tn(1,1,1,1),new Tn(3,0,1,1),new Tn(1,0,1,1)],this._cubeDirections=[new K(1,0,0),new K(-1,0,0),new K(0,0,1),new K(0,0,-1),new K(0,1,0),new K(0,-1,0)],this._cubeUps=[new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,0,1),new K(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,a=this.matrix,s=t.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),e0.setFromMatrixPosition(t.matrixWorld),n.position.copy(e0),Jb.copy(n.position),Jb.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(Jb),n.updateMatrixWorld(),a.makeTranslation(-e0.x,-e0.y,-e0.z),EC.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(EC,n.coordinateSystem,n.reversedDepth)}}class IO extends cf{constructor(t,e,n=0,a=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=a,this.shadow=new sF}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Mv extends W1{constructor(t=-1,e=1,n=1,a=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=a,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,n,a,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=a,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let s=n-t,o=n+t,u=a+e,h=a-e;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=p*this.view.offsetX,o=s+p*this.view.width,u-=m*this.view.offsetY,h=u-m*this.view.height}this.projectionMatrix.makeOrthographic(s,o,u,h,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class rF extends hA{constructor(){super(new Mv(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class FO extends cf{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(En.DEFAULT_UP),this.updateMatrix(),this.target=new En,this.shadow=new rF}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class VO extends cf{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class HO extends cf{constructor(t,e,n=10,a=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class GO{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new K)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,a=t.y,s=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*a),e.addScaledVector(o[2],.488603*s),e.addScaledVector(o[3],.488603*n),e.addScaledVector(o[4],1.092548*(n*a)),e.addScaledVector(o[5],1.092548*(a*s)),e.addScaledVector(o[6],.315392*(3*s*s-1)),e.addScaledVector(o[7],1.092548*(n*s)),e.addScaledVector(o[8],.546274*(n*n-a*a)),e}getIrradianceAt(t,e){const n=t.x,a=t.y,s=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],2*.511664*a),e.addScaledVector(o[2],2*.511664*s),e.addScaledVector(o[3],2*.511664*n),e.addScaledVector(o[4],2*.429043*n*a),e.addScaledVector(o[5],2*.429043*a*s),e.addScaledVector(o[6],.743125*s*s-.247708),e.addScaledVector(o[7],2*.429043*n*s),e.addScaledVector(o[8],.429043*(n*n-a*a)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let a=0;a<9;a++)n[a].fromArray(t,e+a*3);return this}toArray(t=[],e=0){const n=this.coefficients;for(let a=0;a<9;a++)n[a].toArray(t,e+a*3);return t}static getBasisAt(t,e){const n=t.x,a=t.y,s=t.z;e[0]=.282095,e[1]=.488603*a,e[2]=.488603*s,e[3]=.488603*n,e[4]=1.092548*n*a,e[5]=1.092548*a*s,e[6]=.315392*(3*s*s-1),e[7]=1.092548*n*s,e[8]=.546274*(n*n-a*a)}}class kO extends cf{constructor(t=new GO,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class pS extends tr{constructor(t){super(t),this.textures={}}load(t,e,n,a){const s=this,o=new Nu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(u){try{e(s.parse(JSON.parse(u)))}catch(h){a?a(h):console.error(h),s.manager.itemError(t)}},n,a)}parse(t){const e=this.textures;function n(s){return e[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),e[s]}const a=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(a.uuid=t.uuid),t.name!==void 0&&(a.name=t.name),t.color!==void 0&&a.color!==void 0&&a.color.setHex(t.color),t.roughness!==void 0&&(a.roughness=t.roughness),t.metalness!==void 0&&(a.metalness=t.metalness),t.sheen!==void 0&&(a.sheen=t.sheen),t.sheenColor!==void 0&&(a.sheenColor=new pe().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(a.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(t.emissive),t.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(t.specular),t.specularIntensity!==void 0&&(a.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(a.shininess=t.shininess),t.clearcoat!==void 0&&(a.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(a.dispersion=t.dispersion),t.iridescence!==void 0&&(a.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(a.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(a.transmission=t.transmission),t.thickness!==void 0&&(a.thickness=t.thickness),t.attenuationDistance!==void 0&&(a.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(a.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(a.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(a.fog=t.fog),t.flatShading!==void 0&&(a.flatShading=t.flatShading),t.blending!==void 0&&(a.blending=t.blending),t.combine!==void 0&&(a.combine=t.combine),t.side!==void 0&&(a.side=t.side),t.shadowSide!==void 0&&(a.shadowSide=t.shadowSide),t.opacity!==void 0&&(a.opacity=t.opacity),t.transparent!==void 0&&(a.transparent=t.transparent),t.alphaTest!==void 0&&(a.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(a.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(a.depthFunc=t.depthFunc),t.depthTest!==void 0&&(a.depthTest=t.depthTest),t.depthWrite!==void 0&&(a.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(a.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(a.blendSrc=t.blendSrc),t.blendDst!==void 0&&(a.blendDst=t.blendDst),t.blendEquation!==void 0&&(a.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(a.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(a.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(a.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(a.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(a.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(a.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(a.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(a.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(a.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(a.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(a.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(a.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(a.rotation=t.rotation),t.linewidth!==void 0&&(a.linewidth=t.linewidth),t.dashSize!==void 0&&(a.dashSize=t.dashSize),t.gapSize!==void 0&&(a.gapSize=t.gapSize),t.scale!==void 0&&(a.scale=t.scale),t.polygonOffset!==void 0&&(a.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(a.dithering=t.dithering),t.alphaToCoverage!==void 0&&(a.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(a.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(a.visible=t.visible),t.toneMapped!==void 0&&(a.toneMapped=t.toneMapped),t.userData!==void 0&&(a.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?a.vertexColors=t.vertexColors>0:a.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const s in t.uniforms){const o=t.uniforms[s];switch(a.uniforms[s]={},o.type){case"t":a.uniforms[s].value=n(o.value);break;case"c":a.uniforms[s].value=new pe().setHex(o.value);break;case"v2":a.uniforms[s].value=new Ht().fromArray(o.value);break;case"v3":a.uniforms[s].value=new K().fromArray(o.value);break;case"v4":a.uniforms[s].value=new Tn().fromArray(o.value);break;case"m3":a.uniforms[s].value=new Je().fromArray(o.value);break;case"m4":a.uniforms[s].value=new ke().fromArray(o.value);break;default:a.uniforms[s].value=o.value}}if(t.defines!==void 0&&(a.defines=t.defines),t.vertexShader!==void 0&&(a.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(a.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(a.glslVersion=t.glslVersion),t.extensions!==void 0)for(const s in t.extensions)a.extensions[s]=t.extensions[s];if(t.lights!==void 0&&(a.lights=t.lights),t.clipping!==void 0&&(a.clipping=t.clipping),t.size!==void 0&&(a.size=t.size),t.sizeAttenuation!==void 0&&(a.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(a.map=n(t.map)),t.matcap!==void 0&&(a.matcap=n(t.matcap)),t.alphaMap!==void 0&&(a.alphaMap=n(t.alphaMap)),t.bumpMap!==void 0&&(a.bumpMap=n(t.bumpMap)),t.bumpScale!==void 0&&(a.bumpScale=t.bumpScale),t.normalMap!==void 0&&(a.normalMap=n(t.normalMap)),t.normalMapType!==void 0&&(a.normalMapType=t.normalMapType),t.normalScale!==void 0){let s=t.normalScale;Array.isArray(s)===!1&&(s=[s,s]),a.normalScale=new Ht().fromArray(s)}return t.displacementMap!==void 0&&(a.displacementMap=n(t.displacementMap)),t.displacementScale!==void 0&&(a.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(a.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(a.roughnessMap=n(t.roughnessMap)),t.metalnessMap!==void 0&&(a.metalnessMap=n(t.metalnessMap)),t.emissiveMap!==void 0&&(a.emissiveMap=n(t.emissiveMap)),t.emissiveIntensity!==void 0&&(a.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(a.specularMap=n(t.specularMap)),t.specularIntensityMap!==void 0&&(a.specularIntensityMap=n(t.specularIntensityMap)),t.specularColorMap!==void 0&&(a.specularColorMap=n(t.specularColorMap)),t.envMap!==void 0&&(a.envMap=n(t.envMap)),t.envMapRotation!==void 0&&a.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(a.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(a.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(a.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(a.lightMap=n(t.lightMap)),t.lightMapIntensity!==void 0&&(a.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(a.aoMap=n(t.aoMap)),t.aoMapIntensity!==void 0&&(a.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(a.gradientMap=n(t.gradientMap)),t.clearcoatMap!==void 0&&(a.clearcoatMap=n(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=n(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new Ht().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(a.iridescenceMap=n(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=n(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(a.transmissionMap=n(t.transmissionMap)),t.thicknessMap!==void 0&&(a.thicknessMap=n(t.thicknessMap)),t.anisotropyMap!==void 0&&(a.anisotropyMap=n(t.anisotropyMap)),t.sheenColorMap!==void 0&&(a.sheenColorMap=n(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=n(t.sheenRoughnessMap)),a}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return pS.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:xO,SpriteMaterial:WE,RawShaderMaterial:SO,ShaderMaterial:Io,PointsMaterial:KE,MeshPhysicalMaterial:bO,MeshStandardMaterial:sA,MeshPhongMaterial:MO,MeshToonMaterial:TO,MeshNormalMaterial:EO,MeshLambertMaterial:AO,MeshDepthMaterial:rA,MeshDistanceMaterial:oA,MeshBasicMaterial:lf,MeshMatcapMaterial:wO,LineDashedMaterial:CO,LineBasicMaterial:As,Material:$a};return new e[t]}}class mT{static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class XO extends en{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class qO extends tr{constructor(t){super(t)}load(t,e,n,a){const s=this,o=new Nu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(t,function(u){try{e(s.parse(JSON.parse(u)))}catch(h){a?a(h):console.error(h),s.manager.itemError(t)}},n,a)}parse(t){const e={},n={};function a(x,T){if(e[T]!==void 0)return e[T];const E=x.interleavedBuffers[T],b=s(x,E.buffer),R=Np(E.type,b),D=new Q1(R,E.stride);return D.uuid=E.uuid,e[T]=D,D}function s(x,T){if(n[T]!==void 0)return n[T];const E=x.arrayBuffers[T],b=new Uint32Array(E).buffer;return n[T]=b,b}const o=t.isInstancedBufferGeometry?new XO:new en,u=t.data.index;if(u!==void 0){const x=Np(u.type,u.array);o.setIndex(new qn(x,1))}const h=t.data.attributes;for(const x in h){const T=h[x];let A;if(T.isInterleavedBufferAttribute){const E=a(t.data,T.data);A=new qh(E,T.itemSize,T.offset,T.normalized)}else{const E=Np(T.type,T.array),b=T.isInstancedBufferAttribute?im:qn;A=new b(E,T.itemSize,T.normalized)}T.name!==void 0&&(A.name=T.name),T.usage!==void 0&&A.setUsage(T.usage),o.setAttribute(x,A)}const p=t.data.morphAttributes;if(p)for(const x in p){const T=p[x],A=[];for(let E=0,b=T.length;E<b;E++){const R=T[E];let D;if(R.isInterleavedBufferAttribute){const N=a(t.data,R.data);D=new qh(N,R.itemSize,R.offset,R.normalized)}else{const N=Np(R.type,R.array);D=new qn(N,R.itemSize,R.normalized)}R.name!==void 0&&(D.name=R.name),A.push(D)}o.morphAttributes[x]=A}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const v=t.data.groups||t.data.drawcalls||t.data.offsets;if(v!==void 0)for(let x=0,T=v.length;x!==T;++x){const A=v[x];o.addGroup(A.start,A.count,A.materialIndex)}const _=t.data.boundingSphere;return _!==void 0&&(o.boundingSphere=new Oa().fromJSON(_)),t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}class oF extends tr{constructor(t){super(t)}load(t,e,n,a){const s=this,o=this.path===""?mT.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const u=new Nu(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(t,function(h){let p=null;try{p=JSON.parse(h)}catch(v){a!==void 0&&a(v),console.error("THREE:ObjectLoader: Can't parse "+t+".",v.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}s.parse(p,e)},n,a)}async loadAsync(t,e){const n=this,a=this.path===""?mT.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;const s=new Nu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(t,e),u=JSON.parse(o),h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await n.parseAsync(u)}parse(t,e){const n=this.parseAnimations(t.animations),a=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,a),o=this.parseImages(t.images,function(){e!==void 0&&e(p)}),u=this.parseTextures(t.textures,o),h=this.parseMaterials(t.materials,u),p=this.parseObject(t.object,s,h,u,n),m=this.parseSkeletons(t.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),e!==void 0){let v=!1;for(const _ in o)if(o[_].data instanceof HTMLImageElement){v=!0;break}v===!1&&e(p)}return p}async parseAsync(t){const e=this.parseAnimations(t.animations),n=this.parseShapes(t.shapes),a=this.parseGeometries(t.geometries,n),s=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,s),u=this.parseMaterials(t.materials,o),h=this.parseObject(t.object,a,u,o,e),p=this.parseSkeletons(t.skeletons,h);return this.bindSkeletons(h,p),this.bindLightTargets(h),h}parseShapes(t){const e={};if(t!==void 0)for(let n=0,a=t.length;n<a;n++){const s=new Bh().fromJSON(t[n]);e[s.uuid]=s}return e}parseSkeletons(t,e){const n={},a={};if(e.traverse(function(s){s.isBone&&(a[s.uuid]=s)}),t!==void 0)for(let s=0,o=t.length;s<o;s++){const u=new J1().fromJSON(t[s],a);n[u.uuid]=u}return n}parseGeometries(t,e){const n={};if(t!==void 0){const a=new qO;for(let s=0,o=t.length;s<o;s++){let u;const h=t[s];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":u=a.parse(h);break;default:h.type in bC?u=bC[h.type].fromJSON(h,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}u.uuid=h.uuid,h.name!==void 0&&(u.name=h.name),h.userData!==void 0&&(u.userData=h.userData),n[h.uuid]=u}}return n}parseMaterials(t,e){const n={},a={};if(t!==void 0){const s=new pS;s.setTextures(e);for(let o=0,u=t.length;o<u;o++){const h=t[o];n[h.uuid]===void 0&&(n[h.uuid]=s.parse(h)),a[h.uuid]=n[h.uuid]}}return a}parseAnimations(t){const e={};if(t!==void 0)for(let n=0;n<t.length;n++){const a=t[n],s=W0.parse(a);e[s.uuid]=s}return e}parseImages(t,e){const n=this,a={};let s;function o(h){return n.manager.itemStart(h),s.load(h,function(){n.manager.itemEnd(h)},void 0,function(){n.manager.itemError(h),n.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const p=h,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;return o(m)}else return h.data?{data:Np(h.type,h.data),width:h.width,height:h.height}:null}if(t!==void 0&&t.length>0){const h=new fA(e);s=new Z0(h),s.setCrossOrigin(this.crossOrigin);for(let p=0,m=t.length;p<m;p++){const v=t[p],_=v.url;if(Array.isArray(_)){const x=[];for(let T=0,A=_.length;T<A;T++){const E=_[T],b=u(E);b!==null&&(b instanceof HTMLImageElement?x.push(b):x.push(new Ol(b.data,b.width,b.height)))}a[v.uuid]=new Xc(x)}else{const x=u(v.url);a[v.uuid]=new Xc(x)}}}return a}async parseImagesAsync(t){const e=this,n={};let a;async function s(o){if(typeof o=="string"){const u=o,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:e.resourcePath+u;return await a.loadAsync(h)}else return o.data?{data:Np(o.type,o.data),width:o.width,height:o.height}:null}if(t!==void 0&&t.length>0){a=new Z0(this.manager),a.setCrossOrigin(this.crossOrigin);for(let o=0,u=t.length;o<u;o++){const h=t[o],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v],T=await s(x);T!==null&&(T instanceof HTMLImageElement?m.push(T):m.push(new Ol(T.data,T.width,T.height)))}n[h.uuid]=new Xc(m)}else{const m=await s(h.url);n[h.uuid]=new Xc(m)}}}return n}parseTextures(t,e){function n(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const a={};if(t!==void 0)for(let s=0,o=t.length;s<o;s++){const u=t[s];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),e[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const h=e[u.image],p=h.data;let m;Array.isArray(p)?(m=new gv,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new Ol:m=new Ri,p&&(m.needsUpdate=!0)),m.source=h,m.uuid=u.uuid,u.name!==void 0&&(m.name=u.name),u.mapping!==void 0&&(m.mapping=n(u.mapping,lF)),u.channel!==void 0&&(m.channel=u.channel),u.offset!==void 0&&m.offset.fromArray(u.offset),u.repeat!==void 0&&m.repeat.fromArray(u.repeat),u.center!==void 0&&m.center.fromArray(u.center),u.rotation!==void 0&&(m.rotation=u.rotation),u.wrap!==void 0&&(m.wrapS=n(u.wrap[0],AC),m.wrapT=n(u.wrap[1],AC)),u.format!==void 0&&(m.format=u.format),u.internalFormat!==void 0&&(m.internalFormat=u.internalFormat),u.type!==void 0&&(m.type=u.type),u.colorSpace!==void 0&&(m.colorSpace=u.colorSpace),u.minFilter!==void 0&&(m.minFilter=n(u.minFilter,wC)),u.magFilter!==void 0&&(m.magFilter=n(u.magFilter,wC)),u.anisotropy!==void 0&&(m.anisotropy=u.anisotropy),u.flipY!==void 0&&(m.flipY=u.flipY),u.generateMipmaps!==void 0&&(m.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(m.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(m.compareFunction=u.compareFunction),u.userData!==void 0&&(m.userData=u.userData),a[u.uuid]=m}return a}parseObject(t,e,n,a,s){let o;function u(_){return e[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),e[_]}function h(_){if(_!==void 0){if(Array.isArray(_)){const x=[];for(let T=0,A=_.length;T<A;T++){const E=_[T];n[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),x.push(n[E])}return x}return n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),n[_]}}function p(_){return a[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),a[_]}let m,v;switch(t.type){case"Scene":o=new jE,t.background!==void 0&&(Number.isInteger(t.background)?o.background=new pe(t.background):o.background=p(t.background)),t.environment!==void 0&&(o.environment=p(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?o.fog=new K1(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(o.fog=new Z1(t.fog.color,t.fog.density)),t.fog.name!==""&&(o.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(o.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(o.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&o.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":o=new _a(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(o.focus=t.focus),t.zoom!==void 0&&(o.zoom=t.zoom),t.filmGauge!==void 0&&(o.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(o.filmOffset=t.filmOffset),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new Mv(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(o.zoom=t.zoom),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new VO(t.color,t.intensity);break;case"DirectionalLight":o=new FO(t.color,t.intensity),o.target=t.target||"";break;case"PointLight":o=new IO(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new HO(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new BO(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),o.target=t.target||"";break;case"HemisphereLight":o=new zO(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=new kO().fromJSON(t);break;case"SkinnedMesh":m=u(t.geometry),v=h(t.material),o=new iO(m,v),t.bindMode!==void 0&&(o.bindMode=t.bindMode),t.bindMatrix!==void 0&&o.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(o.skeleton=t.skeleton);break;case"Mesh":m=u(t.geometry),v=h(t.material),o=new Zi(m,v);break;case"InstancedMesh":m=u(t.geometry),v=h(t.material);const _=t.count,x=t.instanceMatrix,T=t.instanceColor;o=new aO(m,v,_),o.instanceMatrix=new im(new Float32Array(x.array),16),T!==void 0&&(o.instanceColor=new im(new Float32Array(T.array),T.itemSize));break;case"BatchedMesh":m=u(t.geometry),v=h(t.material),o=new sO(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,v),o.geometry=m,o.perObjectFrustumCulled=t.perObjectFrustumCulled,o.sortObjects=t.sortObjects,o._drawRanges=t.drawRanges,o._reservedRanges=t.reservedRanges,o._geometryInfo=t.geometryInfo.map(A=>{let E=null,b=null;return A.boundingBox!==void 0&&(E=new Qa().fromJSON(A.boundingBox)),A.boundingSphere!==void 0&&(b=new Oa().fromJSON(A.boundingSphere)),{...A,boundingBox:E,boundingSphere:b}}),o._instanceInfo=t.instanceInfo,o._availableInstanceIds=t._availableInstanceIds,o._availableGeometryIds=t._availableGeometryIds,o._nextIndexStart=t.nextIndexStart,o._nextVertexStart=t.nextVertexStart,o._geometryCount=t.geometryCount,o._maxInstanceCount=t.maxInstanceCount,o._maxVertexCount=t.maxVertexCount,o._maxIndexCount=t.maxIndexCount,o._geometryInitialized=t.geometryInitialized,o._matricesTexture=p(t.matricesTexture.uuid),o._indirectTexture=p(t.indirectTexture.uuid),t.colorsTexture!==void 0&&(o._colorsTexture=p(t.colorsTexture.uuid)),t.boundingSphere!==void 0&&(o.boundingSphere=new Oa().fromJSON(t.boundingSphere)),t.boundingBox!==void 0&&(o.boundingBox=new Qa().fromJSON(t.boundingBox));break;case"LOD":o=new nO;break;case"Line":o=new Jc(u(t.geometry),h(t.material));break;case"LineLoop":o=new rO(u(t.geometry),h(t.material));break;case"LineSegments":o=new Vl(u(t.geometry),h(t.material));break;case"PointCloud":case"Points":o=new oO(u(t.geometry),h(t.material));break;case"Sprite":o=new eO(h(t.material));break;case"Group":o=new Op;break;case"Bone":o=new ZE;break;default:o=new En}if(o.uuid=t.uuid,t.name!==void 0&&(o.name=t.name),t.matrix!==void 0?(o.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(t.position!==void 0&&o.position.fromArray(t.position),t.rotation!==void 0&&o.rotation.fromArray(t.rotation),t.quaternion!==void 0&&o.quaternion.fromArray(t.quaternion),t.scale!==void 0&&o.scale.fromArray(t.scale)),t.up!==void 0&&o.up.fromArray(t.up),t.castShadow!==void 0&&(o.castShadow=t.castShadow),t.receiveShadow!==void 0&&(o.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(o.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(o.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(o.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(o.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(o.visible=t.visible),t.frustumCulled!==void 0&&(o.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(o.renderOrder=t.renderOrder),t.userData!==void 0&&(o.userData=t.userData),t.layers!==void 0&&(o.layers.mask=t.layers),t.children!==void 0){const _=t.children;for(let x=0;x<_.length;x++)o.add(this.parseObject(_[x],e,n,a,s))}if(t.animations!==void 0){const _=t.animations;for(let x=0;x<_.length;x++){const T=_[x];o.animations.push(s[T])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(o.autoUpdate=t.autoUpdate);const _=t.levels;for(let x=0;x<_.length;x++){const T=_[x],A=o.getObjectByProperty("uuid",T.object);A!==void 0&&o.addLevel(A,T.distance,T.hysteresis)}}return o}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const a=e[n.skeleton];a===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(a,n.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const n=e.target,a=t.getObjectByProperty("uuid",n);a!==void 0?e.target=a:e.target=new En}})}}const lF={UVMapping:I1,CubeReflectionMapping:Ru,CubeRefractionMapping:Kc,EquirectangularReflectionMapping:U0,EquirectangularRefractionMapping:L0,CubeUVReflectionMapping:vm},AC={RepeatWrapping:P0,ClampToEdgeWrapping:Kr,MirroredRepeatWrapping:z0},wC={NearestFilter:Na,NearestMipmapNearestFilter:UE,NearestMipmapLinearFilter:Dp,LinearFilter:la,LinearMipmapNearestFilter:d0,LinearMipmapLinearFilter:wl},$b=new WeakMap;class uF extends tr{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(t){return this.options=t,this}load(t,e,n,a){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,o=Cl.get(`image-bitmap:${t}`);if(o!==void 0){if(s.manager.itemStart(t),o.then){o.then(p=>{if($b.has(o)===!0)a&&a($b.get(o)),s.manager.itemError(t),s.manager.itemEnd(t);else return e&&e(p),s.manager.itemEnd(t),p});return}return setTimeout(function(){e&&e(o),s.manager.itemEnd(t)},0),o}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,u.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const h=fetch(t,u).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(p){return Cl.add(`image-bitmap:${t}`,p),e&&e(p),s.manager.itemEnd(t),p}).catch(function(p){a&&a(p),$b.set(h,p),Cl.remove(`image-bitmap:${t}`),s.manager.itemError(t),s.manager.itemEnd(t)});Cl.add(`image-bitmap:${t}`,h),s.manager.itemStart(t)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let k_;class dA{static getContext(){return k_===void 0&&(k_=new(window.AudioContext||window.webkitAudioContext)),k_}static setContext(t){k_=t}}class cF extends tr{constructor(t){super(t)}load(t,e,n,a){const s=this,o=new Nu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(h){try{const p=h.slice(0);dA.getContext().decodeAudioData(p,function(v){e(v)}).catch(u)}catch(p){u(p)}},n,a);function u(h){a?a(h):console.error(h),s.manager.itemError(t)}}}const CC=new ke,RC=new ke,fh=new ke;class fF{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new _a,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new _a,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,fh.copy(t.projectionMatrix);const a=e.eyeSep/2,s=a*e.near/e.focus,o=e.near*Math.tan(zh*e.fov*.5)/e.zoom;let u,h;RC.elements[12]=-a,CC.elements[12]=a,u=-o*e.aspect+s,h=o*e.aspect+s,fh.elements[0]=2*e.near/(h-u),fh.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(fh),u=-o*e.aspect-s,h=o*e.aspect-s,fh.elements[0]=2*e.near/(h-u),fh.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(fh)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(RC),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(CC)}}class YO extends _a{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}}class pA{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=performance.now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}const hh=new K,tM=new Ws,hF=new K,dh=new K,ph=new K;class dF extends En{constructor(){super(),this.type="AudioListener",this.context=dA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new pA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hh,tM,hF),dh.set(0,0,-1).applyQuaternion(tM),ph.set(0,1,0).applyQuaternion(tM),e.positionX){const n=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(hh.x,n),e.positionY.linearRampToValueAtTime(hh.y,n),e.positionZ.linearRampToValueAtTime(hh.z,n),e.forwardX.linearRampToValueAtTime(dh.x,n),e.forwardY.linearRampToValueAtTime(dh.y,n),e.forwardZ.linearRampToValueAtTime(dh.z,n),e.upX.linearRampToValueAtTime(ph.x,n),e.upY.linearRampToValueAtTime(ph.y,n),e.upZ.linearRampToValueAtTime(ph.z,n)}else e.setPosition(hh.x,hh.y,hh.z),e.setOrientation(dh.x,dh.y,dh.z,ph.x,ph.y,ph.z)}}class jO extends En{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const mh=new K,DC=new Ws,pF=new K,gh=new K;class mF extends jO{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(mh,DC,pF),gh.set(0,0,1).applyQuaternion(DC);const e=this.panner;if(e.positionX){const n=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(mh.x,n),e.positionY.linearRampToValueAtTime(mh.y,n),e.positionZ.linearRampToValueAtTime(mh.z,n),e.orientationX.linearRampToValueAtTime(gh.x,n),e.orientationY.linearRampToValueAtTime(gh.y,n),e.orientationZ.linearRampToValueAtTime(gh.z,n)}else e.setPosition(mh.x,mh.y,mh.z),e.setOrientation(gh.x,gh.y,gh.z)}}class gF{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}}class WO{constructor(t,e,n){this.binding=t,this.valueSize=n;let a,s,o;switch(e){case"quaternion":a=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":a=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:a=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const n=this.buffer,a=this.valueSize,s=t*a+a;let o=this.cumulativeWeight;if(o===0){for(let u=0;u!==a;++u)n[s+u]=n[u];o=e}else{o+=e;const u=e/o;this._mixBufferRegion(n,s,0,u,a)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,n=this.valueSize,a=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,a,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,n=this.buffer,a=t*e+e,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const h=e*this._origIndex;this._mixBufferRegion(n,a,h,1-s,e)}o>0&&this._mixBufferRegionAdditive(n,a,this._addIndex*e,1,e);for(let h=e,p=e+e;h!==p;++h)if(n[h]!==n[h+e]){u.setValue(n,a);break}}saveOriginalState(){const t=this.binding,e=this.buffer,n=this.valueSize,a=n*this._origIndex;t.getValue(e,a);for(let s=n,o=a;s!==o;++s)e[s]=e[a+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]}_select(t,e,n,a,s){if(a>=.5)for(let o=0;o!==s;++o)t[e+o]=t[n+o]}_slerp(t,e,n,a){Ws.slerpFlat(t,e,t,e,t,n,a)}_slerpAdditive(t,e,n,a,s){const o=this._workIndex*s;Ws.multiplyQuaternionsFlat(t,o,t,e,t,n),Ws.slerpFlat(t,e,t,e,t,o,a)}_lerp(t,e,n,a,s){const o=1-a;for(let u=0;u!==s;++u){const h=e+u;t[h]=t[h]*o+t[n+u]*a}}_lerpAdditive(t,e,n,a,s){for(let o=0;o!==s;++o){const u=e+o;t[u]=t[u]+t[n+o]*a}}}const mA="\\[\\]\\.:\\/",vF=new RegExp("["+mA+"]","g"),gA="[^"+mA+"]",yF="[^"+mA.replace("\\.","")+"]",_F=/((?:WC+[\/:])*)/.source.replace("WC",gA),xF=/(WCOD+)?/.source.replace("WCOD",yF),SF=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gA),bF=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gA),MF=new RegExp("^"+_F+xF+SF+bF+"$"),TF=["material","materials","bones","map"];class EF{constructor(t,e,n){const a=n||Mn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,a)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,a=this._bindings[n];a!==void 0&&a.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let a=this._targetGroup.nCachedObjects_,s=n.length;a!==s;++a)n[a].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}class Mn{constructor(t,e,n){this.path=e,this.parsedPath=n||Mn.parseTrackName(e),this.node=Mn.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new Mn.Composite(t,e,n):new Mn(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(vF,"")}static parseTrackName(t){const e=MF.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},a=n.nodeName&&n.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const s=n.nodeName.substring(a+1);TF.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,a),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(n!==void 0)return n}if(t.children){const n=function(s){for(let o=0;o<s.length;o++){const u=s[o];if(u.name===e||u.uuid===e)return u;const h=n(u.children);if(h)return h}return null},a=n(t.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let a=0,s=n.length;a!==s;++a)t[e++]=n[a]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let a=0,s=n.length;a!==s;++a)n[a]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let a=0,s=n.length;a!==s;++a)n[a]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let a=0,s=n.length;a!==s;++a)n[a]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,a=e.propertyName;let s=e.propertyIndex;if(t||(t=Mn.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let p=e.objectIndex;switch(n){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let m=0;m<t.length;m++)if(t[m].name===p){p=m;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[n]}if(p!==void 0){if(t[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[p]}}const o=t[a];if(o===void 0){const p=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+a+" but it wasn't found.",t);return}let u=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?u=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(s!==void 0){if(a==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[s]!==void 0&&(s=t.morphTargetDictionary[s])}h=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(h=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=a;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Mn.Composite=EF;Mn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Mn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Mn.prototype.GetterByBindingType=[Mn.prototype._getValue_direct,Mn.prototype._getValue_array,Mn.prototype._getValue_arrayElement,Mn.prototype._getValue_toArray];Mn.prototype.SetterByBindingTypeAndVersioning=[[Mn.prototype._setValue_direct,Mn.prototype._setValue_direct_setNeedsUpdate,Mn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_array,Mn.prototype._setValue_array_setNeedsUpdate,Mn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_arrayElement,Mn.prototype._setValue_arrayElement_setNeedsUpdate,Mn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_fromArray,Mn.prototype._setValue_fromArray_setNeedsUpdate,Mn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AF{constructor(){this.isAnimationObjectGroup=!0,this.uuid=xr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let n=0,a=arguments.length;n!==a;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,n=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length;let u,h=t.length,p=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const _=arguments[m],x=_.uuid;let T=e[x];if(T===void 0){T=h++,e[x]=T,t.push(_);for(let A=0,E=o;A!==E;++A)s[A].push(new Mn(_,n[A],a[A]))}else if(T<p){u=t[T];const A=--p,E=t[A];e[E.uuid]=T,t[T]=E,e[x]=A,t[A]=_;for(let b=0,R=o;b!==R;++b){const D=s[b],N=D[A];let U=D[T];D[T]=N,U===void 0&&(U=new Mn(_,n[b],a[b])),D[A]=U}}else t[T]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,a=n.length;let s=this.nCachedObjects_;for(let o=0,u=arguments.length;o!==u;++o){const h=arguments[o],p=h.uuid,m=e[p];if(m!==void 0&&m>=s){const v=s++,_=t[v];e[_.uuid]=m,t[m]=_,e[p]=v,t[v]=h;for(let x=0,T=a;x!==T;++x){const A=n[x],E=A[v],b=A[m];A[m]=E,A[v]=b}}}this.nCachedObjects_=s}uncache(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,a=n.length;let s=this.nCachedObjects_,o=t.length;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],m=p.uuid,v=e[m];if(v!==void 0)if(delete e[m],v<s){const _=--s,x=t[_],T=--o,A=t[T];e[x.uuid]=v,t[v]=x,e[A.uuid]=_,t[_]=A,t.pop();for(let E=0,b=a;E!==b;++E){const R=n[E],D=R[_],N=R[T];R[v]=D,R[_]=N,R.pop()}}else{const _=--o,x=t[_];_>0&&(e[x.uuid]=v),t[v]=x,t.pop();for(let T=0,A=a;T!==A;++T){const E=n[T];E[v]=E[_],E.pop()}}}this.nCachedObjects_=s}subscribe_(t,e){const n=this._bindingsIndicesByPath;let a=n[t];const s=this._bindings;if(a!==void 0)return s[a];const o=this._paths,u=this._parsedPaths,h=this._objects,p=h.length,m=this.nCachedObjects_,v=new Array(p);a=s.length,n[t]=a,o.push(t),u.push(e),s.push(v);for(let _=m,x=h.length;_!==x;++_){const T=h[_];v[_]=new Mn(T,t,e)}return v}unsubscribe_(t){const e=this._bindingsIndicesByPath,n=e[t];if(n!==void 0){const a=this._paths,s=this._parsedPaths,o=this._bindings,u=o.length-1,h=o[u],p=t[u];e[p]=n,o[n]=h,o.pop(),s[n]=s[u],s.pop(),a[n]=a[u],a.pop()}}}class ZO{constructor(t,e,n=null,a=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=a;const s=e.tracks,o=s.length,u=new Array(o),h={endingStart:wh,endingEnd:wh};for(let p=0;p!==o;++p){const m=s[p].createInterpolant(null);u[p]=m,m.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n=!1){if(t.fadeOut(e),this.fadeIn(e),n===!0){const a=this._clip.duration,s=t._clip.duration,o=s/a,u=a/s;t.warp(1,o,e),this.warp(u,1,e)}return this}crossFadeTo(t,e,n=!1){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const a=this._mixer,s=a.time,o=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=a._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,p=u.sampleValues;return h[0]=s,h[1]=s+n,p[0]=t/o,p[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,a){if(!this.enabled){this._updateWeight(t);return}const s=this._startTime;if(s!==null){const h=(t-s)*n;h<0||n===0?e=0:(this._startTime=null,e=n*h)}e*=this._updateTimeScale(t);const o=this._updateTime(e),u=this._updateWeight(t);if(u>0){const h=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case HE:for(let m=0,v=h.length;m!==v;++m)h[m].evaluate(o),p[m].accumulateAdditive(u);break;case q1:default:for(let m=0,v=h.length;m!==v;++m)h[m].evaluate(o),p[m].accumulate(a,u)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(n!==null){const a=n.evaluate(t)[0];e*=a,t>n.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const a=n.evaluate(t)[0];e*=a,t>n.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let a=this.time+t,s=this._loopCount;const o=n===PN;if(t===0)return s===-1?a:o&&(s&1)===1?e-a:a;if(n===UN){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(a>=e)a=e;else if(a<0)a=0;else{this.time=a;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(s===-1&&(t>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),a>=e||a<0){const u=Math.floor(a/e);a-=e*u,s+=Math.abs(u);const h=this.repetitions-s;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=t>0?e:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(h===1){const p=t<0;this._setEndings(p,!p,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=a;if(o&&(s&1)===1)return e-a}return a}_setEndings(t,e,n){const a=this._interpolantSettings;n?(a.endingStart=Ch,a.endingEnd=Ch):(t?a.endingStart=this.zeroSlopeAtStart?Ch:wh:a.endingStart=I0,e?a.endingEnd=this.zeroSlopeAtEnd?Ch:wh:a.endingEnd=I0)}_scheduleFading(t,e,n){const a=this._mixer,s=a.time;let o=this._weightInterpolant;o===null&&(o=a._lendControlInterpolant(),this._weightInterpolant=o);const u=o.parameterPositions,h=o.sampleValues;return u[0]=s,h[0]=e,u[1]=s+t,h[1]=n,this}}const wF=new Float32Array(1);class CF extends Fl{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const n=t._localRoot||this._root,a=t._clip.tracks,s=a.length,o=t._propertyBindings,u=t._interpolants,h=n.uuid,p=this._bindingsByRootAndName;let m=p[h];m===void 0&&(m={},p[h]=m);for(let v=0;v!==s;++v){const _=a[v],x=_.name;let T=m[x];if(T!==void 0)++T.referenceCount,o[v]=T;else{if(T=o[v],T!==void 0){T._cacheIndex===null&&(++T.referenceCount,this._addInactiveBinding(T,h,x));continue}const A=e&&e._propertyBindings[v].binding.parsedPath;T=new WO(Mn.create(n,x,A),_.ValueTypeName,_.getValueSize()),++T.referenceCount,this._addInactiveBinding(T,h,x),o[v]=T}u[v].resultBuffer=T.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const n=(t._localRoot||this._root).uuid,a=t._clip.uuid,s=this._actionsByClip[a];this._bindAction(t,s&&s.knownActions[0]),this._addInactiveAction(t,a,n)}const e=t._propertyBindings;for(let n=0,a=e.length;n!==a;++n){const s=e[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let n=0,a=e.length;n!==a;++n){const s=e[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,n){const a=this._actions,s=this._actionsByClip;let o=s[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,s[e]=o;else{const u=o.knownActions;t._byClipCacheIndex=u.length,u.push(t)}t._cacheIndex=a.length,a.push(t),o.actionByRoot[n]=t}_removeInactiveAction(t){const e=this._actions,n=e[e.length-1],a=t._cacheIndex;n._cacheIndex=a,e[a]=n,e.pop(),t._cacheIndex=null;const s=t._clip.uuid,o=this._actionsByClip,u=o[s],h=u.knownActions,p=h[h.length-1],m=t._byClipCacheIndex;p._byClipCacheIndex=m,h[m]=p,h.pop(),t._byClipCacheIndex=null;const v=u.actionByRoot,_=(t._localRoot||this._root).uuid;delete v[_],h.length===0&&delete o[s],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let n=0,a=e.length;n!==a;++n){const s=e[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(t){const e=this._actions,n=t._cacheIndex,a=this._nActiveActions++,s=e[a];t._cacheIndex=a,e[a]=t,s._cacheIndex=n,e[n]=s}_takeBackAction(t){const e=this._actions,n=t._cacheIndex,a=--this._nActiveActions,s=e[a];t._cacheIndex=a,e[a]=t,s._cacheIndex=n,e[n]=s}_addInactiveBinding(t,e,n){const a=this._bindingsByRootAndName,s=this._bindings;let o=a[e];o===void 0&&(o={},a[e]=o),o[n]=t,t._cacheIndex=s.length,s.push(t)}_removeInactiveBinding(t){const e=this._bindings,n=t.binding,a=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,u=o[a],h=e[e.length-1],p=t._cacheIndex;h._cacheIndex=p,e[p]=h,e.pop(),delete u[s],Object.keys(u).length===0&&delete o[a]}_lendBinding(t){const e=this._bindings,n=t._cacheIndex,a=this._nActiveBindings++,s=e[a];t._cacheIndex=a,e[a]=t,s._cacheIndex=n,e[n]=s}_takeBackBinding(t){const e=this._bindings,n=t._cacheIndex,a=--this._nActiveBindings,s=e[a];t._cacheIndex=a,e[a]=t,s._cacheIndex=n,e[n]=s}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return n===void 0&&(n=new uA(new Float32Array(2),new Float32Array(2),1,wF),n.__cacheIndex=e,t[e]=n),n}_takeBackControlInterpolant(t){const e=this._controlInterpolants,n=t.__cacheIndex,a=--this._nActiveControlInterpolants,s=e[a];t.__cacheIndex=a,e[a]=t,s.__cacheIndex=n,e[n]=s}clipAction(t,e,n){const a=e||this._root,s=a.uuid;let o=typeof t=="string"?W0.findByName(a,t):t;const u=o!==null?o.uuid:t,h=this._actionsByClip[u];let p=null;if(n===void 0&&(o!==null?n=o.blendMode:n=q1),h!==void 0){const v=h.actionByRoot[s];if(v!==void 0&&v.blendMode===n)return v;p=h.knownActions[0],o===null&&(o=p._clip)}if(o===null)return null;const m=new ZO(this,o,e,n);return this._bindAction(m,p),this._addInactiveAction(m,u,s),m}existingAction(t,e){const n=e||this._root,a=n.uuid,s=typeof t=="string"?W0.findByName(n,t):t,o=s?s.uuid:t,u=this._actionsByClip[o];return u!==void 0&&u.actionByRoot[a]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let n=e-1;n>=0;--n)t[n].stop();return this}update(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,a=this.time+=t,s=Math.sign(t),o=this._accuIndex^=1;for(let p=0;p!==n;++p)e[p]._update(a,t,s,o);const u=this._bindings,h=this._nActiveBindings;for(let p=0;p!==h;++p)u[p].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,n=t.uuid,a=this._actionsByClip,s=a[n];if(s!==void 0){const o=s.knownActions;for(let u=0,h=o.length;u!==h;++u){const p=o[u];this._deactivateAction(p);const m=p._cacheIndex,v=e[e.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=m,e[m]=v,e.pop(),this._removeInactiveBindingsForAction(p)}delete a[n]}}uncacheRoot(t){const e=t.uuid,n=this._actionsByClip;for(const o in n){const u=n[o].actionByRoot,h=u[e];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const a=this._bindingsByRootAndName,s=a[e];if(s!==void 0)for(const o in s){const u=s[o];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(t,e){const n=this.existingAction(t,e);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class RF extends XE{constructor(t=1,e=1,n=1,a={}){super(t,e,a),this.isRenderTarget3D=!0,this.depth=n,this.texture=new j1(null,t,e,n),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class vA{constructor(t){this.value=t}clone(){return new vA(this.value.clone===void 0?this.value:this.value.clone())}}let DF=0;class NF extends Fl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:DF++}),this.name="",this.usage=V0,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let n=0,a=e.length;n<a;n++){const s=Array.isArray(e[n])?e[n]:[e[n]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class OF extends Q1{constructor(t,e,n=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class UF{constructor(t,e,n,a,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=a,this.count=s,this.normalized=o,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const NC=new ke;class KO{constructor(t,e,n=0,a=1/0){this.ray=new _m(t,e),this.near=n,this.far=a,this.camera=null,this.layers=new em,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return NC.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(NC),this}intersectObject(t,e=!0,n=[]){return gT(t,this,n,e),n.sort(OC),n}intersectObjects(t,e=!0,n=[]){for(let a=0,s=t.length;a<s;a++)gT(t[a],this,n,e);return n.sort(OC),n}}function OC(i,t){return i.distance-t.distance}function gT(i,t,e,n){let a=!0;if(i.layers.test(t.layers)&&i.raycast(t,e)===!1&&(a=!1),a===!0&&n===!0){const s=i.children;for(let o=0,u=s.length;o<u;o++)gT(s[o],t,e,!0)}}class LF{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(t){this._document=t,t.hidden!==void 0&&(this._pageVisibilityHandler=PF.bind(this),t.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(t){return this._timescale=t,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(t){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(t!==void 0?t:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function PF(){this._document.hidden===!1&&this.reset()}class zF{constructor(t=1,e=0,n=0){this.radius=t,this.phi=e,this.theta=n}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Ve(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Ve(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class BF{constructor(t=1,e=0,n=0){this.radius=t,this.theta=e,this.y=n}set(t,e,n){return this.radius=t,this.theta=e,this.y=n,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}clone(){return new this.constructor().copy(this)}}class yA{constructor(t,e,n,a){yA.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,n,a)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let n=0;n<4;n++)this.elements[n]=t[n+e];return this}set(t,e,n,a){const s=this.elements;return s[0]=t,s[2]=e,s[1]=n,s[3]=a,this}}const UC=new Ht;class IF{constructor(t=new Ht(1/0,1/0),e=new Ht(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=UC.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,UC).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const LC=new K,X_=new K,Sp=new K,bp=new K,eM=new K,FF=new K,VF=new K;class HF{constructor(t=new K,e=new K){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){LC.subVectors(t,this.start),X_.subVectors(this.end,this.start);const n=X_.dot(X_);let s=X_.dot(LC)/n;return e&&(s=Ve(s,0,1)),s}closestPointToPoint(t,e,n){const a=this.closestPointToPointParameter(t,e);return this.delta(n).multiplyScalar(a).add(this.start)}distanceSqToLine3(t,e=FF,n=VF){const a=10000000000000001e-32;let s,o;const u=this.start,h=t.start,p=this.end,m=t.end;Sp.subVectors(p,u),bp.subVectors(m,h),eM.subVectors(u,h);const v=Sp.dot(Sp),_=bp.dot(bp),x=bp.dot(eM);if(v<=a&&_<=a)return e.copy(u),n.copy(h),e.sub(n),e.dot(e);if(v<=a)s=0,o=x/_,o=Ve(o,0,1);else{const T=Sp.dot(eM);if(_<=a)o=0,s=Ve(-T/v,0,1);else{const A=Sp.dot(bp),E=v*_-A*A;E!==0?s=Ve((A*x-T*_)/E,0,1):s=0,o=(A*s+x)/_,o<0?(o=0,s=Ve(-T/v,0,1)):o>1&&(o=1,s=Ve((A-T)/v,0,1))}}return e.copy(u).add(Sp.multiplyScalar(s)),n.copy(h).add(bp.multiplyScalar(o)),e.sub(n),e.dot(e)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const PC=new K;class GF extends En{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const n=new en,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,u=1,h=32;o<h;o++,u++){const p=o/h*Math.PI*2,m=u/h*Math.PI*2;a.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new xe(a,3));const s=new As({fog:!1,toneMapped:!1});this.cone=new Vl(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),PC.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(PC),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Fc=new K,q_=new ke,nM=new ke;class kF extends Vl{constructor(t){const e=QO(t),n=new en,a=[],s=[];for(let p=0;p<e.length;p++){const m=e[p];m.parent&&m.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}n.setAttribute("position",new xe(a,3)),n.setAttribute("color",new xe(s,3));const o=new As({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;const u=new pe(255),h=new pe(65280);this.setColors(u,h)}updateMatrixWorld(t){const e=this.bones,n=this.geometry,a=n.getAttribute("position");nM.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<e.length;s++){const u=e[s];u.parent&&u.parent.isBone&&(q_.multiplyMatrices(nM,u.matrixWorld),Fc.setFromMatrixPosition(q_),a.setXYZ(o,Fc.x,Fc.y,Fc.z),q_.multiplyMatrices(nM,u.parent.matrixWorld),Fc.setFromMatrixPosition(q_),a.setXYZ(o+1,Fc.x,Fc.y,Fc.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}setColors(t,e){const a=this.geometry.getAttribute("color");for(let s=0;s<a.count;s+=2)a.setXYZ(s,t.r,t.g,t.b),a.setXYZ(s+1,e.r,e.g,e.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function QO(i){const t=[];i.isBone===!0&&t.push(i);for(let e=0;e<i.children.length;e++)t.push(...QO(i.children[e]));return t}class XF extends Zi{constructor(t,e,n){const a=new xv(e,4,2),s=new lf({wireframe:!0,fog:!1,toneMapped:!1});super(a,s),this.light=t,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const qF=new K,zC=new pe,BC=new pe;class YF extends En{constructor(t,e,n){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const a=new _v(e);a.rotateY(Math.PI*.5),this.material=new lf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=a.getAttribute("position"),o=new Float32Array(s.count*3);a.setAttribute("color",new qn(o,3)),this.add(new Zi(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");zC.copy(this.light.color),BC.copy(this.light.groundColor);for(let n=0,a=e.count;n<a;n++){const s=n<a/2?zC:BC;e.setXYZ(n,s.r,s.g,s.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(qF.setFromMatrixPosition(this.light.matrixWorld).negate())}}class jF extends Vl{constructor(t=10,e=10,n=4473924,a=8947848){n=new pe(n),a=new pe(a);const s=e/2,o=t/e,u=t/2,h=[],p=[];for(let _=0,x=0,T=-u;_<=e;_++,T+=o){h.push(-u,0,T,u,0,T),h.push(T,0,-u,T,0,u);const A=_===s?n:a;A.toArray(p,x),x+=3,A.toArray(p,x),x+=3,A.toArray(p,x),x+=3,A.toArray(p,x),x+=3}const m=new en;m.setAttribute("position",new xe(h,3)),m.setAttribute("color",new xe(p,3));const v=new As({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class WF extends Vl{constructor(t=10,e=16,n=8,a=64,s=4473924,o=8947848){s=new pe(s),o=new pe(o);const u=[],h=[];if(e>1)for(let v=0;v<e;v++){const _=v/e*(Math.PI*2),x=Math.sin(_)*t,T=Math.cos(_)*t;u.push(0,0,0),u.push(x,0,T);const A=v&1?s:o;h.push(A.r,A.g,A.b),h.push(A.r,A.g,A.b)}for(let v=0;v<n;v++){const _=v&1?s:o,x=t-t/n*v;for(let T=0;T<a;T++){let A=T/a*(Math.PI*2),E=Math.sin(A)*x,b=Math.cos(A)*x;u.push(E,0,b),h.push(_.r,_.g,_.b),A=(T+1)/a*(Math.PI*2),E=Math.sin(A)*x,b=Math.cos(A)*x,u.push(E,0,b),h.push(_.r,_.g,_.b)}}const p=new en;p.setAttribute("position",new xe(u,3)),p.setAttribute("color",new xe(h,3));const m=new As({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const IC=new K,Y_=new K,FC=new K;class ZF extends En{constructor(t,e,n){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",e===void 0&&(e=1);let a=new en;a.setAttribute("position",new xe([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const s=new As({fog:!1,toneMapped:!1});this.lightPlane=new Jc(a,s),this.add(this.lightPlane),a=new en,a.setAttribute("position",new xe([0,0,0,0,0,1],3)),this.targetLine=new Jc(a,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),IC.setFromMatrixPosition(this.light.matrixWorld),Y_.setFromMatrixPosition(this.light.target.matrixWorld),FC.subVectors(Y_,IC),this.lightPlane.lookAt(Y_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Y_),this.targetLine.scale.z=FC.length()}}const j_=new K,Ai=new W1;class KF extends Vl{constructor(t){const e=new en,n=new As({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],s=[],o={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(T,A){h(T),h(A)}function h(T){a.push(0,0,0),s.push(0,0,0),o[T]===void 0&&(o[T]=[]),o[T].push(a.length/3-1)}e.setAttribute("position",new xe(a,3)),e.setAttribute("color",new xe(s,3)),super(e,n),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const p=new pe(16755200),m=new pe(16711680),v=new pe(43775),_=new pe(16777215),x=new pe(3355443);this.setColors(p,m,v,_,x)}setColors(t,e,n,a,s){const u=this.geometry.getAttribute("color");return u.setXYZ(0,t.r,t.g,t.b),u.setXYZ(1,t.r,t.g,t.b),u.setXYZ(2,t.r,t.g,t.b),u.setXYZ(3,t.r,t.g,t.b),u.setXYZ(4,t.r,t.g,t.b),u.setXYZ(5,t.r,t.g,t.b),u.setXYZ(6,t.r,t.g,t.b),u.setXYZ(7,t.r,t.g,t.b),u.setXYZ(8,t.r,t.g,t.b),u.setXYZ(9,t.r,t.g,t.b),u.setXYZ(10,t.r,t.g,t.b),u.setXYZ(11,t.r,t.g,t.b),u.setXYZ(12,t.r,t.g,t.b),u.setXYZ(13,t.r,t.g,t.b),u.setXYZ(14,t.r,t.g,t.b),u.setXYZ(15,t.r,t.g,t.b),u.setXYZ(16,t.r,t.g,t.b),u.setXYZ(17,t.r,t.g,t.b),u.setXYZ(18,t.r,t.g,t.b),u.setXYZ(19,t.r,t.g,t.b),u.setXYZ(20,t.r,t.g,t.b),u.setXYZ(21,t.r,t.g,t.b),u.setXYZ(22,t.r,t.g,t.b),u.setXYZ(23,t.r,t.g,t.b),u.setXYZ(24,e.r,e.g,e.b),u.setXYZ(25,e.r,e.g,e.b),u.setXYZ(26,e.r,e.g,e.b),u.setXYZ(27,e.r,e.g,e.b),u.setXYZ(28,e.r,e.g,e.b),u.setXYZ(29,e.r,e.g,e.b),u.setXYZ(30,e.r,e.g,e.b),u.setXYZ(31,e.r,e.g,e.b),u.setXYZ(32,n.r,n.g,n.b),u.setXYZ(33,n.r,n.g,n.b),u.setXYZ(34,n.r,n.g,n.b),u.setXYZ(35,n.r,n.g,n.b),u.setXYZ(36,n.r,n.g,n.b),u.setXYZ(37,n.r,n.g,n.b),u.setXYZ(38,a.r,a.g,a.b),u.setXYZ(39,a.r,a.g,a.b),u.setXYZ(40,s.r,s.g,s.b),u.setXYZ(41,s.r,s.g,s.b),u.setXYZ(42,s.r,s.g,s.b),u.setXYZ(43,s.r,s.g,s.b),u.setXYZ(44,s.r,s.g,s.b),u.setXYZ(45,s.r,s.g,s.b),u.setXYZ(46,s.r,s.g,s.b),u.setXYZ(47,s.r,s.g,s.b),u.setXYZ(48,s.r,s.g,s.b),u.setXYZ(49,s.r,s.g,s.b),u.needsUpdate=!0,this}update(){const t=this.geometry,e=this.pointMap,n=1,a=1;let s,o;if(Ai.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===yr)s=-1,o=1;else if(this.camera.coordinateSystem===$p)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);zi("c",e,t,Ai,0,0,s),zi("t",e,t,Ai,0,0,o),zi("n1",e,t,Ai,-n,-a,s),zi("n2",e,t,Ai,n,-a,s),zi("n3",e,t,Ai,-n,a,s),zi("n4",e,t,Ai,n,a,s),zi("f1",e,t,Ai,-n,-a,o),zi("f2",e,t,Ai,n,-a,o),zi("f3",e,t,Ai,-n,a,o),zi("f4",e,t,Ai,n,a,o),zi("u1",e,t,Ai,n*.7,a*1.1,s),zi("u2",e,t,Ai,-n*.7,a*1.1,s),zi("u3",e,t,Ai,0,a*2,s),zi("cf1",e,t,Ai,-n,0,o),zi("cf2",e,t,Ai,n,0,o),zi("cf3",e,t,Ai,0,-a,o),zi("cf4",e,t,Ai,0,a,o),zi("cn1",e,t,Ai,-n,0,s),zi("cn2",e,t,Ai,n,0,s),zi("cn3",e,t,Ai,0,-a,s),zi("cn4",e,t,Ai,0,a,s),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function zi(i,t,e,n,a,s,o){j_.set(a,s,o).unproject(n);const u=t[i];if(u!==void 0){const h=e.getAttribute("position");for(let p=0,m=u.length;p<m;p++)h.setXYZ(u[p],j_.x,j_.y,j_.z)}}const W_=new Qa;class QF extends Vl{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),s=new en;s.setIndex(new qn(n,1)),s.setAttribute("position",new qn(a,3)),super(s,new As({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&W_.setFromObject(this.object),W_.isEmpty())return;const t=W_.min,e=W_.max,n=this.geometry.attributes.position,a=n.array;a[0]=e.x,a[1]=e.y,a[2]=e.z,a[3]=t.x,a[4]=e.y,a[5]=e.z,a[6]=t.x,a[7]=t.y,a[8]=e.z,a[9]=e.x,a[10]=t.y,a[11]=e.z,a[12]=e.x,a[13]=e.y,a[14]=t.z,a[15]=t.x,a[16]=e.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=e.x,a[22]=t.y,a[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class JF extends Vl{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new en;s.setIndex(new qn(n,1)),s.setAttribute("position",new xe(a,3)),super(s,new As({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class $F extends Jc{constructor(t,e=1,n=16776960){const a=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new en;o.setAttribute("position",new xe(s,3)),o.computeBoundingSphere(),super(o,new As({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new en;h.setAttribute("position",new xe(u,3)),h.computeBoundingSphere(),this.add(new Zi(h,new lf({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const VC=new K;let Z_,iM;class tV extends En{constructor(t=new K(0,0,1),e=new K(0,0,0),n=1,a=16776960,s=n*.2,o=s*.2){super(),this.type="ArrowHelper",Z_===void 0&&(Z_=new en,Z_.setAttribute("position",new xe([0,0,0,0,1,0],3)),iM=new yv(.5,1,5,1),iM.translate(0,-.5,0)),this.position.copy(e),this.line=new Jc(Z_,new As({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Zi(iM,new lf({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,s,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{VC.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(VC,e)}}setLength(t,e=t*.2,n=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class eV extends Vl{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new en;a.setAttribute("position",new xe(e,3)),a.setAttribute("color",new xe(n,3));const s=new As({vertexColors:!0,toneMapped:!1});super(a,s),this.type="AxesHelper"}setColors(t,e,n){const a=new pe,s=this.geometry.attributes.color.array;return a.set(t),a.toArray(s,0),a.toArray(s,3),a.set(e),a.toArray(s,6),a.toArray(s,9),a.set(n),a.toArray(s,12),a.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class nV{constructor(){this.type="ShapePath",this.color=new pe,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new d1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,n,a){return this.currentPath.quadraticCurveTo(t,e,n,a),this}bezierCurveTo(t,e,n,a,s,o){return this.currentPath.bezierCurveTo(t,e,n,a,s,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(b){const R=[];for(let D=0,N=b.length;D<N;D++){const U=b[D],P=new Bh;P.curves=U.curves,R.push(P)}return R}function n(b,R){const D=R.length;let N=!1;for(let U=D-1,P=0;P<D;U=P++){let F=R[U],V=R[P],L=V.x-F.x,B=V.y-F.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(F=R[P],L=-L,V=R[U],B=-B),b.y<F.y||b.y>V.y)continue;if(b.y===F.y){if(b.x===F.x)return!0}else{const W=B*(b.x-F.x)-L*(b.y-F.y);if(W===0)return!0;if(W<0)continue;N=!N}}else{if(b.y!==F.y)continue;if(V.x<=b.x&&b.x<=F.x||F.x<=b.x&&b.x<=V.x)return!0}}return N}const a=zo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,u,h;const p=[];if(s.length===1)return u=s[0],h=new Bh,h.curves=u.curves,p.push(h),p;let m=!a(s[0].getPoints());m=t?!m:m;const v=[],_=[];let x=[],T=0,A;_[T]=void 0,x[T]=[];for(let b=0,R=s.length;b<R;b++)u=s[b],A=u.getPoints(),o=a(A),o=t?!o:o,o?(!m&&_[T]&&T++,_[T]={s:new Bh,p:A},_[T].s.curves=u.curves,m&&T++,x[T]=[]):x[T].push({h:u,p:A[0]});if(!_[0])return e(s);if(_.length>1){let b=!1,R=0;for(let D=0,N=_.length;D<N;D++)v[D]=[];for(let D=0,N=_.length;D<N;D++){const U=x[D];for(let P=0;P<U.length;P++){const F=U[P];let V=!0;for(let L=0;L<_.length;L++)n(F.p,_[L].p)&&(D!==L&&R++,V?(V=!1,v[L].push(F)):b=!0);V&&v[D].push(F)}}R>0&&b===!1&&(x=v)}let E;for(let b=0,R=_.length;b<R;b++){h=_[b].s,p.push(h),E=x[b];for(let D=0,N=E.length;D<N;D++)h.holes.push(E[D].h)}return p}}class iV extends Fl{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}}function aV(i,t){const e=i.image&&i.image.width?i.image.width/i.image.height:1;return e>t?(i.repeat.x=1,i.repeat.y=e/t,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=t/e,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function sV(i,t){const e=i.image&&i.image.width?i.image.width/i.image.height:1;return e>t?(i.repeat.x=t/e,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=e/t,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function rV(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function vT(i,t,e,n){const a=oV(n);switch(e){case IE:return i*t;case G1:return i*t/a.components*a.byteLength;case mv:return i*t/a.components*a.byteLength;case VE:return i*t*2/a.components*a.byteLength;case k1:return i*t*2/a.components*a.byteLength;case FE:return i*t*3/a.components*a.byteLength;case Za:return i*t*4/a.components*a.byteLength;case X1:return i*t*4/a.components*a.byteLength;case p0:case m0:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*8;case g0:case v0:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case zx:case Ix:return Math.max(i,16)*Math.max(t,8)/4;case Px:case Bx:return Math.max(i,8)*Math.max(t,8)/2;case Fx:case Vx:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*8;case Hx:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case Gx:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case kx:return Math.floor((i+4)/5)*Math.floor((t+3)/4)*16;case Xx:return Math.floor((i+4)/5)*Math.floor((t+4)/5)*16;case qx:return Math.floor((i+5)/6)*Math.floor((t+4)/5)*16;case Yx:return Math.floor((i+5)/6)*Math.floor((t+5)/6)*16;case jx:return Math.floor((i+7)/8)*Math.floor((t+4)/5)*16;case Wx:return Math.floor((i+7)/8)*Math.floor((t+5)/6)*16;case Zx:return Math.floor((i+7)/8)*Math.floor((t+7)/8)*16;case Kx:return Math.floor((i+9)/10)*Math.floor((t+4)/5)*16;case Qx:return Math.floor((i+9)/10)*Math.floor((t+5)/6)*16;case Jx:return Math.floor((i+9)/10)*Math.floor((t+7)/8)*16;case $x:return Math.floor((i+9)/10)*Math.floor((t+9)/10)*16;case t1:return Math.floor((i+11)/12)*Math.floor((t+9)/10)*16;case e1:return Math.floor((i+11)/12)*Math.floor((t+11)/12)*16;case n1:case i1:case a1:return Math.ceil(i/4)*Math.ceil(t/4)*16;case s1:case r1:return Math.ceil(i/4)*Math.ceil(t/4)*8;case o1:case l1:return Math.ceil(i/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function oV(i){switch(i){case no:case LE:return{byteLength:1,components:1};case Zp:case PE:case ym:return{byteLength:2,components:1};case V1:case H1:return{byteLength:2,components:4};case Du:case F1:case Ys:return{byteLength:4,components:1};case zE:case BE:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class lV{static contain(t,e){return aV(t,e)}static cover(t,e){return sV(t,e)}static fill(t){return rV(t)}static getByteLength(t,e,n,a){return vT(t,e,n,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:z1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=z1);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function JO(){let i=null,t=!1,e=null,n=null;function a(s,o){e(s,o),n=i.requestAnimationFrame(a)}return{start:function(){t!==!0&&e!==null&&(n=i.requestAnimationFrame(a),t=!0)},stop:function(){i.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(s){e=s},setContext:function(s){i=s}}}function uV(i){const t=new WeakMap;function e(u,h){const p=u.array,m=u.usage,v=p.byteLength,_=i.createBuffer();i.bindBuffer(h,_),i.bufferData(h,p,m),u.onUploadCallback();let x;if(p instanceof Float32Array)x=i.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)x=i.HALF_FLOAT;else if(p instanceof Uint16Array)u.isFloat16BufferAttribute?x=i.HALF_FLOAT:x=i.UNSIGNED_SHORT;else if(p instanceof Int16Array)x=i.SHORT;else if(p instanceof Uint32Array)x=i.UNSIGNED_INT;else if(p instanceof Int32Array)x=i.INT;else if(p instanceof Int8Array)x=i.BYTE;else if(p instanceof Uint8Array)x=i.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)x=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:_,type:x,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:v}}function n(u,h,p){const m=h.array,v=h.updateRanges;if(i.bindBuffer(p,u),v.length===0)i.bufferSubData(p,0,m);else{v.sort((x,T)=>x.start-T.start);let _=0;for(let x=1;x<v.length;x++){const T=v[_],A=v[x];A.start<=T.start+T.count+1?T.count=Math.max(T.count,A.start+A.count-T.start):(++_,v[_]=A)}v.length=_+1;for(let x=0,T=v.length;x<T;x++){const A=v[x];i.bufferSubData(p,A.start*m.BYTES_PER_ELEMENT,m,A.start,A.count)}h.clearUpdateRanges()}h.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),t.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=t.get(u);h&&(i.deleteBuffer(h.buffer),t.delete(u))}function o(u,h){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const m=t.get(u);(!m||m.version<u.version)&&t.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const p=t.get(u);if(p===void 0)t.set(u,e(u,h));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(p.buffer,u,h),p.version=u.version}}return{get:a,remove:s,update:o}}var cV=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,fV=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,hV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,dV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pV=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,mV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,gV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,vV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,yV=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,_V=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,xV=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,SV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bV=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,MV=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,TV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,EV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,AV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,wV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,CV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,RV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,DV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,NV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,OV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,UV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,LV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,PV=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,zV=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,BV=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,IV=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,FV=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,VV="gl_FragColor = linearToOutputTexel( gl_FragColor );",HV=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,GV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,kV=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,XV=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,qV=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,YV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,jV=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,WV=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ZV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,KV=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,QV=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,JV=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,$V=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,t8=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,e8=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,n8=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,i8=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,a8=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,s8=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,r8=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,o8=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,l8=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,u8=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,c8=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,f8=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,h8=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,d8=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,p8=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,m8=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,g8=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,v8=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,y8=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_8=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,x8=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,S8=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,b8=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,M8=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,T8=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,E8=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,A8=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,w8=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,C8=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,R8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,D8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,N8=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,O8=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,U8=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,L8=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,P8=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,z8=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,B8=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,I8=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,F8=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,V8=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,H8=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,G8=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,k8=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,X8=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,q8=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Y8=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,j8=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,W8=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Z8=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,K8=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Q8=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,J8=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,$8=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,tH=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,eH=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,nH=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,iH=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,aH=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,sH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,oH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,lH=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const uH=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cH=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hH=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,pH=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,gH=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vH=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,yH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_H=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,xH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,SH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bH=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,MH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,TH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EH=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AH=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wH=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,CH=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RH=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,DH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,NH=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OH=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UH=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,LH=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PH=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zH=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BH=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,IH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,FH=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VH=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,HH=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,GH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,an={alphahash_fragment:cV,alphahash_pars_fragment:fV,alphamap_fragment:hV,alphamap_pars_fragment:dV,alphatest_fragment:pV,alphatest_pars_fragment:mV,aomap_fragment:gV,aomap_pars_fragment:vV,batching_pars_vertex:yV,batching_vertex:_V,begin_vertex:xV,beginnormal_vertex:SV,bsdfs:bV,iridescence_fragment:MV,bumpmap_pars_fragment:TV,clipping_planes_fragment:EV,clipping_planes_pars_fragment:AV,clipping_planes_pars_vertex:wV,clipping_planes_vertex:CV,color_fragment:RV,color_pars_fragment:DV,color_pars_vertex:NV,color_vertex:OV,common:UV,cube_uv_reflection_fragment:LV,defaultnormal_vertex:PV,displacementmap_pars_vertex:zV,displacementmap_vertex:BV,emissivemap_fragment:IV,emissivemap_pars_fragment:FV,colorspace_fragment:VV,colorspace_pars_fragment:HV,envmap_fragment:GV,envmap_common_pars_fragment:kV,envmap_pars_fragment:XV,envmap_pars_vertex:qV,envmap_physical_pars_fragment:n8,envmap_vertex:YV,fog_vertex:jV,fog_pars_vertex:WV,fog_fragment:ZV,fog_pars_fragment:KV,gradientmap_pars_fragment:QV,lightmap_pars_fragment:JV,lights_lambert_fragment:$V,lights_lambert_pars_fragment:t8,lights_pars_begin:e8,lights_toon_fragment:i8,lights_toon_pars_fragment:a8,lights_phong_fragment:s8,lights_phong_pars_fragment:r8,lights_physical_fragment:o8,lights_physical_pars_fragment:l8,lights_fragment_begin:u8,lights_fragment_maps:c8,lights_fragment_end:f8,logdepthbuf_fragment:h8,logdepthbuf_pars_fragment:d8,logdepthbuf_pars_vertex:p8,logdepthbuf_vertex:m8,map_fragment:g8,map_pars_fragment:v8,map_particle_fragment:y8,map_particle_pars_fragment:_8,metalnessmap_fragment:x8,metalnessmap_pars_fragment:S8,morphinstance_vertex:b8,morphcolor_vertex:M8,morphnormal_vertex:T8,morphtarget_pars_vertex:E8,morphtarget_vertex:A8,normal_fragment_begin:w8,normal_fragment_maps:C8,normal_pars_fragment:R8,normal_pars_vertex:D8,normal_vertex:N8,normalmap_pars_fragment:O8,clearcoat_normal_fragment_begin:U8,clearcoat_normal_fragment_maps:L8,clearcoat_pars_fragment:P8,iridescence_pars_fragment:z8,opaque_fragment:B8,packing:I8,premultiplied_alpha_fragment:F8,project_vertex:V8,dithering_fragment:H8,dithering_pars_fragment:G8,roughnessmap_fragment:k8,roughnessmap_pars_fragment:X8,shadowmap_pars_fragment:q8,shadowmap_pars_vertex:Y8,shadowmap_vertex:j8,shadowmask_pars_fragment:W8,skinbase_vertex:Z8,skinning_pars_vertex:K8,skinning_vertex:Q8,skinnormal_vertex:J8,specularmap_fragment:$8,specularmap_pars_fragment:tH,tonemapping_fragment:eH,tonemapping_pars_fragment:nH,transmission_fragment:iH,transmission_pars_fragment:aH,uv_pars_fragment:sH,uv_pars_vertex:rH,uv_vertex:oH,worldpos_vertex:lH,background_vert:uH,background_frag:cH,backgroundCube_vert:fH,backgroundCube_frag:hH,cube_vert:dH,cube_frag:pH,depth_vert:mH,depth_frag:gH,distanceRGBA_vert:vH,distanceRGBA_frag:yH,equirect_vert:_H,equirect_frag:xH,linedashed_vert:SH,linedashed_frag:bH,meshbasic_vert:MH,meshbasic_frag:TH,meshlambert_vert:EH,meshlambert_frag:AH,meshmatcap_vert:wH,meshmatcap_frag:CH,meshnormal_vert:RH,meshnormal_frag:DH,meshphong_vert:NH,meshphong_frag:OH,meshphysical_vert:UH,meshphysical_frag:LH,meshtoon_vert:PH,meshtoon_frag:zH,points_vert:BH,points_frag:IH,shadow_vert:FH,shadow_frag:VH,sprite_vert:HH,sprite_frag:GH},le={common:{diffuse:{value:new pe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Je},alphaMap:{value:null},alphaMapTransform:{value:new Je},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Je}},envmap:{envMap:{value:null},envMapRotation:{value:new Je},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Je}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Je}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Je},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Je},normalScale:{value:new Ht(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Je},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Je}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Je}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Je}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Je},alphaTest:{value:0},uvTransform:{value:new Je}},sprite:{diffuse:{value:new pe(16777215)},opacity:{value:1},center:{value:new Ht(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Je},alphaMap:{value:null},alphaMapTransform:{value:new Je},alphaTest:{value:0}}},Po={basic:{uniforms:xs([le.common,le.specularmap,le.envmap,le.aomap,le.lightmap,le.fog]),vertexShader:an.meshbasic_vert,fragmentShader:an.meshbasic_frag},lambert:{uniforms:xs([le.common,le.specularmap,le.envmap,le.aomap,le.lightmap,le.emissivemap,le.bumpmap,le.normalmap,le.displacementmap,le.fog,le.lights,{emissive:{value:new pe(0)}}]),vertexShader:an.meshlambert_vert,fragmentShader:an.meshlambert_frag},phong:{uniforms:xs([le.common,le.specularmap,le.envmap,le.aomap,le.lightmap,le.emissivemap,le.bumpmap,le.normalmap,le.displacementmap,le.fog,le.lights,{emissive:{value:new pe(0)},specular:{value:new pe(1118481)},shininess:{value:30}}]),vertexShader:an.meshphong_vert,fragmentShader:an.meshphong_frag},standard:{uniforms:xs([le.common,le.envmap,le.aomap,le.lightmap,le.emissivemap,le.bumpmap,le.normalmap,le.displacementmap,le.roughnessmap,le.metalnessmap,le.fog,le.lights,{emissive:{value:new pe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:an.meshphysical_vert,fragmentShader:an.meshphysical_frag},toon:{uniforms:xs([le.common,le.aomap,le.lightmap,le.emissivemap,le.bumpmap,le.normalmap,le.displacementmap,le.gradientmap,le.fog,le.lights,{emissive:{value:new pe(0)}}]),vertexShader:an.meshtoon_vert,fragmentShader:an.meshtoon_frag},matcap:{uniforms:xs([le.common,le.bumpmap,le.normalmap,le.displacementmap,le.fog,{matcap:{value:null}}]),vertexShader:an.meshmatcap_vert,fragmentShader:an.meshmatcap_frag},points:{uniforms:xs([le.points,le.fog]),vertexShader:an.points_vert,fragmentShader:an.points_frag},dashed:{uniforms:xs([le.common,le.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:an.linedashed_vert,fragmentShader:an.linedashed_frag},depth:{uniforms:xs([le.common,le.displacementmap]),vertexShader:an.depth_vert,fragmentShader:an.depth_frag},normal:{uniforms:xs([le.common,le.bumpmap,le.normalmap,le.displacementmap,{opacity:{value:1}}]),vertexShader:an.meshnormal_vert,fragmentShader:an.meshnormal_frag},sprite:{uniforms:xs([le.sprite,le.fog]),vertexShader:an.sprite_vert,fragmentShader:an.sprite_frag},background:{uniforms:{uvTransform:{value:new Je},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:an.background_vert,fragmentShader:an.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Je}},vertexShader:an.backgroundCube_vert,fragmentShader:an.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:an.cube_vert,fragmentShader:an.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:an.equirect_vert,fragmentShader:an.equirect_frag},distanceRGBA:{uniforms:xs([le.common,le.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:an.distanceRGBA_vert,fragmentShader:an.distanceRGBA_frag},shadow:{uniforms:xs([le.lights,le.fog,{color:{value:new pe(0)},opacity:{value:1}}]),vertexShader:an.shadow_vert,fragmentShader:an.shadow_frag}};Po.physical={uniforms:xs([Po.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Je},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Je},clearcoatNormalScale:{value:new Ht(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Je},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Je},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Je},sheen:{value:0},sheenColor:{value:new pe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Je},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Je},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Je},transmissionSamplerSize:{value:new Ht},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Je},attenuationDistance:{value:0},attenuationColor:{value:new pe(0)},specularColor:{value:new pe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Je},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Je},anisotropyVector:{value:new Ht},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Je}}]),vertexShader:an.meshphysical_vert,fragmentShader:an.meshphysical_frag};const K_={r:0,b:0,g:0},vh=new br,kH=new ke;function XH(i,t,e,n,a,s,o){const u=new pe(0);let h=s===!0?0:1,p,m,v=null,_=0,x=null;function T(D){let N=D.isScene===!0?D.background:null;return N&&N.isTexture&&(N=(D.backgroundBlurriness>0?e:t).get(N)),N}function A(D){let N=!1;const U=T(D);U===null?b(u,h):U&&U.isColor&&(b(U,1),N=!0);const P=i.xr.getEnvironmentBlendMode();P==="additive"?n.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(i.autoClear||N)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function E(D,N){const U=T(N);U&&(U.isCubeTexture||U.mapping===vm)?(m===void 0&&(m=new Zi(new Jh(1,1,1),new Io({name:"BackgroundCubeMaterial",uniforms:nm(Po.backgroundCube.uniforms),vertexShader:Po.backgroundCube.vertexShader,fragmentShader:Po.backgroundCube.fragmentShader,side:Es,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(P,F,V){this.matrixWorld.copyPosition(V.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(m)),vh.copy(N.backgroundRotation),vh.x*=-1,vh.y*=-1,vh.z*=-1,U.isCubeTexture&&U.isRenderTargetTexture===!1&&(vh.y*=-1,vh.z*=-1),m.material.uniforms.envMap.value=U,m.material.uniforms.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(kH.makeRotationFromEuler(vh)),m.material.toneMapped=_n.getTransfer(U.colorSpace)!==In,(v!==U||_!==U.version||x!==i.toneMapping)&&(m.material.needsUpdate=!0,v=U,_=U.version,x=i.toneMapping),m.layers.enableAll(),D.unshift(m,m.geometry,m.material,0,0,null)):U&&U.isTexture&&(p===void 0&&(p=new Zi(new Sm(2,2),new Io({name:"BackgroundMaterial",uniforms:nm(Po.background.uniforms),vertexShader:Po.background.vertexShader,fragmentShader:Po.background.fragmentShader,side:Cu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(p)),p.material.uniforms.t2D.value=U,p.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,p.material.toneMapped=_n.getTransfer(U.colorSpace)!==In,U.matrixAutoUpdate===!0&&U.updateMatrix(),p.material.uniforms.uvTransform.value.copy(U.matrix),(v!==U||_!==U.version||x!==i.toneMapping)&&(p.material.needsUpdate=!0,v=U,_=U.version,x=i.toneMapping),p.layers.enableAll(),D.unshift(p,p.geometry,p.material,0,0,null))}function b(D,N){D.getRGB(K_,KN(i)),n.buffers.color.setClear(K_.r,K_.g,K_.b,N,o)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return u},setClearColor:function(D,N=1){u.set(D),h=N,b(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(D){h=D,b(u,h)},render:A,addToRenderList:E,dispose:R}}function qH(i,t){const e=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},a=_(null);let s=a,o=!1;function u(B,W,$,it,ct){let ut=!1;const z=v(it,$,W);s!==z&&(s=z,p(s.object)),ut=x(B,it,$,ct),ut&&T(B,it,$,ct),ct!==null&&t.update(ct,i.ELEMENT_ARRAY_BUFFER),(ut||o)&&(o=!1,N(B,W,$,it),ct!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.get(ct).buffer))}function h(){return i.createVertexArray()}function p(B){return i.bindVertexArray(B)}function m(B){return i.deleteVertexArray(B)}function v(B,W,$){const it=$.wireframe===!0;let ct=n[B.id];ct===void 0&&(ct={},n[B.id]=ct);let ut=ct[W.id];ut===void 0&&(ut={},ct[W.id]=ut);let z=ut[it];return z===void 0&&(z=_(h()),ut[it]=z),z}function _(B){const W=[],$=[],it=[];for(let ct=0;ct<e;ct++)W[ct]=0,$[ct]=0,it[ct]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:$,attributeDivisors:it,object:B,attributes:{},index:null}}function x(B,W,$,it){const ct=s.attributes,ut=W.attributes;let z=0;const q=$.getAttributes();for(const j in q)if(q[j].location>=0){const k=ct[j];let nt=ut[j];if(nt===void 0&&(j==="instanceMatrix"&&B.instanceMatrix&&(nt=B.instanceMatrix),j==="instanceColor"&&B.instanceColor&&(nt=B.instanceColor)),k===void 0||k.attribute!==nt||nt&&k.data!==nt.data)return!0;z++}return s.attributesNum!==z||s.index!==it}function T(B,W,$,it){const ct={},ut=W.attributes;let z=0;const q=$.getAttributes();for(const j in q)if(q[j].location>=0){let k=ut[j];k===void 0&&(j==="instanceMatrix"&&B.instanceMatrix&&(k=B.instanceMatrix),j==="instanceColor"&&B.instanceColor&&(k=B.instanceColor));const nt={};nt.attribute=k,k&&k.data&&(nt.data=k.data),ct[j]=nt,z++}s.attributes=ct,s.attributesNum=z,s.index=it}function A(){const B=s.newAttributes;for(let W=0,$=B.length;W<$;W++)B[W]=0}function E(B){b(B,0)}function b(B,W){const $=s.newAttributes,it=s.enabledAttributes,ct=s.attributeDivisors;$[B]=1,it[B]===0&&(i.enableVertexAttribArray(B),it[B]=1),ct[B]!==W&&(i.vertexAttribDivisor(B,W),ct[B]=W)}function R(){const B=s.newAttributes,W=s.enabledAttributes;for(let $=0,it=W.length;$<it;$++)W[$]!==B[$]&&(i.disableVertexAttribArray($),W[$]=0)}function D(B,W,$,it,ct,ut,z){z===!0?i.vertexAttribIPointer(B,W,$,ct,ut):i.vertexAttribPointer(B,W,$,it,ct,ut)}function N(B,W,$,it){A();const ct=it.attributes,ut=$.getAttributes(),z=W.defaultAttributeValues;for(const q in ut){const j=ut[q];if(j.location>=0){let rt=ct[q];if(rt===void 0&&(q==="instanceMatrix"&&B.instanceMatrix&&(rt=B.instanceMatrix),q==="instanceColor"&&B.instanceColor&&(rt=B.instanceColor)),rt!==void 0){const k=rt.normalized,nt=rt.itemSize,_t=t.get(rt);if(_t===void 0)continue;const wt=_t.buffer,Rt=_t.type,qt=_t.bytesPerElement,mt=Rt===i.INT||Rt===i.UNSIGNED_INT||rt.gpuType===F1;if(rt.isInterleavedBufferAttribute){const Nt=rt.data,kt=Nt.stride,he=rt.offset;if(Nt.isInstancedInterleavedBuffer){for(let ce=0;ce<j.locationSize;ce++)b(j.location+ce,Nt.meshPerAttribute);B.isInstancedMesh!==!0&&it._maxInstanceCount===void 0&&(it._maxInstanceCount=Nt.meshPerAttribute*Nt.count)}else for(let ce=0;ce<j.locationSize;ce++)E(j.location+ce);i.bindBuffer(i.ARRAY_BUFFER,wt);for(let ce=0;ce<j.locationSize;ce++)D(j.location+ce,nt/j.locationSize,Rt,k,kt*qt,(he+nt/j.locationSize*ce)*qt,mt)}else{if(rt.isInstancedBufferAttribute){for(let Nt=0;Nt<j.locationSize;Nt++)b(j.location+Nt,rt.meshPerAttribute);B.isInstancedMesh!==!0&&it._maxInstanceCount===void 0&&(it._maxInstanceCount=rt.meshPerAttribute*rt.count)}else for(let Nt=0;Nt<j.locationSize;Nt++)E(j.location+Nt);i.bindBuffer(i.ARRAY_BUFFER,wt);for(let Nt=0;Nt<j.locationSize;Nt++)D(j.location+Nt,nt/j.locationSize,Rt,k,nt*qt,nt/j.locationSize*Nt*qt,mt)}}else if(z!==void 0){const k=z[q];if(k!==void 0)switch(k.length){case 2:i.vertexAttrib2fv(j.location,k);break;case 3:i.vertexAttrib3fv(j.location,k);break;case 4:i.vertexAttrib4fv(j.location,k);break;default:i.vertexAttrib1fv(j.location,k)}}}}R()}function U(){V();for(const B in n){const W=n[B];for(const $ in W){const it=W[$];for(const ct in it)m(it[ct].object),delete it[ct];delete W[$]}delete n[B]}}function P(B){if(n[B.id]===void 0)return;const W=n[B.id];for(const $ in W){const it=W[$];for(const ct in it)m(it[ct].object),delete it[ct];delete W[$]}delete n[B.id]}function F(B){for(const W in n){const $=n[W];if($[B.id]===void 0)continue;const it=$[B.id];for(const ct in it)m(it[ct].object),delete it[ct];delete $[B.id]}}function V(){L(),o=!0,s!==a&&(s=a,p(s.object))}function L(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:u,reset:V,resetDefaultState:L,dispose:U,releaseStatesOfGeometry:P,releaseStatesOfProgram:F,initAttributes:A,enableAttribute:E,disableUnusedAttributes:R}}function YH(i,t,e){let n;function a(p){n=p}function s(p,m){i.drawArrays(n,p,m),e.update(m,n,1)}function o(p,m,v){v!==0&&(i.drawArraysInstanced(n,p,m,v),e.update(m,n,v))}function u(p,m,v){if(v===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,p,0,m,0,v);let x=0;for(let T=0;T<v;T++)x+=m[T];e.update(x,n,1)}function h(p,m,v,_){if(v===0)return;const x=t.get("WEBGL_multi_draw");if(x===null)for(let T=0;T<p.length;T++)o(p[T],m[T],_[T]);else{x.multiDrawArraysInstancedWEBGL(n,p,0,m,0,_,0,v);let T=0;for(let A=0;A<v;A++)T+=m[A]*_[A];e.update(T,n,1)}}this.setMode=a,this.render=s,this.renderInstances=o,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function jH(i,t,e,n){let a;function s(){if(a!==void 0)return a;if(t.has("EXT_texture_filter_anisotropic")===!0){const F=t.get("EXT_texture_filter_anisotropic");a=i.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function o(F){return!(F!==Za&&n.convert(F)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(F){const V=F===ym&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(F!==no&&n.convert(F)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==Ys&&!V)}function h(F){if(F==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=e.precision!==void 0?e.precision:"highp";const m=h(p);m!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const v=e.logarithmicDepthBuffer===!0,_=e.reversedDepthBuffer===!0&&t.has("EXT_clip_control"),x=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),T=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=i.getParameter(i.MAX_TEXTURE_SIZE),E=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),b=i.getParameter(i.MAX_VERTEX_ATTRIBS),R=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),D=i.getParameter(i.MAX_VARYING_VECTORS),N=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),U=T>0,P=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:h,textureFormatReadable:o,textureTypeReadable:u,precision:p,logarithmicDepthBuffer:v,reversedDepthBuffer:_,maxTextures:x,maxVertexTextures:T,maxTextureSize:A,maxCubemapSize:E,maxAttributes:b,maxVertexUniforms:R,maxVaryings:D,maxFragmentUniforms:N,vertexTextures:U,maxSamples:P}}function WH(i){const t=this;let e=null,n=0,a=!1,s=!1;const o=new Hc,u=new Je,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(v,_){const x=v.length!==0||_||n!==0||a;return a=_,n=v.length,x},this.beginShadows=function(){s=!0,m(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(v,_){e=m(v,_,0)},this.setState=function(v,_,x){const T=v.clippingPlanes,A=v.clipIntersection,E=v.clipShadows,b=i.get(v);if(!a||T===null||T.length===0||s&&!E)s?m(null):p();else{const R=s?0:n,D=R*4;let N=b.clippingState||null;h.value=N,N=m(T,_,D,x);for(let U=0;U!==D;++U)N[U]=e[U];b.clippingState=N,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=R}};function p(){h.value!==e&&(h.value=e,h.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function m(v,_,x,T){const A=v!==null?v.length:0;let E=null;if(A!==0){if(E=h.value,T!==!0||E===null){const b=x+A*4,R=_.matrixWorldInverse;u.getNormalMatrix(R),(E===null||E.length<b)&&(E=new Float32Array(b));for(let D=0,N=x;D!==A;++D,N+=4)o.copy(v[D]).applyMatrix4(R,u),o.normal.toArray(E,N),E[N+3]=o.constant}h.value=E,h.needsUpdate=!0}return t.numPlanes=A,t.numIntersection=0,E}}function ZH(i){let t=new WeakMap;function e(o,u){return u===U0?o.mapping=Ru:u===L0&&(o.mapping=Kc),o}function n(o){if(o&&o.isTexture){const u=o.mapping;if(u===U0||u===L0)if(t.has(o)){const h=t.get(o).texture;return e(h,o.mapping)}else{const h=o.image;if(h&&h.height>0){const p=new $N(h.height);return p.fromEquirectangularTexture(i,o),t.set(o,p),o.addEventListener("dispose",a),e(p.texture,o.mapping)}else return null}}return o}function a(o){const u=o.target;u.removeEventListener("dispose",a);const h=t.get(u);h!==void 0&&(t.delete(u),h.dispose())}function s(){t=new WeakMap}return{get:n,dispose:s}}const Up=4,HC=[.125,.215,.35,.446,.526,.582],Ah=20,aM=new Mv,GC=new pe;let sM=null,rM=0,oM=0,lM=!1;const Mh=(1+Math.sqrt(5))/2,Mp=1/Mh,kC=[new K(-Mh,Mp,0),new K(Mh,Mp,0),new K(-Mp,0,Mh),new K(Mp,0,Mh),new K(0,Mh,-Mp),new K(0,Mh,Mp),new K(-1,1,-1),new K(1,1,-1),new K(-1,1,1),new K(1,1,1)],KH=new K;class yT{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,a=100,s={}){const{size:o=256,position:u=KH}=s;sM=this._renderer.getRenderTarget(),rM=this._renderer.getActiveCubeFace(),oM=this._renderer.getActiveMipmapLevel(),lM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(t,n,a,h,u),e>0&&this._blur(h,0,0,e),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=YC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=qC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(sM,rM,oM),this._renderer.xr.enabled=lM,t.scissorTest=!1,Q_(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Ru||t.mapping===Kc?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),sM=this._renderer.getRenderTarget(),rM=this._renderer.getActiveCubeFace(),oM=this._renderer.getActiveMipmapLevel(),lM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:la,minFilter:la,generateMipmaps:!1,type:ym,format:Za,colorSpace:Qc,depthBuffer:!1},a=XC(t,e,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=XC(t,e,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=QH(s)),this._blurMaterial=JH(s,t,e)}return a}_compileMaterial(t){const e=new Zi(this._lodPlanes[0],t);this._renderer.compile(e,aM)}_sceneToCubeUV(t,e,n,a,s){const h=new _a(90,1,e,n),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],v=this._renderer,_=v.autoClear,x=v.toneMapping;v.getClearColor(GC),v.toneMapping=Nl,v.autoClear=!1,v.state.buffers.depth.getReversed()&&(v.setRenderTarget(a),v.clearDepth(),v.setRenderTarget(null));const A=new lf({name:"PMREM.Background",side:Es,depthWrite:!1,depthTest:!1}),E=new Zi(new Jh,A);let b=!1;const R=t.background;R?R.isColor&&(A.color.copy(R),t.background=null,b=!0):(A.color.copy(GC),b=!0);for(let D=0;D<6;D++){const N=D%3;N===0?(h.up.set(0,p[D],0),h.position.set(s.x,s.y,s.z),h.lookAt(s.x+m[D],s.y,s.z)):N===1?(h.up.set(0,0,p[D]),h.position.set(s.x,s.y,s.z),h.lookAt(s.x,s.y+m[D],s.z)):(h.up.set(0,p[D],0),h.position.set(s.x,s.y,s.z),h.lookAt(s.x,s.y,s.z+m[D]));const U=this._cubeSize;Q_(a,N*U,D>2?U:0,U,U),v.setRenderTarget(a),b&&v.render(E,h),v.render(t,h)}E.geometry.dispose(),E.material.dispose(),v.toneMapping=x,v.autoClear=_,t.background=R}_textureToCubeUV(t,e){const n=this._renderer,a=t.mapping===Ru||t.mapping===Kc;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=YC()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=qC());const s=a?this._cubemapMaterial:this._equirectMaterial,o=new Zi(this._lodPlanes[0],s),u=s.uniforms;u.envMap.value=t;const h=this._cubeSize;Q_(e,0,0,3*h,2*h),n.setRenderTarget(e),n.render(o,aM)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;const a=this._lodPlanes.length;for(let s=1;s<a;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),u=kC[(a-s-1)%kC.length];this._blur(t,s-1,s,o,u)}e.autoClear=n}_blur(t,e,n,a,s){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,n,a,"latitudinal",s),this._halfBlur(o,t,n,n,a,"longitudinal",s)}_halfBlur(t,e,n,a,s,o,u){const h=this._renderer,p=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new Zi(this._lodPlanes[a],p),_=p.uniforms,x=this._sizeLods[n]-1,T=isFinite(s)?Math.PI/(2*x):2*Math.PI/(2*Ah-1),A=s/T,E=isFinite(s)?1+Math.floor(m*A):Ah;E>Ah&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${Ah}`);const b=[];let R=0;for(let F=0;F<Ah;++F){const V=F/A,L=Math.exp(-V*V/2);b.push(L),F===0?R+=L:F<E&&(R+=2*L)}for(let F=0;F<b.length;F++)b[F]=b[F]/R;_.envMap.value=t.texture,_.samples.value=E,_.weights.value=b,_.latitudinal.value=o==="latitudinal",u&&(_.poleAxis.value=u);const{_lodMax:D}=this;_.dTheta.value=T,_.mipInt.value=D-n;const N=this._sizeLods[a],U=3*N*(a>D-Up?a-D+Up:0),P=4*(this._cubeSize-N);Q_(e,U,P,3*N,2*N),h.setRenderTarget(e),h.render(v,aM)}}function QH(i){const t=[],e=[],n=[];let a=i;const s=i-Up+1+HC.length;for(let o=0;o<s;o++){const u=Math.pow(2,a);e.push(u);let h=1/u;o>i-Up?h=HC[o-i+Up-1]:o===0&&(h=0),n.push(h);const p=1/(u-2),m=-p,v=1+p,_=[m,m,v,m,v,v,m,m,v,v,m,v],x=6,T=6,A=3,E=2,b=1,R=new Float32Array(A*T*x),D=new Float32Array(E*T*x),N=new Float32Array(b*T*x);for(let P=0;P<x;P++){const F=P%3*2/3-1,V=P>2?0:-1,L=[F,V,0,F+2/3,V,0,F+2/3,V+1,0,F,V,0,F+2/3,V+1,0,F,V+1,0];R.set(L,A*T*P),D.set(_,E*T*P);const B=[P,P,P,P,P,P];N.set(B,b*T*P)}const U=new en;U.setAttribute("position",new qn(R,A)),U.setAttribute("uv",new qn(D,E)),U.setAttribute("faceIndex",new qn(N,b)),t.push(U),a>Up&&a--}return{lodPlanes:t,sizeLods:e,sigmas:n}}function XC(i,t,e){const n=new zl(i,t,e);return n.texture.mapping=vm,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Q_(i,t,e,n,a){i.viewport.set(t,e,n,a),i.scissor.set(t,e,n,a)}function JH(i,t,e){const n=new Float32Array(Ah),a=new K(0,1,0);return new Io({name:"SphericalGaussianBlur",defines:{n:Ah,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:_A(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function qC(){return new Io({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_A(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function YC(){return new Io({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_A(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function _A(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $H(i){let t=new WeakMap,e=null;function n(u){if(u&&u.isTexture){const h=u.mapping,p=h===U0||h===L0,m=h===Ru||h===Kc;if(p||m){let v=t.get(u);const _=v!==void 0?v.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==_)return e===null&&(e=new yT(i)),v=p?e.fromEquirectangular(u,v):e.fromCubemap(u,v),v.texture.pmremVersion=u.pmremVersion,t.set(u,v),v.texture;if(v!==void 0)return v.texture;{const x=u.image;return p&&x&&x.height>0||m&&x&&a(x)?(e===null&&(e=new yT(i)),v=p?e.fromEquirectangular(u):e.fromCubemap(u),v.texture.pmremVersion=u.pmremVersion,t.set(u,v),u.addEventListener("dispose",s),v.texture):null}}}return u}function a(u){let h=0;const p=6;for(let m=0;m<p;m++)u[m]!==void 0&&h++;return h===p}function s(u){const h=u.target;h.removeEventListener("dispose",s);const p=t.get(h);p!==void 0&&(t.delete(h),p.dispose())}function o(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:n,dispose:o}}function t7(i){const t={};function e(n){if(t[n]!==void 0)return t[n];let a;switch(n){case"WEBGL_depth_texture":a=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=i.getExtension(n)}return t[n]=a,a}return{has:function(n){return e(n)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(n){const a=e(n);return a===null&&G0("THREE.WebGLRenderer: "+n+" extension not supported."),a}}}function e7(i,t,e,n){const a={},s=new WeakMap;function o(v){const _=v.target;_.index!==null&&t.remove(_.index);for(const T in _.attributes)t.remove(_.attributes[T]);_.removeEventListener("dispose",o),delete a[_.id];const x=s.get(_);x&&(t.remove(x),s.delete(_)),n.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,e.memory.geometries--}function u(v,_){return a[_.id]===!0||(_.addEventListener("dispose",o),a[_.id]=!0,e.memory.geometries++),_}function h(v){const _=v.attributes;for(const x in _)t.update(_[x],i.ARRAY_BUFFER)}function p(v){const _=[],x=v.index,T=v.attributes.position;let A=0;if(x!==null){const R=x.array;A=x.version;for(let D=0,N=R.length;D<N;D+=3){const U=R[D+0],P=R[D+1],F=R[D+2];_.push(U,P,P,F,F,U)}}else if(T!==void 0){const R=T.array;A=T.version;for(let D=0,N=R.length/3-1;D<N;D+=3){const U=D+0,P=D+1,F=D+2;_.push(U,P,P,F,F,U)}}else return;const E=new(YN(_)?YE:qE)(_,1);E.version=A;const b=s.get(v);b&&t.remove(b),s.set(v,E)}function m(v){const _=s.get(v);if(_){const x=v.index;x!==null&&_.version<x.version&&p(v)}else p(v);return s.get(v)}return{get:u,update:h,getWireframeAttribute:m}}function n7(i,t,e){let n;function a(_){n=_}let s,o;function u(_){s=_.type,o=_.bytesPerElement}function h(_,x){i.drawElements(n,x,s,_*o),e.update(x,n,1)}function p(_,x,T){T!==0&&(i.drawElementsInstanced(n,x,s,_*o,T),e.update(x,n,T))}function m(_,x,T){if(T===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,x,0,s,_,0,T);let E=0;for(let b=0;b<T;b++)E+=x[b];e.update(E,n,1)}function v(_,x,T,A){if(T===0)return;const E=t.get("WEBGL_multi_draw");if(E===null)for(let b=0;b<_.length;b++)p(_[b]/o,x[b],A[b]);else{E.multiDrawElementsInstancedWEBGL(n,x,0,s,_,0,A,0,T);let b=0;for(let R=0;R<T;R++)b+=x[R]*A[R];e.update(b,n,1)}}this.setMode=a,this.setIndex=u,this.render=h,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=v}function i7(i){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,o,u){switch(e.calls++,o){case i.TRIANGLES:e.triangles+=u*(s/3);break;case i.LINES:e.lines+=u*(s/2);break;case i.LINE_STRIP:e.lines+=u*(s-1);break;case i.LINE_LOOP:e.lines+=u*s;break;case i.POINTS:e.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function a(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:a,update:n}}function a7(i,t,e){const n=new WeakMap,a=new Tn;function s(o,u,h){const p=o.morphTargetInfluences,m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=m!==void 0?m.length:0;let _=n.get(u);if(_===void 0||_.count!==v){let B=function(){V.dispose(),n.delete(u),u.removeEventListener("dispose",B)};var x=B;_!==void 0&&_.texture.dispose();const T=u.morphAttributes.position!==void 0,A=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,b=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],D=u.morphAttributes.color||[];let N=0;T===!0&&(N=1),A===!0&&(N=2),E===!0&&(N=3);let U=u.attributes.position.count*N,P=1;U>t.maxTextureSize&&(P=Math.ceil(U/t.maxTextureSize),U=t.maxTextureSize);const F=new Float32Array(U*P*4*v),V=new Y1(F,U,P,v);V.type=Ys,V.needsUpdate=!0;const L=N*4;for(let W=0;W<v;W++){const $=b[W],it=R[W],ct=D[W],ut=U*P*4*W;for(let z=0;z<$.count;z++){const q=z*L;T===!0&&(a.fromBufferAttribute($,z),F[ut+q+0]=a.x,F[ut+q+1]=a.y,F[ut+q+2]=a.z,F[ut+q+3]=0),A===!0&&(a.fromBufferAttribute(it,z),F[ut+q+4]=a.x,F[ut+q+5]=a.y,F[ut+q+6]=a.z,F[ut+q+7]=0),E===!0&&(a.fromBufferAttribute(ct,z),F[ut+q+8]=a.x,F[ut+q+9]=a.y,F[ut+q+10]=a.z,F[ut+q+11]=ct.itemSize===4?a.w:1)}}_={count:v,texture:V,size:new Ht(U,P)},n.set(u,_),u.addEventListener("dispose",B)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)h.getUniforms().setValue(i,"morphTexture",o.morphTexture,e);else{let T=0;for(let E=0;E<p.length;E++)T+=p[E];const A=u.morphTargetsRelative?1:1-T;h.getUniforms().setValue(i,"morphTargetBaseInfluence",A),h.getUniforms().setValue(i,"morphTargetInfluences",p)}h.getUniforms().setValue(i,"morphTargetsTexture",_.texture,e),h.getUniforms().setValue(i,"morphTargetsTextureSize",_.size)}return{update:s}}function s7(i,t,e,n){let a=new WeakMap;function s(h){const p=n.render.frame,m=h.geometry,v=t.get(h,m);if(a.get(v)!==p&&(t.update(v),a.set(v,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),a.get(h)!==p&&(e.update(h.instanceMatrix,i.ARRAY_BUFFER),h.instanceColor!==null&&e.update(h.instanceColor,i.ARRAY_BUFFER),a.set(h,p))),h.isSkinnedMesh){const _=h.skeleton;a.get(_)!==p&&(_.update(),a.set(_,p))}return v}function o(){a=new WeakMap}function u(h){const p=h.target;p.removeEventListener("dispose",u),e.remove(p.instanceMatrix),p.instanceColor!==null&&e.remove(p.instanceColor)}return{update:s,dispose:o}}const $O=new Ri,jC=new QE(1,1),tU=new Y1,eU=new j1,nU=new gv,WC=[],ZC=[],KC=new Float32Array(16),QC=new Float32Array(9),JC=new Float32Array(4);function bm(i,t,e){const n=i[0];if(n<=0||n>0)return i;const a=t*e;let s=WC[a];if(s===void 0&&(s=new Float32Array(a),WC[a]=s),t!==0){n.toArray(s,0);for(let o=1,u=0;o!==t;++o)u+=e,i[o].toArray(s,u)}return s}function ca(i,t){if(i.length!==t.length)return!1;for(let e=0,n=i.length;e<n;e++)if(i[e]!==t[e])return!1;return!0}function fa(i,t){for(let e=0,n=t.length;e<n;e++)i[e]=t[e]}function mS(i,t){let e=ZC[t];e===void 0&&(e=new Int32Array(t),ZC[t]=e);for(let n=0;n!==t;++n)e[n]=i.allocateTextureUnit();return e}function r7(i,t){const e=this.cache;e[0]!==t&&(i.uniform1f(this.addr,t),e[0]=t)}function o7(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(ca(e,t))return;i.uniform2fv(this.addr,t),fa(e,t)}}function l7(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(i.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(ca(e,t))return;i.uniform3fv(this.addr,t),fa(e,t)}}function u7(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(ca(e,t))return;i.uniform4fv(this.addr,t),fa(e,t)}}function c7(i,t){const e=this.cache,n=t.elements;if(n===void 0){if(ca(e,t))return;i.uniformMatrix2fv(this.addr,!1,t),fa(e,t)}else{if(ca(e,n))return;JC.set(n),i.uniformMatrix2fv(this.addr,!1,JC),fa(e,n)}}function f7(i,t){const e=this.cache,n=t.elements;if(n===void 0){if(ca(e,t))return;i.uniformMatrix3fv(this.addr,!1,t),fa(e,t)}else{if(ca(e,n))return;QC.set(n),i.uniformMatrix3fv(this.addr,!1,QC),fa(e,n)}}function h7(i,t){const e=this.cache,n=t.elements;if(n===void 0){if(ca(e,t))return;i.uniformMatrix4fv(this.addr,!1,t),fa(e,t)}else{if(ca(e,n))return;KC.set(n),i.uniformMatrix4fv(this.addr,!1,KC),fa(e,n)}}function d7(i,t){const e=this.cache;e[0]!==t&&(i.uniform1i(this.addr,t),e[0]=t)}function p7(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(ca(e,t))return;i.uniform2iv(this.addr,t),fa(e,t)}}function m7(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(ca(e,t))return;i.uniform3iv(this.addr,t),fa(e,t)}}function g7(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(ca(e,t))return;i.uniform4iv(this.addr,t),fa(e,t)}}function v7(i,t){const e=this.cache;e[0]!==t&&(i.uniform1ui(this.addr,t),e[0]=t)}function y7(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(ca(e,t))return;i.uniform2uiv(this.addr,t),fa(e,t)}}function _7(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(ca(e,t))return;i.uniform3uiv(this.addr,t),fa(e,t)}}function x7(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(ca(e,t))return;i.uniform4uiv(this.addr,t),fa(e,t)}}function S7(i,t,e){const n=this.cache,a=e.allocateTextureUnit();n[0]!==a&&(i.uniform1i(this.addr,a),n[0]=a);let s;this.type===i.SAMPLER_2D_SHADOW?(jC.compareFunction=GE,s=jC):s=$O,e.setTexture2D(t||s,a)}function b7(i,t,e){const n=this.cache,a=e.allocateTextureUnit();n[0]!==a&&(i.uniform1i(this.addr,a),n[0]=a),e.setTexture3D(t||eU,a)}function M7(i,t,e){const n=this.cache,a=e.allocateTextureUnit();n[0]!==a&&(i.uniform1i(this.addr,a),n[0]=a),e.setTextureCube(t||nU,a)}function T7(i,t,e){const n=this.cache,a=e.allocateTextureUnit();n[0]!==a&&(i.uniform1i(this.addr,a),n[0]=a),e.setTexture2DArray(t||tU,a)}function E7(i){switch(i){case 5126:return r7;case 35664:return o7;case 35665:return l7;case 35666:return u7;case 35674:return c7;case 35675:return f7;case 35676:return h7;case 5124:case 35670:return d7;case 35667:case 35671:return p7;case 35668:case 35672:return m7;case 35669:case 35673:return g7;case 5125:return v7;case 36294:return y7;case 36295:return _7;case 36296:return x7;case 35678:case 36198:case 36298:case 36306:case 35682:return S7;case 35679:case 36299:case 36307:return b7;case 35680:case 36300:case 36308:case 36293:return M7;case 36289:case 36303:case 36311:case 36292:return T7}}function A7(i,t){i.uniform1fv(this.addr,t)}function w7(i,t){const e=bm(t,this.size,2);i.uniform2fv(this.addr,e)}function C7(i,t){const e=bm(t,this.size,3);i.uniform3fv(this.addr,e)}function R7(i,t){const e=bm(t,this.size,4);i.uniform4fv(this.addr,e)}function D7(i,t){const e=bm(t,this.size,4);i.uniformMatrix2fv(this.addr,!1,e)}function N7(i,t){const e=bm(t,this.size,9);i.uniformMatrix3fv(this.addr,!1,e)}function O7(i,t){const e=bm(t,this.size,16);i.uniformMatrix4fv(this.addr,!1,e)}function U7(i,t){i.uniform1iv(this.addr,t)}function L7(i,t){i.uniform2iv(this.addr,t)}function P7(i,t){i.uniform3iv(this.addr,t)}function z7(i,t){i.uniform4iv(this.addr,t)}function B7(i,t){i.uniform1uiv(this.addr,t)}function I7(i,t){i.uniform2uiv(this.addr,t)}function F7(i,t){i.uniform3uiv(this.addr,t)}function V7(i,t){i.uniform4uiv(this.addr,t)}function H7(i,t,e){const n=this.cache,a=t.length,s=mS(e,a);ca(n,s)||(i.uniform1iv(this.addr,s),fa(n,s));for(let o=0;o!==a;++o)e.setTexture2D(t[o]||$O,s[o])}function G7(i,t,e){const n=this.cache,a=t.length,s=mS(e,a);ca(n,s)||(i.uniform1iv(this.addr,s),fa(n,s));for(let o=0;o!==a;++o)e.setTexture3D(t[o]||eU,s[o])}function k7(i,t,e){const n=this.cache,a=t.length,s=mS(e,a);ca(n,s)||(i.uniform1iv(this.addr,s),fa(n,s));for(let o=0;o!==a;++o)e.setTextureCube(t[o]||nU,s[o])}function X7(i,t,e){const n=this.cache,a=t.length,s=mS(e,a);ca(n,s)||(i.uniform1iv(this.addr,s),fa(n,s));for(let o=0;o!==a;++o)e.setTexture2DArray(t[o]||tU,s[o])}function q7(i){switch(i){case 5126:return A7;case 35664:return w7;case 35665:return C7;case 35666:return R7;case 35674:return D7;case 35675:return N7;case 35676:return O7;case 5124:case 35670:return U7;case 35667:case 35671:return L7;case 35668:case 35672:return P7;case 35669:case 35673:return z7;case 5125:return B7;case 36294:return I7;case 36295:return F7;case 36296:return V7;case 35678:case 36198:case 36298:case 36306:case 35682:return H7;case 35679:case 36299:case 36307:return G7;case 35680:case 36300:case 36308:case 36293:return k7;case 36289:case 36303:case 36311:case 36292:return X7}}class Y7{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.setValue=E7(e.type)}}class j7{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=q7(e.type)}}class W7{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const a=this.seq;for(let s=0,o=a.length;s!==o;++s){const u=a[s];u.setValue(t,e[u.id],n)}}}const uM=/(\w+)(\])?(\[|\.)?/g;function $C(i,t){i.seq.push(t),i.map[t.id]=t}function Z7(i,t,e){const n=i.name,a=n.length;for(uM.lastIndex=0;;){const s=uM.exec(n),o=uM.lastIndex;let u=s[1];const h=s[2]==="]",p=s[3];if(h&&(u=u|0),p===void 0||p==="["&&o+2===a){$C(e,p===void 0?new Y7(u,i,t):new j7(u,i,t));break}else{let v=e.map[u];v===void 0&&(v=new W7(u),$C(e,v)),e=v}}}class dx{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let a=0;a<n;++a){const s=t.getActiveUniform(e,a),o=t.getUniformLocation(e,s.name);Z7(s,o,this)}}setValue(t,e,n,a){const s=this.map[e];s!==void 0&&s.setValue(t,n,a)}setOptional(t,e,n){const a=e[n];a!==void 0&&this.setValue(t,n,a)}static upload(t,e,n,a){for(let s=0,o=e.length;s!==o;++s){const u=e[s],h=n[u.id];h.needsUpdate!==!1&&u.setValue(t,h.value,a)}}static seqWithValue(t,e){const n=[];for(let a=0,s=t.length;a!==s;++a){const o=t[a];o.id in e&&n.push(o)}return n}}function tR(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}const K7=37297;let Q7=0;function J7(i,t){const e=i.split(`
`),n=[],a=Math.max(t-6,0),s=Math.min(t+6,e.length);for(let o=a;o<s;o++){const u=o+1;n.push(`${u===t?">":" "} ${u}: ${e[o]}`)}return n.join(`
`)}const eR=new Je;function $7(i){_n._getMatrix(eR,_n.workingColorSpace,i);const t=`mat3( ${eR.elements.map(e=>e.toFixed(4))} )`;switch(_n.getTransfer(i)){case F0:return[t,"LinearTransferOETF"];case In:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[t,"LinearTransferOETF"]}}function nR(i,t,e){const n=i.getShaderParameter(t,i.COMPILE_STATUS),s=(i.getShaderInfoLog(t)||"").trim();if(n&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const u=parseInt(o[1]);return e.toUpperCase()+`

`+s+`

`+J7(i.getShaderSource(t),u)}else return s}function t9(i,t){const e=$7(t);return[`vec4 ${i}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function e9(i,t){let e;switch(t){case AN:e="Linear";break;case wN:e="Reinhard";break;case CN:e="Cineon";break;case OE:e="ACESFilmic";break;case DN:e="AgX";break;case NN:e="Neutral";break;case RN:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const J_=new K;function n9(){_n.getLuminanceCoefficients(J_);const i=J_.x.toFixed(4),t=J_.y.toFixed(4),e=J_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function i9(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(r0).join(`
`)}function a9(i){const t=[];for(const e in i){const n=i[e];n!==!1&&t.push("#define "+e+" "+n)}return t.join(`
`)}function s9(i,t){const e={},n=i.getProgramParameter(t,i.ACTIVE_ATTRIBUTES);for(let a=0;a<n;a++){const s=i.getActiveAttrib(t,a),o=s.name;let u=1;s.type===i.FLOAT_MAT2&&(u=2),s.type===i.FLOAT_MAT3&&(u=3),s.type===i.FLOAT_MAT4&&(u=4),e[o]={type:s.type,location:i.getAttribLocation(t,o),locationSize:u}}return e}function r0(i){return i!==""}function iR(i,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function aR(i,t){return i.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const r9=/^[ \t]*#include +<([\w\d./]+)>/gm;function _T(i){return i.replace(r9,l9)}const o9=new Map;function l9(i,t){let e=an[t];if(e===void 0){const n=o9.get(t);if(n!==void 0)e=an[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,n);else throw new Error("Can not resolve #include <"+t+">")}return _T(e)}const u9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function sR(i){return i.replace(u9,c9)}function c9(i,t,e,n){let a="";for(let s=parseInt(t);s<parseInt(e);s++)a+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return a}function rR(i){let t=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?t+=`
#define HIGH_PRECISION`:i.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function f9(i){let t="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===B1?t="SHADOWMAP_TYPE_PCF":i.shadowMapType===h0?t="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Lo&&(t="SHADOWMAP_TYPE_VSM"),t}function h9(i){let t="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Ru:case Kc:t="ENVMAP_TYPE_CUBE";break;case vm:t="ENVMAP_TYPE_CUBE_UV";break}return t}function d9(i){let t="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case Kc:t="ENVMAP_MODE_REFRACTION";break}return t}function p9(i){let t="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case pv:t="ENVMAP_BLENDING_MULTIPLY";break;case TN:t="ENVMAP_BLENDING_MIX";break;case EN:t="ENVMAP_BLENDING_ADD";break}return t}function m9(i){const t=i.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:n,maxMip:e}}function g9(i,t,e,n){const a=i.getContext(),s=e.defines;let o=e.vertexShader,u=e.fragmentShader;const h=f9(e),p=h9(e),m=d9(e),v=p9(e),_=m9(e),x=i9(e),T=a9(s),A=a.createProgram();let E,b,R=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(E=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T].filter(r0).join(`
`),E.length>0&&(E+=`
`),b=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T].filter(r0).join(`
`),b.length>0&&(b+=`
`)):(E=[rR(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+m:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",e.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(r0).join(`
`),b=[rR(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+p:"",e.envMap?"#define "+m:"",e.envMap?"#define "+v:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",e.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Nl?"#define TONE_MAPPING":"",e.toneMapping!==Nl?an.tonemapping_pars_fragment:"",e.toneMapping!==Nl?e9("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",an.colorspace_pars_fragment,t9("linearToOutputTexel",e.outputColorSpace),n9(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(r0).join(`
`)),o=_T(o),o=iR(o,e),o=aR(o,e),u=_T(u),u=iR(u,e),u=aR(u,e),o=sR(o),u=sR(u),e.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,E=[x,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,b=["#define varying in",e.glslVersion===cT?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===cT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const D=R+E+o,N=R+b+u,U=tR(a,a.VERTEX_SHADER,D),P=tR(a,a.FRAGMENT_SHADER,N);a.attachShader(A,U),a.attachShader(A,P),e.index0AttributeName!==void 0?a.bindAttribLocation(A,0,e.index0AttributeName):e.morphTargets===!0&&a.bindAttribLocation(A,0,"position"),a.linkProgram(A);function F(W){if(i.debug.checkShaderErrors){const $=a.getProgramInfoLog(A)||"",it=a.getShaderInfoLog(U)||"",ct=a.getShaderInfoLog(P)||"",ut=$.trim(),z=it.trim(),q=ct.trim();let j=!0,rt=!0;if(a.getProgramParameter(A,a.LINK_STATUS)===!1)if(j=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(a,A,U,P);else{const k=nR(a,U,"vertex"),nt=nR(a,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(A,a.VALIDATE_STATUS)+`

Material Name: `+W.name+`
Material Type: `+W.type+`

Program Info Log: `+ut+`
`+k+`
`+nt)}else ut!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ut):(z===""||q==="")&&(rt=!1);rt&&(W.diagnostics={runnable:j,programLog:ut,vertexShader:{log:z,prefix:E},fragmentShader:{log:q,prefix:b}})}a.deleteShader(U),a.deleteShader(P),V=new dx(a,A),L=s9(a,A)}let V;this.getUniforms=function(){return V===void 0&&F(this),V};let L;this.getAttributes=function(){return L===void 0&&F(this),L};let B=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=a.getProgramParameter(A,K7)),B},this.destroy=function(){n.releaseStatesOfProgram(this),a.deleteProgram(A),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=Q7++,this.cacheKey=t,this.usedTimes=1,this.program=A,this.vertexShader=U,this.fragmentShader=P,this}let v9=0;class y9{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,a=this._getShaderStage(e),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(t);return o.has(a)===!1&&(o.add(a),a.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let n=e.get(t);return n===void 0&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){const e=this.shaderCache;let n=e.get(t);return n===void 0&&(n=new _9(t),e.set(t,n)),n}}class _9{constructor(t){this.id=v9++,this.code=t,this.usedTimes=0}}function x9(i,t,e,n,a,s,o){const u=new em,h=new y9,p=new Set,m=[],v=a.logarithmicDepthBuffer,_=a.vertexTextures;let x=a.precision;const T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(L){return p.add(L),L===0?"uv":`uv${L}`}function E(L,B,W,$,it){const ct=$.fog,ut=it.geometry,z=L.isMeshStandardMaterial?$.environment:null,q=(L.isMeshStandardMaterial?e:t).get(L.envMap||z),j=q&&q.mapping===vm?q.image.height:null,rt=T[L.type];L.precision!==null&&(x=a.getMaxPrecision(L.precision),x!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",x,"instead."));const k=ut.morphAttributes.position||ut.morphAttributes.normal||ut.morphAttributes.color,nt=k!==void 0?k.length:0;let _t=0;ut.morphAttributes.position!==void 0&&(_t=1),ut.morphAttributes.normal!==void 0&&(_t=2),ut.morphAttributes.color!==void 0&&(_t=3);let wt,Rt,qt,mt;if(rt){const ln=Po[rt];wt=ln.vertexShader,Rt=ln.fragmentShader}else wt=L.vertexShader,Rt=L.fragmentShader,h.update(L),qt=h.getVertexShaderID(L),mt=h.getFragmentShaderID(L);const Nt=i.getRenderTarget(),kt=i.state.buffers.depth.getReversed(),he=it.isInstancedMesh===!0,ce=it.isBatchedMesh===!0,Xe=!!L.map,hn=!!L.matcap,Q=!!q,Vt=!!L.aoMap,Bt=!!L.lightMap,Pt=!!L.bumpMap,Dt=!!L.normalMap,ne=!!L.displacementMap,Xt=!!L.emissiveMap,Wt=!!L.metalnessMap,we=!!L.roughnessMap,ze=L.anisotropy>0,Z=L.clearcoat>0,H=L.dispersion>0,pt=L.iridescence>0,At=L.sheen>0,Lt=L.transmission>0,Ct=ze&&!!L.anisotropyMap,re=Z&&!!L.clearcoatMap,$t=Z&&!!L.clearcoatNormalMap,me=Z&&!!L.clearcoatRoughnessMap,ge=pt&&!!L.iridescenceMap,Gt=pt&&!!L.iridescenceThicknessMap,ie=At&&!!L.sheenColorMap,be=At&&!!L.sheenRoughnessMap,ve=!!L.specularMap,ae=!!L.specularColorMap,Be=!!L.specularIntensityMap,ot=Lt&&!!L.transmissionMap,Zt=Lt&&!!L.thicknessMap,te=!!L.gradientMap,fe=!!L.alphaMap,Yt=L.alphaTest>0,It=!!L.alphaHash,ye=!!L.extensions;let Oe=Nl;L.toneMapped&&(Nt===null||Nt.isXRRenderTarget===!0)&&(Oe=i.toneMapping);const dn={shaderID:rt,shaderType:L.type,shaderName:L.name,vertexShader:wt,fragmentShader:Rt,defines:L.defines,customVertexShaderID:qt,customFragmentShaderID:mt,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:x,batching:ce,batchingColor:ce&&it._colorsTexture!==null,instancing:he,instancingColor:he&&it.instanceColor!==null,instancingMorph:he&&it.morphTexture!==null,supportsVertexTextures:_,outputColorSpace:Nt===null?i.outputColorSpace:Nt.isXRRenderTarget===!0?Nt.texture.colorSpace:Qc,alphaToCoverage:!!L.alphaToCoverage,map:Xe,matcap:hn,envMap:Q,envMapMode:Q&&q.mapping,envMapCubeUVHeight:j,aoMap:Vt,lightMap:Bt,bumpMap:Pt,normalMap:Dt,displacementMap:_&&ne,emissiveMap:Xt,normalMapObjectSpace:Dt&&L.normalMapType===IN,normalMapTangentSpace:Dt&&L.normalMapType===of,metalnessMap:Wt,roughnessMap:we,anisotropy:ze,anisotropyMap:Ct,clearcoat:Z,clearcoatMap:re,clearcoatNormalMap:$t,clearcoatRoughnessMap:me,dispersion:H,iridescence:pt,iridescenceMap:ge,iridescenceThicknessMap:Gt,sheen:At,sheenColorMap:ie,sheenRoughnessMap:be,specularMap:ve,specularColorMap:ae,specularIntensityMap:Be,transmission:Lt,transmissionMap:ot,thicknessMap:Zt,gradientMap:te,opaque:L.transparent===!1&&L.blending===Ph&&L.alphaToCoverage===!1,alphaMap:fe,alphaTest:Yt,alphaHash:It,combine:L.combine,mapUv:Xe&&A(L.map.channel),aoMapUv:Vt&&A(L.aoMap.channel),lightMapUv:Bt&&A(L.lightMap.channel),bumpMapUv:Pt&&A(L.bumpMap.channel),normalMapUv:Dt&&A(L.normalMap.channel),displacementMapUv:ne&&A(L.displacementMap.channel),emissiveMapUv:Xt&&A(L.emissiveMap.channel),metalnessMapUv:Wt&&A(L.metalnessMap.channel),roughnessMapUv:we&&A(L.roughnessMap.channel),anisotropyMapUv:Ct&&A(L.anisotropyMap.channel),clearcoatMapUv:re&&A(L.clearcoatMap.channel),clearcoatNormalMapUv:$t&&A(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:me&&A(L.clearcoatRoughnessMap.channel),iridescenceMapUv:ge&&A(L.iridescenceMap.channel),iridescenceThicknessMapUv:Gt&&A(L.iridescenceThicknessMap.channel),sheenColorMapUv:ie&&A(L.sheenColorMap.channel),sheenRoughnessMapUv:be&&A(L.sheenRoughnessMap.channel),specularMapUv:ve&&A(L.specularMap.channel),specularColorMapUv:ae&&A(L.specularColorMap.channel),specularIntensityMapUv:Be&&A(L.specularIntensityMap.channel),transmissionMapUv:ot&&A(L.transmissionMap.channel),thicknessMapUv:Zt&&A(L.thicknessMap.channel),alphaMapUv:fe&&A(L.alphaMap.channel),vertexTangents:!!ut.attributes.tangent&&(Dt||ze),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!ut.attributes.color&&ut.attributes.color.itemSize===4,pointsUvs:it.isPoints===!0&&!!ut.attributes.uv&&(Xe||fe),fog:!!ct,useFog:L.fog===!0,fogExp2:!!ct&&ct.isFogExp2,flatShading:L.flatShading===!0&&L.wireframe===!1,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:v,reversedDepthBuffer:kt,skinning:it.isSkinnedMesh===!0,morphTargets:ut.morphAttributes.position!==void 0,morphNormals:ut.morphAttributes.normal!==void 0,morphColors:ut.morphAttributes.color!==void 0,morphTargetsCount:nt,morphTextureStride:_t,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:i.shadowMap.enabled&&W.length>0,shadowMapType:i.shadowMap.type,toneMapping:Oe,decodeVideoTexture:Xe&&L.map.isVideoTexture===!0&&_n.getTransfer(L.map.colorSpace)===In,decodeVideoTextureEmissive:Xt&&L.emissiveMap.isVideoTexture===!0&&_n.getTransfer(L.emissiveMap.colorSpace)===In,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===El,flipSided:L.side===Es,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:ye&&L.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ye&&L.extensions.multiDraw===!0||ce)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return dn.vertexUv1s=p.has(1),dn.vertexUv2s=p.has(2),dn.vertexUv3s=p.has(3),p.clear(),dn}function b(L){const B=[];if(L.shaderID?B.push(L.shaderID):(B.push(L.customVertexShaderID),B.push(L.customFragmentShaderID)),L.defines!==void 0)for(const W in L.defines)B.push(W),B.push(L.defines[W]);return L.isRawShaderMaterial===!1&&(R(B,L),D(B,L),B.push(i.outputColorSpace)),B.push(L.customProgramCacheKey),B.join()}function R(L,B){L.push(B.precision),L.push(B.outputColorSpace),L.push(B.envMapMode),L.push(B.envMapCubeUVHeight),L.push(B.mapUv),L.push(B.alphaMapUv),L.push(B.lightMapUv),L.push(B.aoMapUv),L.push(B.bumpMapUv),L.push(B.normalMapUv),L.push(B.displacementMapUv),L.push(B.emissiveMapUv),L.push(B.metalnessMapUv),L.push(B.roughnessMapUv),L.push(B.anisotropyMapUv),L.push(B.clearcoatMapUv),L.push(B.clearcoatNormalMapUv),L.push(B.clearcoatRoughnessMapUv),L.push(B.iridescenceMapUv),L.push(B.iridescenceThicknessMapUv),L.push(B.sheenColorMapUv),L.push(B.sheenRoughnessMapUv),L.push(B.specularMapUv),L.push(B.specularColorMapUv),L.push(B.specularIntensityMapUv),L.push(B.transmissionMapUv),L.push(B.thicknessMapUv),L.push(B.combine),L.push(B.fogExp2),L.push(B.sizeAttenuation),L.push(B.morphTargetsCount),L.push(B.morphAttributeCount),L.push(B.numDirLights),L.push(B.numPointLights),L.push(B.numSpotLights),L.push(B.numSpotLightMaps),L.push(B.numHemiLights),L.push(B.numRectAreaLights),L.push(B.numDirLightShadows),L.push(B.numPointLightShadows),L.push(B.numSpotLightShadows),L.push(B.numSpotLightShadowsWithMaps),L.push(B.numLightProbes),L.push(B.shadowMapType),L.push(B.toneMapping),L.push(B.numClippingPlanes),L.push(B.numClipIntersection),L.push(B.depthPacking)}function D(L,B){u.disableAll(),B.supportsVertexTextures&&u.enable(0),B.instancing&&u.enable(1),B.instancingColor&&u.enable(2),B.instancingMorph&&u.enable(3),B.matcap&&u.enable(4),B.envMap&&u.enable(5),B.normalMapObjectSpace&&u.enable(6),B.normalMapTangentSpace&&u.enable(7),B.clearcoat&&u.enable(8),B.iridescence&&u.enable(9),B.alphaTest&&u.enable(10),B.vertexColors&&u.enable(11),B.vertexAlphas&&u.enable(12),B.vertexUv1s&&u.enable(13),B.vertexUv2s&&u.enable(14),B.vertexUv3s&&u.enable(15),B.vertexTangents&&u.enable(16),B.anisotropy&&u.enable(17),B.alphaHash&&u.enable(18),B.batching&&u.enable(19),B.dispersion&&u.enable(20),B.batchingColor&&u.enable(21),B.gradientMap&&u.enable(22),L.push(u.mask),u.disableAll(),B.fog&&u.enable(0),B.useFog&&u.enable(1),B.flatShading&&u.enable(2),B.logarithmicDepthBuffer&&u.enable(3),B.reversedDepthBuffer&&u.enable(4),B.skinning&&u.enable(5),B.morphTargets&&u.enable(6),B.morphNormals&&u.enable(7),B.morphColors&&u.enable(8),B.premultipliedAlpha&&u.enable(9),B.shadowMapEnabled&&u.enable(10),B.doubleSided&&u.enable(11),B.flipSided&&u.enable(12),B.useDepthPacking&&u.enable(13),B.dithering&&u.enable(14),B.transmission&&u.enable(15),B.sheen&&u.enable(16),B.opaque&&u.enable(17),B.pointsUvs&&u.enable(18),B.decodeVideoTexture&&u.enable(19),B.decodeVideoTextureEmissive&&u.enable(20),B.alphaToCoverage&&u.enable(21),L.push(u.mask)}function N(L){const B=T[L.type];let W;if(B){const $=Po[B];W=QN.clone($.uniforms)}else W=L.uniforms;return W}function U(L,B){let W;for(let $=0,it=m.length;$<it;$++){const ct=m[$];if(ct.cacheKey===B){W=ct,++W.usedTimes;break}}return W===void 0&&(W=new g9(i,B,L,s),m.push(W)),W}function P(L){if(--L.usedTimes===0){const B=m.indexOf(L);m[B]=m[m.length-1],m.pop(),L.destroy()}}function F(L){h.remove(L)}function V(){h.dispose()}return{getParameters:E,getProgramCacheKey:b,getUniforms:N,acquireProgram:U,releaseProgram:P,releaseShaderCache:F,programs:m,dispose:V}}function S9(){let i=new WeakMap;function t(o){return i.has(o)}function e(o){let u=i.get(o);return u===void 0&&(u={},i.set(o,u)),u}function n(o){i.delete(o)}function a(o,u,h){i.get(o)[u]=h}function s(){i=new WeakMap}return{has:t,get:e,remove:n,update:a,dispose:s}}function b9(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.material.id!==t.material.id?i.material.id-t.material.id:i.z!==t.z?i.z-t.z:i.id-t.id}function oR(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.z!==t.z?t.z-i.z:i.id-t.id}function lR(){const i=[];let t=0;const e=[],n=[],a=[];function s(){t=0,e.length=0,n.length=0,a.length=0}function o(v,_,x,T,A,E){let b=i[t];return b===void 0?(b={id:v.id,object:v,geometry:_,material:x,groupOrder:T,renderOrder:v.renderOrder,z:A,group:E},i[t]=b):(b.id=v.id,b.object=v,b.geometry=_,b.material=x,b.groupOrder=T,b.renderOrder=v.renderOrder,b.z=A,b.group=E),t++,b}function u(v,_,x,T,A,E){const b=o(v,_,x,T,A,E);x.transmission>0?n.push(b):x.transparent===!0?a.push(b):e.push(b)}function h(v,_,x,T,A,E){const b=o(v,_,x,T,A,E);x.transmission>0?n.unshift(b):x.transparent===!0?a.unshift(b):e.unshift(b)}function p(v,_){e.length>1&&e.sort(v||b9),n.length>1&&n.sort(_||oR),a.length>1&&a.sort(_||oR)}function m(){for(let v=t,_=i.length;v<_;v++){const x=i[v];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.group=null}}return{opaque:e,transmissive:n,transparent:a,init:s,push:u,unshift:h,finish:m,sort:p}}function M9(){let i=new WeakMap;function t(n,a){const s=i.get(n);let o;return s===void 0?(o=new lR,i.set(n,[o])):a>=s.length?(o=new lR,s.push(o)):o=s[a],o}function e(){i=new WeakMap}return{get:t,dispose:e}}function T9(){const i={};return{get:function(t){if(i[t.id]!==void 0)return i[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new K,color:new pe};break;case"SpotLight":e={position:new K,direction:new K,color:new pe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new K,color:new pe,distance:0,decay:0};break;case"HemisphereLight":e={direction:new K,skyColor:new pe,groundColor:new pe};break;case"RectAreaLight":e={color:new pe,position:new K,halfWidth:new K,halfHeight:new K};break}return i[t.id]=e,e}}}function E9(){const i={};return{get:function(t){if(i[t.id]!==void 0)return i[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ht};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ht};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ht,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[t.id]=e,e}}}let A9=0;function w9(i,t){return(t.castShadow?2:0)-(i.castShadow?2:0)+(t.map?1:0)-(i.map?1:0)}function C9(i){const t=new T9,e=E9(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)n.probe.push(new K);const a=new K,s=new ke,o=new ke;function u(p){let m=0,v=0,_=0;for(let L=0;L<9;L++)n.probe[L].set(0,0,0);let x=0,T=0,A=0,E=0,b=0,R=0,D=0,N=0,U=0,P=0,F=0;p.sort(w9);for(let L=0,B=p.length;L<B;L++){const W=p[L],$=W.color,it=W.intensity,ct=W.distance,ut=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)m+=$.r*it,v+=$.g*it,_+=$.b*it;else if(W.isLightProbe){for(let z=0;z<9;z++)n.probe[z].addScaledVector(W.sh.coefficients[z],it);F++}else if(W.isDirectionalLight){const z=t.get(W);if(z.color.copy(W.color).multiplyScalar(W.intensity),W.castShadow){const q=W.shadow,j=e.get(W);j.shadowIntensity=q.intensity,j.shadowBias=q.bias,j.shadowNormalBias=q.normalBias,j.shadowRadius=q.radius,j.shadowMapSize=q.mapSize,n.directionalShadow[x]=j,n.directionalShadowMap[x]=ut,n.directionalShadowMatrix[x]=W.shadow.matrix,R++}n.directional[x]=z,x++}else if(W.isSpotLight){const z=t.get(W);z.position.setFromMatrixPosition(W.matrixWorld),z.color.copy($).multiplyScalar(it),z.distance=ct,z.coneCos=Math.cos(W.angle),z.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),z.decay=W.decay,n.spot[A]=z;const q=W.shadow;if(W.map&&(n.spotLightMap[U]=W.map,U++,q.updateMatrices(W),W.castShadow&&P++),n.spotLightMatrix[A]=q.matrix,W.castShadow){const j=e.get(W);j.shadowIntensity=q.intensity,j.shadowBias=q.bias,j.shadowNormalBias=q.normalBias,j.shadowRadius=q.radius,j.shadowMapSize=q.mapSize,n.spotShadow[A]=j,n.spotShadowMap[A]=ut,N++}A++}else if(W.isRectAreaLight){const z=t.get(W);z.color.copy($).multiplyScalar(it),z.halfWidth.set(W.width*.5,0,0),z.halfHeight.set(0,W.height*.5,0),n.rectArea[E]=z,E++}else if(W.isPointLight){const z=t.get(W);if(z.color.copy(W.color).multiplyScalar(W.intensity),z.distance=W.distance,z.decay=W.decay,W.castShadow){const q=W.shadow,j=e.get(W);j.shadowIntensity=q.intensity,j.shadowBias=q.bias,j.shadowNormalBias=q.normalBias,j.shadowRadius=q.radius,j.shadowMapSize=q.mapSize,j.shadowCameraNear=q.camera.near,j.shadowCameraFar=q.camera.far,n.pointShadow[T]=j,n.pointShadowMap[T]=ut,n.pointShadowMatrix[T]=W.shadow.matrix,D++}n.point[T]=z,T++}else if(W.isHemisphereLight){const z=t.get(W);z.skyColor.copy(W.color).multiplyScalar(it),z.groundColor.copy(W.groundColor).multiplyScalar(it),n.hemi[b]=z,b++}}E>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=le.LTC_FLOAT_1,n.rectAreaLTC2=le.LTC_FLOAT_2):(n.rectAreaLTC1=le.LTC_HALF_1,n.rectAreaLTC2=le.LTC_HALF_2)),n.ambient[0]=m,n.ambient[1]=v,n.ambient[2]=_;const V=n.hash;(V.directionalLength!==x||V.pointLength!==T||V.spotLength!==A||V.rectAreaLength!==E||V.hemiLength!==b||V.numDirectionalShadows!==R||V.numPointShadows!==D||V.numSpotShadows!==N||V.numSpotMaps!==U||V.numLightProbes!==F)&&(n.directional.length=x,n.spot.length=A,n.rectArea.length=E,n.point.length=T,n.hemi.length=b,n.directionalShadow.length=R,n.directionalShadowMap.length=R,n.pointShadow.length=D,n.pointShadowMap.length=D,n.spotShadow.length=N,n.spotShadowMap.length=N,n.directionalShadowMatrix.length=R,n.pointShadowMatrix.length=D,n.spotLightMatrix.length=N+U-P,n.spotLightMap.length=U,n.numSpotLightShadowsWithMaps=P,n.numLightProbes=F,V.directionalLength=x,V.pointLength=T,V.spotLength=A,V.rectAreaLength=E,V.hemiLength=b,V.numDirectionalShadows=R,V.numPointShadows=D,V.numSpotShadows=N,V.numSpotMaps=U,V.numLightProbes=F,n.version=A9++)}function h(p,m){let v=0,_=0,x=0,T=0,A=0;const E=m.matrixWorldInverse;for(let b=0,R=p.length;b<R;b++){const D=p[b];if(D.isDirectionalLight){const N=n.directional[v];N.direction.setFromMatrixPosition(D.matrixWorld),a.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(a),N.direction.transformDirection(E),v++}else if(D.isSpotLight){const N=n.spot[x];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(E),N.direction.setFromMatrixPosition(D.matrixWorld),a.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(a),N.direction.transformDirection(E),x++}else if(D.isRectAreaLight){const N=n.rectArea[T];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(E),o.identity(),s.copy(D.matrixWorld),s.premultiply(E),o.extractRotation(s),N.halfWidth.set(D.width*.5,0,0),N.halfHeight.set(0,D.height*.5,0),N.halfWidth.applyMatrix4(o),N.halfHeight.applyMatrix4(o),T++}else if(D.isPointLight){const N=n.point[_];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(E),_++}else if(D.isHemisphereLight){const N=n.hemi[A];N.direction.setFromMatrixPosition(D.matrixWorld),N.direction.transformDirection(E),A++}}}return{setup:u,setupView:h,state:n}}function uR(i){const t=new C9(i),e=[],n=[];function a(m){p.camera=m,e.length=0,n.length=0}function s(m){e.push(m)}function o(m){n.push(m)}function u(){t.setup(e)}function h(m){t.setupView(e,m)}const p={lightsArray:e,shadowsArray:n,camera:null,lights:t,transmissionRenderTarget:{}};return{init:a,state:p,setupLights:u,setupLightsView:h,pushLight:s,pushShadow:o}}function R9(i){let t=new WeakMap;function e(a,s=0){const o=t.get(a);let u;return o===void 0?(u=new uR(i),t.set(a,[u])):s>=o.length?(u=new uR(i),o.push(u)):u=o[s],u}function n(){t=new WeakMap}return{get:e,dispose:n}}const D9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,N9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function O9(i,t,e){let n=new xm;const a=new Ht,s=new Ht,o=new Tn,u=new rA({depthPacking:BN}),h=new oA,p={},m=e.maxTextureSize,v={[Cu]:Es,[Es]:Cu,[El]:El},_=new Io({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ht},radius:{value:4}},vertexShader:D9,fragmentShader:N9}),x=_.clone();x.defines.HORIZONTAL_PASS=1;const T=new en;T.setAttribute("position",new qn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Zi(T,_),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=B1;let b=this.type;this.render=function(P,F,V){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||P.length===0)return;const L=i.getRenderTarget(),B=i.getActiveCubeFace(),W=i.getActiveMipmapLevel(),$=i.state;$.setBlending(Eu),$.buffers.depth.getReversed()===!0?$.buffers.color.setClear(0,0,0,0):$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const it=b!==Lo&&this.type===Lo,ct=b===Lo&&this.type!==Lo;for(let ut=0,z=P.length;ut<z;ut++){const q=P[ut],j=q.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;a.copy(j.mapSize);const rt=j.getFrameExtents();if(a.multiply(rt),s.copy(j.mapSize),(a.x>m||a.y>m)&&(a.x>m&&(s.x=Math.floor(m/rt.x),a.x=s.x*rt.x,j.mapSize.x=s.x),a.y>m&&(s.y=Math.floor(m/rt.y),a.y=s.y*rt.y,j.mapSize.y=s.y)),j.map===null||it===!0||ct===!0){const nt=this.type!==Lo?{minFilter:Na,magFilter:Na}:{};j.map!==null&&j.map.dispose(),j.map=new zl(a.x,a.y,nt),j.map.texture.name=q.name+".shadowMap",j.camera.updateProjectionMatrix()}i.setRenderTarget(j.map),i.clear();const k=j.getViewportCount();for(let nt=0;nt<k;nt++){const _t=j.getViewport(nt);o.set(s.x*_t.x,s.y*_t.y,s.x*_t.z,s.y*_t.w),$.viewport(o),j.updateMatrices(q,nt),n=j.getFrustum(),N(F,V,j.camera,q,this.type)}j.isPointLightShadow!==!0&&this.type===Lo&&R(j,V),j.needsUpdate=!1}b=this.type,E.needsUpdate=!1,i.setRenderTarget(L,B,W)};function R(P,F){const V=t.update(A);_.defines.VSM_SAMPLES!==P.blurSamples&&(_.defines.VSM_SAMPLES=P.blurSamples,x.defines.VSM_SAMPLES=P.blurSamples,_.needsUpdate=!0,x.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new zl(a.x,a.y)),_.uniforms.shadow_pass.value=P.map.texture,_.uniforms.resolution.value=P.mapSize,_.uniforms.radius.value=P.radius,i.setRenderTarget(P.mapPass),i.clear(),i.renderBufferDirect(F,null,V,_,A,null),x.uniforms.shadow_pass.value=P.mapPass.texture,x.uniforms.resolution.value=P.mapSize,x.uniforms.radius.value=P.radius,i.setRenderTarget(P.map),i.clear(),i.renderBufferDirect(F,null,V,x,A,null)}function D(P,F,V,L){let B=null;const W=V.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(W!==void 0)B=W;else if(B=V.isPointLight===!0?h:u,i.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0||F.alphaToCoverage===!0){const $=B.uuid,it=F.uuid;let ct=p[$];ct===void 0&&(ct={},p[$]=ct);let ut=ct[it];ut===void 0&&(ut=B.clone(),ct[it]=ut,F.addEventListener("dispose",U)),B=ut}if(B.visible=F.visible,B.wireframe=F.wireframe,L===Lo?B.side=F.shadowSide!==null?F.shadowSide:F.side:B.side=F.shadowSide!==null?F.shadowSide:v[F.side],B.alphaMap=F.alphaMap,B.alphaTest=F.alphaToCoverage===!0?.5:F.alphaTest,B.map=F.map,B.clipShadows=F.clipShadows,B.clippingPlanes=F.clippingPlanes,B.clipIntersection=F.clipIntersection,B.displacementMap=F.displacementMap,B.displacementScale=F.displacementScale,B.displacementBias=F.displacementBias,B.wireframeLinewidth=F.wireframeLinewidth,B.linewidth=F.linewidth,V.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const $=i.properties.get(B);$.light=V}return B}function N(P,F,V,L,B){if(P.visible===!1)return;if(P.layers.test(F.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&B===Lo)&&(!P.frustumCulled||n.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,P.matrixWorld);const it=t.update(P),ct=P.material;if(Array.isArray(ct)){const ut=it.groups;for(let z=0,q=ut.length;z<q;z++){const j=ut[z],rt=ct[j.materialIndex];if(rt&&rt.visible){const k=D(P,rt,L,B);P.onBeforeShadow(i,P,F,V,it,k,j),i.renderBufferDirect(V,null,it,k,P,j),P.onAfterShadow(i,P,F,V,it,k,j)}}}else if(ct.visible){const ut=D(P,ct,L,B);P.onBeforeShadow(i,P,F,V,it,ut,null),i.renderBufferDirect(V,null,it,ut,P,null),P.onAfterShadow(i,P,F,V,it,ut,null)}}const $=P.children;for(let it=0,ct=$.length;it<ct;it++)N($[it],F,V,L,B)}function U(P){P.target.removeEventListener("dispose",U);for(const V in p){const L=p[V],B=P.target.uuid;B in L&&(L[B].dispose(),delete L[B])}}}const U9={[Cx]:Rx,[Dx]:Ux,[Nx]:Lx,[Xh]:Ox,[Rx]:Cx,[Ux]:Dx,[Lx]:Nx,[Ox]:Xh};function L9(i,t){function e(){let ot=!1;const Zt=new Tn;let te=null;const fe=new Tn(0,0,0,0);return{setMask:function(Yt){te!==Yt&&!ot&&(i.colorMask(Yt,Yt,Yt,Yt),te=Yt)},setLocked:function(Yt){ot=Yt},setClear:function(Yt,It,ye,Oe,dn){dn===!0&&(Yt*=Oe,It*=Oe,ye*=Oe),Zt.set(Yt,It,ye,Oe),fe.equals(Zt)===!1&&(i.clearColor(Yt,It,ye,Oe),fe.copy(Zt))},reset:function(){ot=!1,te=null,fe.set(-1,0,0,0)}}}function n(){let ot=!1,Zt=!1,te=null,fe=null,Yt=null;return{setReversed:function(It){if(Zt!==It){const ye=t.get("EXT_clip_control");It?ye.clipControlEXT(ye.LOWER_LEFT_EXT,ye.ZERO_TO_ONE_EXT):ye.clipControlEXT(ye.LOWER_LEFT_EXT,ye.NEGATIVE_ONE_TO_ONE_EXT),Zt=It;const Oe=Yt;Yt=null,this.setClear(Oe)}},getReversed:function(){return Zt},setTest:function(It){It?Nt(i.DEPTH_TEST):kt(i.DEPTH_TEST)},setMask:function(It){te!==It&&!ot&&(i.depthMask(It),te=It)},setFunc:function(It){if(Zt&&(It=U9[It]),fe!==It){switch(It){case Cx:i.depthFunc(i.NEVER);break;case Rx:i.depthFunc(i.ALWAYS);break;case Dx:i.depthFunc(i.LESS);break;case Xh:i.depthFunc(i.LEQUAL);break;case Nx:i.depthFunc(i.EQUAL);break;case Ox:i.depthFunc(i.GEQUAL);break;case Ux:i.depthFunc(i.GREATER);break;case Lx:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}fe=It}},setLocked:function(It){ot=It},setClear:function(It){Yt!==It&&(Zt&&(It=1-It),i.clearDepth(It),Yt=It)},reset:function(){ot=!1,te=null,fe=null,Yt=null,Zt=!1}}}function a(){let ot=!1,Zt=null,te=null,fe=null,Yt=null,It=null,ye=null,Oe=null,dn=null;return{setTest:function(ln){ot||(ln?Nt(i.STENCIL_TEST):kt(i.STENCIL_TEST))},setMask:function(ln){Zt!==ln&&!ot&&(i.stencilMask(ln),Zt=ln)},setFunc:function(ln,ws,xi){(te!==ln||fe!==ws||Yt!==xi)&&(i.stencilFunc(ln,ws,xi),te=ln,fe=ws,Yt=xi)},setOp:function(ln,ws,xi){(It!==ln||ye!==ws||Oe!==xi)&&(i.stencilOp(ln,ws,xi),It=ln,ye=ws,Oe=xi)},setLocked:function(ln){ot=ln},setClear:function(ln){dn!==ln&&(i.clearStencil(ln),dn=ln)},reset:function(){ot=!1,Zt=null,te=null,fe=null,Yt=null,It=null,ye=null,Oe=null,dn=null}}}const s=new e,o=new n,u=new a,h=new WeakMap,p=new WeakMap;let m={},v={},_=new WeakMap,x=[],T=null,A=!1,E=null,b=null,R=null,D=null,N=null,U=null,P=null,F=new pe(0,0,0),V=0,L=!1,B=null,W=null,$=null,it=null,ct=null;const ut=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,q=0;const j=i.getParameter(i.VERSION);j.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(j)[1]),z=q>=1):j.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),z=q>=2);let rt=null,k={};const nt=i.getParameter(i.SCISSOR_BOX),_t=i.getParameter(i.VIEWPORT),wt=new Tn().fromArray(nt),Rt=new Tn().fromArray(_t);function qt(ot,Zt,te,fe){const Yt=new Uint8Array(4),It=i.createTexture();i.bindTexture(ot,It),i.texParameteri(ot,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(ot,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let ye=0;ye<te;ye++)ot===i.TEXTURE_3D||ot===i.TEXTURE_2D_ARRAY?i.texImage3D(Zt,0,i.RGBA,1,1,fe,0,i.RGBA,i.UNSIGNED_BYTE,Yt):i.texImage2D(Zt+ye,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Yt);return It}const mt={};mt[i.TEXTURE_2D]=qt(i.TEXTURE_2D,i.TEXTURE_2D,1),mt[i.TEXTURE_CUBE_MAP]=qt(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),mt[i.TEXTURE_2D_ARRAY]=qt(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),mt[i.TEXTURE_3D]=qt(i.TEXTURE_3D,i.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),u.setClear(0),Nt(i.DEPTH_TEST),o.setFunc(Xh),Pt(!1),Dt(aT),Nt(i.CULL_FACE),Vt(Eu);function Nt(ot){m[ot]!==!0&&(i.enable(ot),m[ot]=!0)}function kt(ot){m[ot]!==!1&&(i.disable(ot),m[ot]=!1)}function he(ot,Zt){return v[ot]!==Zt?(i.bindFramebuffer(ot,Zt),v[ot]=Zt,ot===i.DRAW_FRAMEBUFFER&&(v[i.FRAMEBUFFER]=Zt),ot===i.FRAMEBUFFER&&(v[i.DRAW_FRAMEBUFFER]=Zt),!0):!1}function ce(ot,Zt){let te=x,fe=!1;if(ot){te=_.get(Zt),te===void 0&&(te=[],_.set(Zt,te));const Yt=ot.textures;if(te.length!==Yt.length||te[0]!==i.COLOR_ATTACHMENT0){for(let It=0,ye=Yt.length;It<ye;It++)te[It]=i.COLOR_ATTACHMENT0+It;te.length=Yt.length,fe=!0}}else te[0]!==i.BACK&&(te[0]=i.BACK,fe=!0);fe&&i.drawBuffers(te)}function Xe(ot){return T!==ot?(i.useProgram(ot),T=ot,!0):!1}const hn={[Gc]:i.FUNC_ADD,[oN]:i.FUNC_SUBTRACT,[lN]:i.FUNC_REVERSE_SUBTRACT};hn[uN]=i.MIN,hn[cN]=i.MAX;const Q={[fN]:i.ZERO,[hN]:i.ONE,[dN]:i.SRC_COLOR,[Ax]:i.SRC_ALPHA,[_N]:i.SRC_ALPHA_SATURATE,[vN]:i.DST_COLOR,[mN]:i.DST_ALPHA,[pN]:i.ONE_MINUS_SRC_COLOR,[wx]:i.ONE_MINUS_SRC_ALPHA,[yN]:i.ONE_MINUS_DST_COLOR,[gN]:i.ONE_MINUS_DST_ALPHA,[xN]:i.CONSTANT_COLOR,[SN]:i.ONE_MINUS_CONSTANT_COLOR,[bN]:i.CONSTANT_ALPHA,[MN]:i.ONE_MINUS_CONSTANT_ALPHA};function Vt(ot,Zt,te,fe,Yt,It,ye,Oe,dn,ln){if(ot===Eu){A===!0&&(kt(i.BLEND),A=!1);return}if(A===!1&&(Nt(i.BLEND),A=!0),ot!==rN){if(ot!==E||ln!==L){if((b!==Gc||N!==Gc)&&(i.blendEquation(i.FUNC_ADD),b=Gc,N=Gc),ln)switch(ot){case Ph:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case sT:i.blendFunc(i.ONE,i.ONE);break;case rT:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case oT:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",ot);break}else switch(ot){case Ph:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case sT:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case rT:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case oT:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",ot);break}R=null,D=null,U=null,P=null,F.set(0,0,0),V=0,E=ot,L=ln}return}Yt=Yt||Zt,It=It||te,ye=ye||fe,(Zt!==b||Yt!==N)&&(i.blendEquationSeparate(hn[Zt],hn[Yt]),b=Zt,N=Yt),(te!==R||fe!==D||It!==U||ye!==P)&&(i.blendFuncSeparate(Q[te],Q[fe],Q[It],Q[ye]),R=te,D=fe,U=It,P=ye),(Oe.equals(F)===!1||dn!==V)&&(i.blendColor(Oe.r,Oe.g,Oe.b,dn),F.copy(Oe),V=dn),E=ot,L=!1}function Bt(ot,Zt){ot.side===El?kt(i.CULL_FACE):Nt(i.CULL_FACE);let te=ot.side===Es;Zt&&(te=!te),Pt(te),ot.blending===Ph&&ot.transparent===!1?Vt(Eu):Vt(ot.blending,ot.blendEquation,ot.blendSrc,ot.blendDst,ot.blendEquationAlpha,ot.blendSrcAlpha,ot.blendDstAlpha,ot.blendColor,ot.blendAlpha,ot.premultipliedAlpha),o.setFunc(ot.depthFunc),o.setTest(ot.depthTest),o.setMask(ot.depthWrite),s.setMask(ot.colorWrite);const fe=ot.stencilWrite;u.setTest(fe),fe&&(u.setMask(ot.stencilWriteMask),u.setFunc(ot.stencilFunc,ot.stencilRef,ot.stencilFuncMask),u.setOp(ot.stencilFail,ot.stencilZFail,ot.stencilZPass)),Xt(ot.polygonOffset,ot.polygonOffsetFactor,ot.polygonOffsetUnits),ot.alphaToCoverage===!0?Nt(i.SAMPLE_ALPHA_TO_COVERAGE):kt(i.SAMPLE_ALPHA_TO_COVERAGE)}function Pt(ot){B!==ot&&(ot?i.frontFace(i.CW):i.frontFace(i.CCW),B=ot)}function Dt(ot){ot!==iN?(Nt(i.CULL_FACE),ot!==W&&(ot===aT?i.cullFace(i.BACK):ot===aN?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):kt(i.CULL_FACE),W=ot}function ne(ot){ot!==$&&(z&&i.lineWidth(ot),$=ot)}function Xt(ot,Zt,te){ot?(Nt(i.POLYGON_OFFSET_FILL),(it!==Zt||ct!==te)&&(i.polygonOffset(Zt,te),it=Zt,ct=te)):kt(i.POLYGON_OFFSET_FILL)}function Wt(ot){ot?Nt(i.SCISSOR_TEST):kt(i.SCISSOR_TEST)}function we(ot){ot===void 0&&(ot=i.TEXTURE0+ut-1),rt!==ot&&(i.activeTexture(ot),rt=ot)}function ze(ot,Zt,te){te===void 0&&(rt===null?te=i.TEXTURE0+ut-1:te=rt);let fe=k[te];fe===void 0&&(fe={type:void 0,texture:void 0},k[te]=fe),(fe.type!==ot||fe.texture!==Zt)&&(rt!==te&&(i.activeTexture(te),rt=te),i.bindTexture(ot,Zt||mt[ot]),fe.type=ot,fe.texture=Zt)}function Z(){const ot=k[rt];ot!==void 0&&ot.type!==void 0&&(i.bindTexture(ot.type,null),ot.type=void 0,ot.texture=void 0)}function H(){try{i.compressedTexImage2D(...arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}}function pt(){try{i.compressedTexImage3D(...arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}}function At(){try{i.texSubImage2D(...arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}}function Lt(){try{i.texSubImage3D(...arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}}function Ct(){try{i.compressedTexSubImage2D(...arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}}function re(){try{i.compressedTexSubImage3D(...arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}}function $t(){try{i.texStorage2D(...arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}}function me(){try{i.texStorage3D(...arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}}function ge(){try{i.texImage2D(...arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}}function Gt(){try{i.texImage3D(...arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}}function ie(ot){wt.equals(ot)===!1&&(i.scissor(ot.x,ot.y,ot.z,ot.w),wt.copy(ot))}function be(ot){Rt.equals(ot)===!1&&(i.viewport(ot.x,ot.y,ot.z,ot.w),Rt.copy(ot))}function ve(ot,Zt){let te=p.get(Zt);te===void 0&&(te=new WeakMap,p.set(Zt,te));let fe=te.get(ot);fe===void 0&&(fe=i.getUniformBlockIndex(Zt,ot.name),te.set(ot,fe))}function ae(ot,Zt){const fe=p.get(Zt).get(ot);h.get(Zt)!==fe&&(i.uniformBlockBinding(Zt,fe,ot.__bindingPointIndex),h.set(Zt,fe))}function Be(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),o.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),m={},rt=null,k={},v={},_=new WeakMap,x=[],T=null,A=!1,E=null,b=null,R=null,D=null,N=null,U=null,P=null,F=new pe(0,0,0),V=0,L=!1,B=null,W=null,$=null,it=null,ct=null,wt.set(0,0,i.canvas.width,i.canvas.height),Rt.set(0,0,i.canvas.width,i.canvas.height),s.reset(),o.reset(),u.reset()}return{buffers:{color:s,depth:o,stencil:u},enable:Nt,disable:kt,bindFramebuffer:he,drawBuffers:ce,useProgram:Xe,setBlending:Vt,setMaterial:Bt,setFlipSided:Pt,setCullFace:Dt,setLineWidth:ne,setPolygonOffset:Xt,setScissorTest:Wt,activeTexture:we,bindTexture:ze,unbindTexture:Z,compressedTexImage2D:H,compressedTexImage3D:pt,texImage2D:ge,texImage3D:Gt,updateUBOMapping:ve,uniformBlockBinding:ae,texStorage2D:$t,texStorage3D:me,texSubImage2D:At,texSubImage3D:Lt,compressedTexSubImage2D:Ct,compressedTexSubImage3D:re,scissor:ie,viewport:be,reset:Be}}function P9(i,t,e,n,a,s,o){const u=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Ht,m=new WeakMap;let v;const _=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function T(Z,H){return x?new OffscreenCanvas(Z,H):H0("canvas")}function A(Z,H,pt){let At=1;const Lt=ze(Z);if((Lt.width>pt||Lt.height>pt)&&(At=pt/Math.max(Lt.width,Lt.height)),At<1)if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap||typeof VideoFrame<"u"&&Z instanceof VideoFrame){const Ct=Math.floor(At*Lt.width),re=Math.floor(At*Lt.height);v===void 0&&(v=T(Ct,re));const $t=H?T(Ct,re):v;return $t.width=Ct,$t.height=re,$t.getContext("2d").drawImage(Z,0,0,Ct,re),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Lt.width+"x"+Lt.height+") to ("+Ct+"x"+re+")."),$t}else return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Lt.width+"x"+Lt.height+")."),Z;return Z}function E(Z){return Z.generateMipmaps}function b(Z){i.generateMipmap(Z)}function R(Z){return Z.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:Z.isWebGL3DRenderTarget?i.TEXTURE_3D:Z.isWebGLArrayRenderTarget||Z.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function D(Z,H,pt,At,Lt=!1){if(Z!==null){if(i[Z]!==void 0)return i[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let Ct=H;if(H===i.RED&&(pt===i.FLOAT&&(Ct=i.R32F),pt===i.HALF_FLOAT&&(Ct=i.R16F),pt===i.UNSIGNED_BYTE&&(Ct=i.R8)),H===i.RED_INTEGER&&(pt===i.UNSIGNED_BYTE&&(Ct=i.R8UI),pt===i.UNSIGNED_SHORT&&(Ct=i.R16UI),pt===i.UNSIGNED_INT&&(Ct=i.R32UI),pt===i.BYTE&&(Ct=i.R8I),pt===i.SHORT&&(Ct=i.R16I),pt===i.INT&&(Ct=i.R32I)),H===i.RG&&(pt===i.FLOAT&&(Ct=i.RG32F),pt===i.HALF_FLOAT&&(Ct=i.RG16F),pt===i.UNSIGNED_BYTE&&(Ct=i.RG8)),H===i.RG_INTEGER&&(pt===i.UNSIGNED_BYTE&&(Ct=i.RG8UI),pt===i.UNSIGNED_SHORT&&(Ct=i.RG16UI),pt===i.UNSIGNED_INT&&(Ct=i.RG32UI),pt===i.BYTE&&(Ct=i.RG8I),pt===i.SHORT&&(Ct=i.RG16I),pt===i.INT&&(Ct=i.RG32I)),H===i.RGB_INTEGER&&(pt===i.UNSIGNED_BYTE&&(Ct=i.RGB8UI),pt===i.UNSIGNED_SHORT&&(Ct=i.RGB16UI),pt===i.UNSIGNED_INT&&(Ct=i.RGB32UI),pt===i.BYTE&&(Ct=i.RGB8I),pt===i.SHORT&&(Ct=i.RGB16I),pt===i.INT&&(Ct=i.RGB32I)),H===i.RGBA_INTEGER&&(pt===i.UNSIGNED_BYTE&&(Ct=i.RGBA8UI),pt===i.UNSIGNED_SHORT&&(Ct=i.RGBA16UI),pt===i.UNSIGNED_INT&&(Ct=i.RGBA32UI),pt===i.BYTE&&(Ct=i.RGBA8I),pt===i.SHORT&&(Ct=i.RGBA16I),pt===i.INT&&(Ct=i.RGBA32I)),H===i.RGB&&(pt===i.UNSIGNED_INT_5_9_9_9_REV&&(Ct=i.RGB9_E5),pt===i.UNSIGNED_INT_10F_11F_11F_REV&&(Ct=i.R11F_G11F_B10F)),H===i.RGBA){const re=Lt?F0:_n.getTransfer(At);pt===i.FLOAT&&(Ct=i.RGBA32F),pt===i.HALF_FLOAT&&(Ct=i.RGBA16F),pt===i.UNSIGNED_BYTE&&(Ct=re===In?i.SRGB8_ALPHA8:i.RGBA8),pt===i.UNSIGNED_SHORT_4_4_4_4&&(Ct=i.RGBA4),pt===i.UNSIGNED_SHORT_5_5_5_1&&(Ct=i.RGB5_A1)}return(Ct===i.R16F||Ct===i.R32F||Ct===i.RG16F||Ct===i.RG32F||Ct===i.RGBA16F||Ct===i.RGBA32F)&&t.get("EXT_color_buffer_float"),Ct}function N(Z,H){let pt;return Z?H===null||H===Du||H===Kp?pt=i.DEPTH24_STENCIL8:H===Ys?pt=i.DEPTH32F_STENCIL8:H===Zp&&(pt=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):H===null||H===Du||H===Kp?pt=i.DEPTH_COMPONENT24:H===Ys?pt=i.DEPTH_COMPONENT32F:H===Zp&&(pt=i.DEPTH_COMPONENT16),pt}function U(Z,H){return E(Z)===!0||Z.isFramebufferTexture&&Z.minFilter!==Na&&Z.minFilter!==la?Math.log2(Math.max(H.width,H.height))+1:Z.mipmaps!==void 0&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?H.mipmaps.length:1}function P(Z){const H=Z.target;H.removeEventListener("dispose",P),V(H),H.isVideoTexture&&m.delete(H)}function F(Z){const H=Z.target;H.removeEventListener("dispose",F),B(H)}function V(Z){const H=n.get(Z);if(H.__webglInit===void 0)return;const pt=Z.source,At=_.get(pt);if(At){const Lt=At[H.__cacheKey];Lt.usedTimes--,Lt.usedTimes===0&&L(Z),Object.keys(At).length===0&&_.delete(pt)}n.remove(Z)}function L(Z){const H=n.get(Z);i.deleteTexture(H.__webglTexture);const pt=Z.source,At=_.get(pt);delete At[H.__cacheKey],o.memory.textures--}function B(Z){const H=n.get(Z);if(Z.depthTexture&&(Z.depthTexture.dispose(),n.remove(Z.depthTexture)),Z.isWebGLCubeRenderTarget)for(let At=0;At<6;At++){if(Array.isArray(H.__webglFramebuffer[At]))for(let Lt=0;Lt<H.__webglFramebuffer[At].length;Lt++)i.deleteFramebuffer(H.__webglFramebuffer[At][Lt]);else i.deleteFramebuffer(H.__webglFramebuffer[At]);H.__webglDepthbuffer&&i.deleteRenderbuffer(H.__webglDepthbuffer[At])}else{if(Array.isArray(H.__webglFramebuffer))for(let At=0;At<H.__webglFramebuffer.length;At++)i.deleteFramebuffer(H.__webglFramebuffer[At]);else i.deleteFramebuffer(H.__webglFramebuffer);if(H.__webglDepthbuffer&&i.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&i.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let At=0;At<H.__webglColorRenderbuffer.length;At++)H.__webglColorRenderbuffer[At]&&i.deleteRenderbuffer(H.__webglColorRenderbuffer[At]);H.__webglDepthRenderbuffer&&i.deleteRenderbuffer(H.__webglDepthRenderbuffer)}const pt=Z.textures;for(let At=0,Lt=pt.length;At<Lt;At++){const Ct=n.get(pt[At]);Ct.__webglTexture&&(i.deleteTexture(Ct.__webglTexture),o.memory.textures--),n.remove(pt[At])}n.remove(Z)}let W=0;function $(){W=0}function it(){const Z=W;return Z>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+a.maxTextures),W+=1,Z}function ct(Z){const H=[];return H.push(Z.wrapS),H.push(Z.wrapT),H.push(Z.wrapR||0),H.push(Z.magFilter),H.push(Z.minFilter),H.push(Z.anisotropy),H.push(Z.internalFormat),H.push(Z.format),H.push(Z.type),H.push(Z.generateMipmaps),H.push(Z.premultiplyAlpha),H.push(Z.flipY),H.push(Z.unpackAlignment),H.push(Z.colorSpace),H.join()}function ut(Z,H){const pt=n.get(Z);if(Z.isVideoTexture&&Wt(Z),Z.isRenderTargetTexture===!1&&Z.isExternalTexture!==!0&&Z.version>0&&pt.__version!==Z.version){const At=Z.image;if(At===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(At.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{mt(pt,Z,H);return}}else Z.isExternalTexture&&(pt.__webglTexture=Z.sourceTexture?Z.sourceTexture:null);e.bindTexture(i.TEXTURE_2D,pt.__webglTexture,i.TEXTURE0+H)}function z(Z,H){const pt=n.get(Z);if(Z.isRenderTargetTexture===!1&&Z.version>0&&pt.__version!==Z.version){mt(pt,Z,H);return}e.bindTexture(i.TEXTURE_2D_ARRAY,pt.__webglTexture,i.TEXTURE0+H)}function q(Z,H){const pt=n.get(Z);if(Z.isRenderTargetTexture===!1&&Z.version>0&&pt.__version!==Z.version){mt(pt,Z,H);return}e.bindTexture(i.TEXTURE_3D,pt.__webglTexture,i.TEXTURE0+H)}function j(Z,H){const pt=n.get(Z);if(Z.version>0&&pt.__version!==Z.version){Nt(pt,Z,H);return}e.bindTexture(i.TEXTURE_CUBE_MAP,pt.__webglTexture,i.TEXTURE0+H)}const rt={[P0]:i.REPEAT,[Kr]:i.CLAMP_TO_EDGE,[z0]:i.MIRRORED_REPEAT},k={[Na]:i.NEAREST,[UE]:i.NEAREST_MIPMAP_NEAREST,[Dp]:i.NEAREST_MIPMAP_LINEAR,[la]:i.LINEAR,[d0]:i.LINEAR_MIPMAP_NEAREST,[wl]:i.LINEAR_MIPMAP_LINEAR},nt={[FN]:i.NEVER,[qN]:i.ALWAYS,[VN]:i.LESS,[GE]:i.LEQUAL,[HN]:i.EQUAL,[XN]:i.GEQUAL,[GN]:i.GREATER,[kN]:i.NOTEQUAL};function _t(Z,H){if(H.type===Ys&&t.has("OES_texture_float_linear")===!1&&(H.magFilter===la||H.magFilter===d0||H.magFilter===Dp||H.magFilter===wl||H.minFilter===la||H.minFilter===d0||H.minFilter===Dp||H.minFilter===wl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(Z,i.TEXTURE_WRAP_S,rt[H.wrapS]),i.texParameteri(Z,i.TEXTURE_WRAP_T,rt[H.wrapT]),(Z===i.TEXTURE_3D||Z===i.TEXTURE_2D_ARRAY)&&i.texParameteri(Z,i.TEXTURE_WRAP_R,rt[H.wrapR]),i.texParameteri(Z,i.TEXTURE_MAG_FILTER,k[H.magFilter]),i.texParameteri(Z,i.TEXTURE_MIN_FILTER,k[H.minFilter]),H.compareFunction&&(i.texParameteri(Z,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(Z,i.TEXTURE_COMPARE_FUNC,nt[H.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(H.magFilter===Na||H.minFilter!==Dp&&H.minFilter!==wl||H.type===Ys&&t.has("OES_texture_float_linear")===!1)return;if(H.anisotropy>1||n.get(H).__currentAnisotropy){const pt=t.get("EXT_texture_filter_anisotropic");i.texParameterf(Z,pt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,a.getMaxAnisotropy())),n.get(H).__currentAnisotropy=H.anisotropy}}}function wt(Z,H){let pt=!1;Z.__webglInit===void 0&&(Z.__webglInit=!0,H.addEventListener("dispose",P));const At=H.source;let Lt=_.get(At);Lt===void 0&&(Lt={},_.set(At,Lt));const Ct=ct(H);if(Ct!==Z.__cacheKey){Lt[Ct]===void 0&&(Lt[Ct]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,pt=!0),Lt[Ct].usedTimes++;const re=Lt[Z.__cacheKey];re!==void 0&&(Lt[Z.__cacheKey].usedTimes--,re.usedTimes===0&&L(H)),Z.__cacheKey=Ct,Z.__webglTexture=Lt[Ct].texture}return pt}function Rt(Z,H,pt){return Math.floor(Math.floor(Z/pt)/H)}function qt(Z,H,pt,At){const Ct=Z.updateRanges;if(Ct.length===0)e.texSubImage2D(i.TEXTURE_2D,0,0,0,H.width,H.height,pt,At,H.data);else{Ct.sort((Gt,ie)=>Gt.start-ie.start);let re=0;for(let Gt=1;Gt<Ct.length;Gt++){const ie=Ct[re],be=Ct[Gt],ve=ie.start+ie.count,ae=Rt(be.start,H.width,4),Be=Rt(ie.start,H.width,4);be.start<=ve+1&&ae===Be&&Rt(be.start+be.count-1,H.width,4)===ae?ie.count=Math.max(ie.count,be.start+be.count-ie.start):(++re,Ct[re]=be)}Ct.length=re+1;const $t=i.getParameter(i.UNPACK_ROW_LENGTH),me=i.getParameter(i.UNPACK_SKIP_PIXELS),ge=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,H.width);for(let Gt=0,ie=Ct.length;Gt<ie;Gt++){const be=Ct[Gt],ve=Math.floor(be.start/4),ae=Math.ceil(be.count/4),Be=ve%H.width,ot=Math.floor(ve/H.width),Zt=ae,te=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,Be),i.pixelStorei(i.UNPACK_SKIP_ROWS,ot),e.texSubImage2D(i.TEXTURE_2D,0,Be,ot,Zt,te,pt,At,H.data)}Z.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,$t),i.pixelStorei(i.UNPACK_SKIP_PIXELS,me),i.pixelStorei(i.UNPACK_SKIP_ROWS,ge)}}function mt(Z,H,pt){let At=i.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(At=i.TEXTURE_2D_ARRAY),H.isData3DTexture&&(At=i.TEXTURE_3D);const Lt=wt(Z,H),Ct=H.source;e.bindTexture(At,Z.__webglTexture,i.TEXTURE0+pt);const re=n.get(Ct);if(Ct.version!==re.__version||Lt===!0){e.activeTexture(i.TEXTURE0+pt);const $t=_n.getPrimaries(_n.workingColorSpace),me=H.colorSpace===bu?null:_n.getPrimaries(H.colorSpace),ge=H.colorSpace===bu||$t===me?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,H.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,H.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,ge);let Gt=A(H.image,!1,a.maxTextureSize);Gt=we(H,Gt);const ie=s.convert(H.format,H.colorSpace),be=s.convert(H.type);let ve=D(H.internalFormat,ie,be,H.colorSpace,H.isVideoTexture);_t(At,H);let ae;const Be=H.mipmaps,ot=H.isVideoTexture!==!0,Zt=re.__version===void 0||Lt===!0,te=Ct.dataReady,fe=U(H,Gt);if(H.isDepthTexture)ve=N(H.format===Jp,H.type),Zt&&(ot?e.texStorage2D(i.TEXTURE_2D,1,ve,Gt.width,Gt.height):e.texImage2D(i.TEXTURE_2D,0,ve,Gt.width,Gt.height,0,ie,be,null));else if(H.isDataTexture)if(Be.length>0){ot&&Zt&&e.texStorage2D(i.TEXTURE_2D,fe,ve,Be[0].width,Be[0].height);for(let Yt=0,It=Be.length;Yt<It;Yt++)ae=Be[Yt],ot?te&&e.texSubImage2D(i.TEXTURE_2D,Yt,0,0,ae.width,ae.height,ie,be,ae.data):e.texImage2D(i.TEXTURE_2D,Yt,ve,ae.width,ae.height,0,ie,be,ae.data);H.generateMipmaps=!1}else ot?(Zt&&e.texStorage2D(i.TEXTURE_2D,fe,ve,Gt.width,Gt.height),te&&qt(H,Gt,ie,be)):e.texImage2D(i.TEXTURE_2D,0,ve,Gt.width,Gt.height,0,ie,be,Gt.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){ot&&Zt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,fe,ve,Be[0].width,Be[0].height,Gt.depth);for(let Yt=0,It=Be.length;Yt<It;Yt++)if(ae=Be[Yt],H.format!==Za)if(ie!==null)if(ot){if(te)if(H.layerUpdates.size>0){const ye=vT(ae.width,ae.height,H.format,H.type);for(const Oe of H.layerUpdates){const dn=ae.data.subarray(Oe*ye/ae.data.BYTES_PER_ELEMENT,(Oe+1)*ye/ae.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Yt,0,0,Oe,ae.width,ae.height,1,ie,dn)}H.clearLayerUpdates()}else e.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Yt,0,0,0,ae.width,ae.height,Gt.depth,ie,ae.data)}else e.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Yt,ve,ae.width,ae.height,Gt.depth,0,ae.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ot?te&&e.texSubImage3D(i.TEXTURE_2D_ARRAY,Yt,0,0,0,ae.width,ae.height,Gt.depth,ie,be,ae.data):e.texImage3D(i.TEXTURE_2D_ARRAY,Yt,ve,ae.width,ae.height,Gt.depth,0,ie,be,ae.data)}else{ot&&Zt&&e.texStorage2D(i.TEXTURE_2D,fe,ve,Be[0].width,Be[0].height);for(let Yt=0,It=Be.length;Yt<It;Yt++)ae=Be[Yt],H.format!==Za?ie!==null?ot?te&&e.compressedTexSubImage2D(i.TEXTURE_2D,Yt,0,0,ae.width,ae.height,ie,ae.data):e.compressedTexImage2D(i.TEXTURE_2D,Yt,ve,ae.width,ae.height,0,ae.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ot?te&&e.texSubImage2D(i.TEXTURE_2D,Yt,0,0,ae.width,ae.height,ie,be,ae.data):e.texImage2D(i.TEXTURE_2D,Yt,ve,ae.width,ae.height,0,ie,be,ae.data)}else if(H.isDataArrayTexture)if(ot){if(Zt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,fe,ve,Gt.width,Gt.height,Gt.depth),te)if(H.layerUpdates.size>0){const Yt=vT(Gt.width,Gt.height,H.format,H.type);for(const It of H.layerUpdates){const ye=Gt.data.subarray(It*Yt/Gt.data.BYTES_PER_ELEMENT,(It+1)*Yt/Gt.data.BYTES_PER_ELEMENT);e.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,It,Gt.width,Gt.height,1,ie,be,ye)}H.clearLayerUpdates()}else e.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Gt.width,Gt.height,Gt.depth,ie,be,Gt.data)}else e.texImage3D(i.TEXTURE_2D_ARRAY,0,ve,Gt.width,Gt.height,Gt.depth,0,ie,be,Gt.data);else if(H.isData3DTexture)ot?(Zt&&e.texStorage3D(i.TEXTURE_3D,fe,ve,Gt.width,Gt.height,Gt.depth),te&&e.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Gt.width,Gt.height,Gt.depth,ie,be,Gt.data)):e.texImage3D(i.TEXTURE_3D,0,ve,Gt.width,Gt.height,Gt.depth,0,ie,be,Gt.data);else if(H.isFramebufferTexture){if(Zt)if(ot)e.texStorage2D(i.TEXTURE_2D,fe,ve,Gt.width,Gt.height);else{let Yt=Gt.width,It=Gt.height;for(let ye=0;ye<fe;ye++)e.texImage2D(i.TEXTURE_2D,ye,ve,Yt,It,0,ie,be,null),Yt>>=1,It>>=1}}else if(Be.length>0){if(ot&&Zt){const Yt=ze(Be[0]);e.texStorage2D(i.TEXTURE_2D,fe,ve,Yt.width,Yt.height)}for(let Yt=0,It=Be.length;Yt<It;Yt++)ae=Be[Yt],ot?te&&e.texSubImage2D(i.TEXTURE_2D,Yt,0,0,ie,be,ae):e.texImage2D(i.TEXTURE_2D,Yt,ve,ie,be,ae);H.generateMipmaps=!1}else if(ot){if(Zt){const Yt=ze(Gt);e.texStorage2D(i.TEXTURE_2D,fe,ve,Yt.width,Yt.height)}te&&e.texSubImage2D(i.TEXTURE_2D,0,0,0,ie,be,Gt)}else e.texImage2D(i.TEXTURE_2D,0,ve,ie,be,Gt);E(H)&&b(At),re.__version=Ct.version,H.onUpdate&&H.onUpdate(H)}Z.__version=H.version}function Nt(Z,H,pt){if(H.image.length!==6)return;const At=wt(Z,H),Lt=H.source;e.bindTexture(i.TEXTURE_CUBE_MAP,Z.__webglTexture,i.TEXTURE0+pt);const Ct=n.get(Lt);if(Lt.version!==Ct.__version||At===!0){e.activeTexture(i.TEXTURE0+pt);const re=_n.getPrimaries(_n.workingColorSpace),$t=H.colorSpace===bu?null:_n.getPrimaries(H.colorSpace),me=H.colorSpace===bu||re===$t?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,H.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,H.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,me);const ge=H.isCompressedTexture||H.image[0].isCompressedTexture,Gt=H.image[0]&&H.image[0].isDataTexture,ie=[];for(let It=0;It<6;It++)!ge&&!Gt?ie[It]=A(H.image[It],!0,a.maxCubemapSize):ie[It]=Gt?H.image[It].image:H.image[It],ie[It]=we(H,ie[It]);const be=ie[0],ve=s.convert(H.format,H.colorSpace),ae=s.convert(H.type),Be=D(H.internalFormat,ve,ae,H.colorSpace),ot=H.isVideoTexture!==!0,Zt=Ct.__version===void 0||At===!0,te=Lt.dataReady;let fe=U(H,be);_t(i.TEXTURE_CUBE_MAP,H);let Yt;if(ge){ot&&Zt&&e.texStorage2D(i.TEXTURE_CUBE_MAP,fe,Be,be.width,be.height);for(let It=0;It<6;It++){Yt=ie[It].mipmaps;for(let ye=0;ye<Yt.length;ye++){const Oe=Yt[ye];H.format!==Za?ve!==null?ot?te&&e.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,ye,0,0,Oe.width,Oe.height,ve,Oe.data):e.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,ye,Be,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ot?te&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,ye,0,0,Oe.width,Oe.height,ve,ae,Oe.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,ye,Be,Oe.width,Oe.height,0,ve,ae,Oe.data)}}}else{if(Yt=H.mipmaps,ot&&Zt){Yt.length>0&&fe++;const It=ze(ie[0]);e.texStorage2D(i.TEXTURE_CUBE_MAP,fe,Be,It.width,It.height)}for(let It=0;It<6;It++)if(Gt){ot?te&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,0,0,ie[It].width,ie[It].height,ve,ae,ie[It].data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,Be,ie[It].width,ie[It].height,0,ve,ae,ie[It].data);for(let ye=0;ye<Yt.length;ye++){const dn=Yt[ye].image[It].image;ot?te&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,ye+1,0,0,dn.width,dn.height,ve,ae,dn.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,ye+1,Be,dn.width,dn.height,0,ve,ae,dn.data)}}else{ot?te&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,0,0,ve,ae,ie[It]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,Be,ve,ae,ie[It]);for(let ye=0;ye<Yt.length;ye++){const Oe=Yt[ye];ot?te&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,ye+1,0,0,ve,ae,Oe.image[It]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+It,ye+1,Be,ve,ae,Oe.image[It])}}}E(H)&&b(i.TEXTURE_CUBE_MAP),Ct.__version=Lt.version,H.onUpdate&&H.onUpdate(H)}Z.__version=H.version}function kt(Z,H,pt,At,Lt,Ct){const re=s.convert(pt.format,pt.colorSpace),$t=s.convert(pt.type),me=D(pt.internalFormat,re,$t,pt.colorSpace),ge=n.get(H),Gt=n.get(pt);if(Gt.__renderTarget=H,!ge.__hasExternalTextures){const ie=Math.max(1,H.width>>Ct),be=Math.max(1,H.height>>Ct);Lt===i.TEXTURE_3D||Lt===i.TEXTURE_2D_ARRAY?e.texImage3D(Lt,Ct,me,ie,be,H.depth,0,re,$t,null):e.texImage2D(Lt,Ct,me,ie,be,0,re,$t,null)}e.bindFramebuffer(i.FRAMEBUFFER,Z),Xt(H)?u.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,At,Lt,Gt.__webglTexture,0,ne(H)):(Lt===i.TEXTURE_2D||Lt>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Lt<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,At,Lt,Gt.__webglTexture,Ct),e.bindFramebuffer(i.FRAMEBUFFER,null)}function he(Z,H,pt){if(i.bindRenderbuffer(i.RENDERBUFFER,Z),H.depthBuffer){const At=H.depthTexture,Lt=At&&At.isDepthTexture?At.type:null,Ct=N(H.stencilBuffer,Lt),re=H.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,$t=ne(H);Xt(H)?u.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,$t,Ct,H.width,H.height):pt?i.renderbufferStorageMultisample(i.RENDERBUFFER,$t,Ct,H.width,H.height):i.renderbufferStorage(i.RENDERBUFFER,Ct,H.width,H.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,re,i.RENDERBUFFER,Z)}else{const At=H.textures;for(let Lt=0;Lt<At.length;Lt++){const Ct=At[Lt],re=s.convert(Ct.format,Ct.colorSpace),$t=s.convert(Ct.type),me=D(Ct.internalFormat,re,$t,Ct.colorSpace),ge=ne(H);pt&&Xt(H)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,ge,me,H.width,H.height):Xt(H)?u.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ge,me,H.width,H.height):i.renderbufferStorage(i.RENDERBUFFER,me,H.width,H.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function ce(Z,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(i.FRAMEBUFFER,Z),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const At=n.get(H.depthTexture);At.__renderTarget=H,(!At.__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),ut(H.depthTexture,0);const Lt=At.__webglTexture,Ct=ne(H);if(H.depthTexture.format===Qp)Xt(H)?u.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Lt,0,Ct):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Lt,0);else if(H.depthTexture.format===Jp)Xt(H)?u.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Lt,0,Ct):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Lt,0);else throw new Error("Unknown depthTexture format")}function Xe(Z){const H=n.get(Z),pt=Z.isWebGLCubeRenderTarget===!0;if(H.__boundDepthTexture!==Z.depthTexture){const At=Z.depthTexture;if(H.__depthDisposeCallback&&H.__depthDisposeCallback(),At){const Lt=()=>{delete H.__boundDepthTexture,delete H.__depthDisposeCallback,At.removeEventListener("dispose",Lt)};At.addEventListener("dispose",Lt),H.__depthDisposeCallback=Lt}H.__boundDepthTexture=At}if(Z.depthTexture&&!H.__autoAllocateDepthBuffer){if(pt)throw new Error("target.depthTexture not supported in Cube render targets");const At=Z.texture.mipmaps;At&&At.length>0?ce(H.__webglFramebuffer[0],Z):ce(H.__webglFramebuffer,Z)}else if(pt){H.__webglDepthbuffer=[];for(let At=0;At<6;At++)if(e.bindFramebuffer(i.FRAMEBUFFER,H.__webglFramebuffer[At]),H.__webglDepthbuffer[At]===void 0)H.__webglDepthbuffer[At]=i.createRenderbuffer(),he(H.__webglDepthbuffer[At],Z,!1);else{const Lt=Z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ct=H.__webglDepthbuffer[At];i.bindRenderbuffer(i.RENDERBUFFER,Ct),i.framebufferRenderbuffer(i.FRAMEBUFFER,Lt,i.RENDERBUFFER,Ct)}}else{const At=Z.texture.mipmaps;if(At&&At.length>0?e.bindFramebuffer(i.FRAMEBUFFER,H.__webglFramebuffer[0]):e.bindFramebuffer(i.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer===void 0)H.__webglDepthbuffer=i.createRenderbuffer(),he(H.__webglDepthbuffer,Z,!1);else{const Lt=Z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ct=H.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Ct),i.framebufferRenderbuffer(i.FRAMEBUFFER,Lt,i.RENDERBUFFER,Ct)}}e.bindFramebuffer(i.FRAMEBUFFER,null)}function hn(Z,H,pt){const At=n.get(Z);H!==void 0&&kt(At.__webglFramebuffer,Z,Z.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),pt!==void 0&&Xe(Z)}function Q(Z){const H=Z.texture,pt=n.get(Z),At=n.get(H);Z.addEventListener("dispose",F);const Lt=Z.textures,Ct=Z.isWebGLCubeRenderTarget===!0,re=Lt.length>1;if(re||(At.__webglTexture===void 0&&(At.__webglTexture=i.createTexture()),At.__version=H.version,o.memory.textures++),Ct){pt.__webglFramebuffer=[];for(let $t=0;$t<6;$t++)if(H.mipmaps&&H.mipmaps.length>0){pt.__webglFramebuffer[$t]=[];for(let me=0;me<H.mipmaps.length;me++)pt.__webglFramebuffer[$t][me]=i.createFramebuffer()}else pt.__webglFramebuffer[$t]=i.createFramebuffer()}else{if(H.mipmaps&&H.mipmaps.length>0){pt.__webglFramebuffer=[];for(let $t=0;$t<H.mipmaps.length;$t++)pt.__webglFramebuffer[$t]=i.createFramebuffer()}else pt.__webglFramebuffer=i.createFramebuffer();if(re)for(let $t=0,me=Lt.length;$t<me;$t++){const ge=n.get(Lt[$t]);ge.__webglTexture===void 0&&(ge.__webglTexture=i.createTexture(),o.memory.textures++)}if(Z.samples>0&&Xt(Z)===!1){pt.__webglMultisampledFramebuffer=i.createFramebuffer(),pt.__webglColorRenderbuffer=[],e.bindFramebuffer(i.FRAMEBUFFER,pt.__webglMultisampledFramebuffer);for(let $t=0;$t<Lt.length;$t++){const me=Lt[$t];pt.__webglColorRenderbuffer[$t]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,pt.__webglColorRenderbuffer[$t]);const ge=s.convert(me.format,me.colorSpace),Gt=s.convert(me.type),ie=D(me.internalFormat,ge,Gt,me.colorSpace,Z.isXRRenderTarget===!0),be=ne(Z);i.renderbufferStorageMultisample(i.RENDERBUFFER,be,ie,Z.width,Z.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+$t,i.RENDERBUFFER,pt.__webglColorRenderbuffer[$t])}i.bindRenderbuffer(i.RENDERBUFFER,null),Z.depthBuffer&&(pt.__webglDepthRenderbuffer=i.createRenderbuffer(),he(pt.__webglDepthRenderbuffer,Z,!0)),e.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Ct){e.bindTexture(i.TEXTURE_CUBE_MAP,At.__webglTexture),_t(i.TEXTURE_CUBE_MAP,H);for(let $t=0;$t<6;$t++)if(H.mipmaps&&H.mipmaps.length>0)for(let me=0;me<H.mipmaps.length;me++)kt(pt.__webglFramebuffer[$t][me],Z,H,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+$t,me);else kt(pt.__webglFramebuffer[$t],Z,H,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+$t,0);E(H)&&b(i.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(re){for(let $t=0,me=Lt.length;$t<me;$t++){const ge=Lt[$t],Gt=n.get(ge);let ie=i.TEXTURE_2D;(Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(ie=Z.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),e.bindTexture(ie,Gt.__webglTexture),_t(ie,ge),kt(pt.__webglFramebuffer,Z,ge,i.COLOR_ATTACHMENT0+$t,ie,0),E(ge)&&b(ie)}e.unbindTexture()}else{let $t=i.TEXTURE_2D;if((Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&($t=Z.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),e.bindTexture($t,At.__webglTexture),_t($t,H),H.mipmaps&&H.mipmaps.length>0)for(let me=0;me<H.mipmaps.length;me++)kt(pt.__webglFramebuffer[me],Z,H,i.COLOR_ATTACHMENT0,$t,me);else kt(pt.__webglFramebuffer,Z,H,i.COLOR_ATTACHMENT0,$t,0);E(H)&&b($t),e.unbindTexture()}Z.depthBuffer&&Xe(Z)}function Vt(Z){const H=Z.textures;for(let pt=0,At=H.length;pt<At;pt++){const Lt=H[pt];if(E(Lt)){const Ct=R(Z),re=n.get(Lt).__webglTexture;e.bindTexture(Ct,re),b(Ct),e.unbindTexture()}}}const Bt=[],Pt=[];function Dt(Z){if(Z.samples>0){if(Xt(Z)===!1){const H=Z.textures,pt=Z.width,At=Z.height;let Lt=i.COLOR_BUFFER_BIT;const Ct=Z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,re=n.get(Z),$t=H.length>1;if($t)for(let ge=0;ge<H.length;ge++)e.bindFramebuffer(i.FRAMEBUFFER,re.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ge,i.RENDERBUFFER,null),e.bindFramebuffer(i.FRAMEBUFFER,re.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ge,i.TEXTURE_2D,null,0);e.bindFramebuffer(i.READ_FRAMEBUFFER,re.__webglMultisampledFramebuffer);const me=Z.texture.mipmaps;me&&me.length>0?e.bindFramebuffer(i.DRAW_FRAMEBUFFER,re.__webglFramebuffer[0]):e.bindFramebuffer(i.DRAW_FRAMEBUFFER,re.__webglFramebuffer);for(let ge=0;ge<H.length;ge++){if(Z.resolveDepthBuffer&&(Z.depthBuffer&&(Lt|=i.DEPTH_BUFFER_BIT),Z.stencilBuffer&&Z.resolveStencilBuffer&&(Lt|=i.STENCIL_BUFFER_BIT)),$t){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,re.__webglColorRenderbuffer[ge]);const Gt=n.get(H[ge]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Gt,0)}i.blitFramebuffer(0,0,pt,At,0,0,pt,At,Lt,i.NEAREST),h===!0&&(Bt.length=0,Pt.length=0,Bt.push(i.COLOR_ATTACHMENT0+ge),Z.depthBuffer&&Z.resolveDepthBuffer===!1&&(Bt.push(Ct),Pt.push(Ct),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Pt)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,Bt))}if(e.bindFramebuffer(i.READ_FRAMEBUFFER,null),e.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),$t)for(let ge=0;ge<H.length;ge++){e.bindFramebuffer(i.FRAMEBUFFER,re.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ge,i.RENDERBUFFER,re.__webglColorRenderbuffer[ge]);const Gt=n.get(H[ge]).__webglTexture;e.bindFramebuffer(i.FRAMEBUFFER,re.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ge,i.TEXTURE_2D,Gt,0)}e.bindFramebuffer(i.DRAW_FRAMEBUFFER,re.__webglMultisampledFramebuffer)}else if(Z.depthBuffer&&Z.resolveDepthBuffer===!1&&h){const H=Z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[H])}}}function ne(Z){return Math.min(a.maxSamples,Z.samples)}function Xt(Z){const H=n.get(Z);return Z.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function Wt(Z){const H=o.render.frame;m.get(Z)!==H&&(m.set(Z,H),Z.update())}function we(Z,H){const pt=Z.colorSpace,At=Z.format,Lt=Z.type;return Z.isCompressedTexture===!0||Z.isVideoTexture===!0||pt!==Qc&&pt!==bu&&(_n.getTransfer(pt)===In?(At!==Za||Lt!==no)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",pt)),H}function ze(Z){return typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement?(p.width=Z.naturalWidth||Z.width,p.height=Z.naturalHeight||Z.height):typeof VideoFrame<"u"&&Z instanceof VideoFrame?(p.width=Z.displayWidth,p.height=Z.displayHeight):(p.width=Z.width,p.height=Z.height),p}this.allocateTextureUnit=it,this.resetTextureUnits=$,this.setTexture2D=ut,this.setTexture2DArray=z,this.setTexture3D=q,this.setTextureCube=j,this.rebindTextures=hn,this.setupRenderTarget=Q,this.updateRenderTargetMipmap=Vt,this.updateMultisampleRenderTarget=Dt,this.setupDepthRenderbuffer=Xe,this.setupFrameBufferTexture=kt,this.useMultisampledRTT=Xt}function iU(i,t){function e(n,a=bu){let s;const o=_n.getTransfer(a);if(n===no)return i.UNSIGNED_BYTE;if(n===V1)return i.UNSIGNED_SHORT_4_4_4_4;if(n===H1)return i.UNSIGNED_SHORT_5_5_5_1;if(n===zE)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===BE)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===LE)return i.BYTE;if(n===PE)return i.SHORT;if(n===Zp)return i.UNSIGNED_SHORT;if(n===F1)return i.INT;if(n===Du)return i.UNSIGNED_INT;if(n===Ys)return i.FLOAT;if(n===ym)return i.HALF_FLOAT;if(n===IE)return i.ALPHA;if(n===FE)return i.RGB;if(n===Za)return i.RGBA;if(n===Qp)return i.DEPTH_COMPONENT;if(n===Jp)return i.DEPTH_STENCIL;if(n===G1)return i.RED;if(n===mv)return i.RED_INTEGER;if(n===VE)return i.RG;if(n===k1)return i.RG_INTEGER;if(n===X1)return i.RGBA_INTEGER;if(n===p0||n===m0||n===g0||n===v0)if(o===In)if(s=t.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===p0)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===m0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===g0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===v0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=t.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===p0)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===m0)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===g0)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===v0)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Px||n===zx||n===Bx||n===Ix)if(s=t.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===Px)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===zx)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Bx)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Ix)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===Fx||n===Vx||n===Hx)if(s=t.get("WEBGL_compressed_texture_etc"),s!==null){if(n===Fx||n===Vx)return o===In?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===Hx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===Gx||n===kx||n===Xx||n===qx||n===Yx||n===jx||n===Wx||n===Zx||n===Kx||n===Qx||n===Jx||n===$x||n===t1||n===e1)if(s=t.get("WEBGL_compressed_texture_astc"),s!==null){if(n===Gx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===kx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Xx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===qx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Yx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===jx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Wx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Zx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Kx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Qx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Jx)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===$x)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===t1)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===e1)return o===In?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===n1||n===i1||n===a1)if(s=t.get("EXT_texture_compression_bptc"),s!==null){if(n===n1)return o===In?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===i1)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===a1)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===s1||n===r1||n===o1||n===l1)if(s=t.get("EXT_texture_compression_rgtc"),s!==null){if(n===s1)return s.COMPRESSED_RED_RGTC1_EXT;if(n===r1)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===o1)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===l1)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Kp?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:e}}const z9=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,B9=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class I9{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e){if(this.texture===null){const n=new JE(t.texture);(t.depthNear!==e.depthNear||t.depthFar!==e.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=n}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,n=new Io({vertexShader:z9,fragmentShader:B9,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Zi(new Sm(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class F9 extends Fl{constructor(t,e){super();const n=this;let a=null,s=1,o=null,u="local-floor",h=1,p=null,m=null,v=null,_=null,x=null,T=null;const A=typeof XRWebGLBinding<"u",E=new I9,b={},R=e.getContextAttributes();let D=null,N=null;const U=[],P=[],F=new Ht;let V=null;const L=new _a;L.viewport=new Tn;const B=new _a;B.viewport=new Tn;const W=[L,B],$=new YO;let it=null,ct=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(mt){let Nt=U[mt];return Nt===void 0&&(Nt=new hx,U[mt]=Nt),Nt.getTargetRaySpace()},this.getControllerGrip=function(mt){let Nt=U[mt];return Nt===void 0&&(Nt=new hx,U[mt]=Nt),Nt.getGripSpace()},this.getHand=function(mt){let Nt=U[mt];return Nt===void 0&&(Nt=new hx,U[mt]=Nt),Nt.getHandSpace()};function ut(mt){const Nt=P.indexOf(mt.inputSource);if(Nt===-1)return;const kt=U[Nt];kt!==void 0&&(kt.update(mt.inputSource,mt.frame,p||o),kt.dispatchEvent({type:mt.type,data:mt.inputSource}))}function z(){a.removeEventListener("select",ut),a.removeEventListener("selectstart",ut),a.removeEventListener("selectend",ut),a.removeEventListener("squeeze",ut),a.removeEventListener("squeezestart",ut),a.removeEventListener("squeezeend",ut),a.removeEventListener("end",z),a.removeEventListener("inputsourceschange",q);for(let mt=0;mt<U.length;mt++){const Nt=P[mt];Nt!==null&&(P[mt]=null,U[mt].disconnect(Nt))}it=null,ct=null,E.reset();for(const mt in b)delete b[mt];t.setRenderTarget(D),x=null,_=null,v=null,a=null,N=null,qt.stop(),n.isPresenting=!1,t.setPixelRatio(V),t.setSize(F.width,F.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(mt){s=mt,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(mt){u=mt,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||o},this.setReferenceSpace=function(mt){p=mt},this.getBaseLayer=function(){return _!==null?_:x},this.getBinding=function(){return v===null&&A&&(v=new XRWebGLBinding(a,e)),v},this.getFrame=function(){return T},this.getSession=function(){return a},this.setSession=async function(mt){if(a=mt,a!==null){if(D=t.getRenderTarget(),a.addEventListener("select",ut),a.addEventListener("selectstart",ut),a.addEventListener("selectend",ut),a.addEventListener("squeeze",ut),a.addEventListener("squeezestart",ut),a.addEventListener("squeezeend",ut),a.addEventListener("end",z),a.addEventListener("inputsourceschange",q),R.xrCompatible!==!0&&await e.makeXRCompatible(),V=t.getPixelRatio(),t.getSize(F),A&&"createProjectionLayer"in XRWebGLBinding.prototype){let kt=null,he=null,ce=null;R.depth&&(ce=R.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,kt=R.stencil?Jp:Qp,he=R.stencil?Kp:Du);const Xe={colorFormat:e.RGBA8,depthFormat:ce,scaleFactor:s};v=this.getBinding(),_=v.createProjectionLayer(Xe),a.updateRenderState({layers:[_]}),t.setPixelRatio(1),t.setSize(_.textureWidth,_.textureHeight,!1),N=new zl(_.textureWidth,_.textureHeight,{format:Za,type:no,depthTexture:new QE(_.textureWidth,_.textureHeight,he,void 0,void 0,void 0,void 0,void 0,void 0,kt),stencilBuffer:R.stencil,colorSpace:t.outputColorSpace,samples:R.antialias?4:0,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}else{const kt={antialias:R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:s};x=new XRWebGLLayer(a,e,kt),a.updateRenderState({baseLayer:x}),t.setPixelRatio(1),t.setSize(x.framebufferWidth,x.framebufferHeight,!1),N=new zl(x.framebufferWidth,x.framebufferHeight,{format:Za,type:no,colorSpace:t.outputColorSpace,stencilBuffer:R.stencil,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}N.isXRRenderTarget=!0,this.setFoveation(h),p=null,o=await a.requestReferenceSpace(u),qt.setContext(a),qt.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return E.getDepthTexture()};function q(mt){for(let Nt=0;Nt<mt.removed.length;Nt++){const kt=mt.removed[Nt],he=P.indexOf(kt);he>=0&&(P[he]=null,U[he].disconnect(kt))}for(let Nt=0;Nt<mt.added.length;Nt++){const kt=mt.added[Nt];let he=P.indexOf(kt);if(he===-1){for(let Xe=0;Xe<U.length;Xe++)if(Xe>=P.length){P.push(kt),he=Xe;break}else if(P[Xe]===null){P[Xe]=kt,he=Xe;break}if(he===-1)break}const ce=U[he];ce&&ce.connect(kt)}}const j=new K,rt=new K;function k(mt,Nt,kt){j.setFromMatrixPosition(Nt.matrixWorld),rt.setFromMatrixPosition(kt.matrixWorld);const he=j.distanceTo(rt),ce=Nt.projectionMatrix.elements,Xe=kt.projectionMatrix.elements,hn=ce[14]/(ce[10]-1),Q=ce[14]/(ce[10]+1),Vt=(ce[9]+1)/ce[5],Bt=(ce[9]-1)/ce[5],Pt=(ce[8]-1)/ce[0],Dt=(Xe[8]+1)/Xe[0],ne=hn*Pt,Xt=hn*Dt,Wt=he/(-Pt+Dt),we=Wt*-Pt;if(Nt.matrixWorld.decompose(mt.position,mt.quaternion,mt.scale),mt.translateX(we),mt.translateZ(Wt),mt.matrixWorld.compose(mt.position,mt.quaternion,mt.scale),mt.matrixWorldInverse.copy(mt.matrixWorld).invert(),ce[10]===-1)mt.projectionMatrix.copy(Nt.projectionMatrix),mt.projectionMatrixInverse.copy(Nt.projectionMatrixInverse);else{const ze=hn+Wt,Z=Q+Wt,H=ne-we,pt=Xt+(he-we),At=Vt*Q/Z*ze,Lt=Bt*Q/Z*ze;mt.projectionMatrix.makePerspective(H,pt,At,Lt,ze,Z),mt.projectionMatrixInverse.copy(mt.projectionMatrix).invert()}}function nt(mt,Nt){Nt===null?mt.matrixWorld.copy(mt.matrix):mt.matrixWorld.multiplyMatrices(Nt.matrixWorld,mt.matrix),mt.matrixWorldInverse.copy(mt.matrixWorld).invert()}this.updateCamera=function(mt){if(a===null)return;let Nt=mt.near,kt=mt.far;E.texture!==null&&(E.depthNear>0&&(Nt=E.depthNear),E.depthFar>0&&(kt=E.depthFar)),$.near=B.near=L.near=Nt,$.far=B.far=L.far=kt,(it!==$.near||ct!==$.far)&&(a.updateRenderState({depthNear:$.near,depthFar:$.far}),it=$.near,ct=$.far),$.layers.mask=mt.layers.mask|6,L.layers.mask=$.layers.mask&3,B.layers.mask=$.layers.mask&5;const he=mt.parent,ce=$.cameras;nt($,he);for(let Xe=0;Xe<ce.length;Xe++)nt(ce[Xe],he);ce.length===2?k($,L,B):$.projectionMatrix.copy(L.projectionMatrix),_t(mt,$,he)};function _t(mt,Nt,kt){kt===null?mt.matrix.copy(Nt.matrixWorld):(mt.matrix.copy(kt.matrixWorld),mt.matrix.invert(),mt.matrix.multiply(Nt.matrixWorld)),mt.matrix.decompose(mt.position,mt.quaternion,mt.scale),mt.updateMatrixWorld(!0),mt.projectionMatrix.copy(Nt.projectionMatrix),mt.projectionMatrixInverse.copy(Nt.projectionMatrixInverse),mt.isPerspectiveCamera&&(mt.fov=tm*2*Math.atan(1/mt.projectionMatrix.elements[5]),mt.zoom=1)}this.getCamera=function(){return $},this.getFoveation=function(){if(!(_===null&&x===null))return h},this.setFoveation=function(mt){h=mt,_!==null&&(_.fixedFoveation=mt),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=mt)},this.hasDepthSensing=function(){return E.texture!==null},this.getDepthSensingMesh=function(){return E.getMesh($)},this.getCameraTexture=function(mt){return b[mt]};let wt=null;function Rt(mt,Nt){if(m=Nt.getViewerPose(p||o),T=Nt,m!==null){const kt=m.views;x!==null&&(t.setRenderTargetFramebuffer(N,x.framebuffer),t.setRenderTarget(N));let he=!1;kt.length!==$.cameras.length&&($.cameras.length=0,he=!0);for(let Q=0;Q<kt.length;Q++){const Vt=kt[Q];let Bt=null;if(x!==null)Bt=x.getViewport(Vt);else{const Dt=v.getViewSubImage(_,Vt);Bt=Dt.viewport,Q===0&&(t.setRenderTargetTextures(N,Dt.colorTexture,Dt.depthStencilTexture),t.setRenderTarget(N))}let Pt=W[Q];Pt===void 0&&(Pt=new _a,Pt.layers.enable(Q),Pt.viewport=new Tn,W[Q]=Pt),Pt.matrix.fromArray(Vt.transform.matrix),Pt.matrix.decompose(Pt.position,Pt.quaternion,Pt.scale),Pt.projectionMatrix.fromArray(Vt.projectionMatrix),Pt.projectionMatrixInverse.copy(Pt.projectionMatrix).invert(),Pt.viewport.set(Bt.x,Bt.y,Bt.width,Bt.height),Q===0&&($.matrix.copy(Pt.matrix),$.matrix.decompose($.position,$.quaternion,$.scale)),he===!0&&$.cameras.push(Pt)}const ce=a.enabledFeatures;if(ce&&ce.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&A){v=n.getBinding();const Q=v.getDepthInformation(kt[0]);Q&&Q.isValid&&Q.texture&&E.init(Q,a.renderState)}if(ce&&ce.includes("camera-access")&&A){t.state.unbindTexture(),v=n.getBinding();for(let Q=0;Q<kt.length;Q++){const Vt=kt[Q].camera;if(Vt){let Bt=b[Vt];Bt||(Bt=new JE,b[Vt]=Bt);const Pt=v.getCameraImage(Vt);Bt.sourceTexture=Pt}}}}for(let kt=0;kt<U.length;kt++){const he=P[kt],ce=U[kt];he!==null&&ce!==void 0&&ce.update(he,Nt,p||o)}wt&&wt(mt,Nt),Nt.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:Nt}),T=null}const qt=new JO;qt.setAnimationLoop(Rt),this.setAnimationLoop=function(mt){wt=mt},this.dispose=function(){}}}const yh=new br,V9=new ke;function H9(i,t){function e(E,b){E.matrixAutoUpdate===!0&&E.updateMatrix(),b.value.copy(E.matrix)}function n(E,b){b.color.getRGB(E.fogColor.value,KN(i)),b.isFog?(E.fogNear.value=b.near,E.fogFar.value=b.far):b.isFogExp2&&(E.fogDensity.value=b.density)}function a(E,b,R,D,N){b.isMeshBasicMaterial||b.isMeshLambertMaterial?s(E,b):b.isMeshToonMaterial?(s(E,b),v(E,b)):b.isMeshPhongMaterial?(s(E,b),m(E,b)):b.isMeshStandardMaterial?(s(E,b),_(E,b),b.isMeshPhysicalMaterial&&x(E,b,N)):b.isMeshMatcapMaterial?(s(E,b),T(E,b)):b.isMeshDepthMaterial?s(E,b):b.isMeshDistanceMaterial?(s(E,b),A(E,b)):b.isMeshNormalMaterial?s(E,b):b.isLineBasicMaterial?(o(E,b),b.isLineDashedMaterial&&u(E,b)):b.isPointsMaterial?h(E,b,R,D):b.isSpriteMaterial?p(E,b):b.isShadowMaterial?(E.color.value.copy(b.color),E.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function s(E,b){E.opacity.value=b.opacity,b.color&&E.diffuse.value.copy(b.color),b.emissive&&E.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(E.map.value=b.map,e(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,e(b.alphaMap,E.alphaMapTransform)),b.bumpMap&&(E.bumpMap.value=b.bumpMap,e(b.bumpMap,E.bumpMapTransform),E.bumpScale.value=b.bumpScale,b.side===Es&&(E.bumpScale.value*=-1)),b.normalMap&&(E.normalMap.value=b.normalMap,e(b.normalMap,E.normalMapTransform),E.normalScale.value.copy(b.normalScale),b.side===Es&&E.normalScale.value.negate()),b.displacementMap&&(E.displacementMap.value=b.displacementMap,e(b.displacementMap,E.displacementMapTransform),E.displacementScale.value=b.displacementScale,E.displacementBias.value=b.displacementBias),b.emissiveMap&&(E.emissiveMap.value=b.emissiveMap,e(b.emissiveMap,E.emissiveMapTransform)),b.specularMap&&(E.specularMap.value=b.specularMap,e(b.specularMap,E.specularMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest);const R=t.get(b),D=R.envMap,N=R.envMapRotation;D&&(E.envMap.value=D,yh.copy(N),yh.x*=-1,yh.y*=-1,yh.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(yh.y*=-1,yh.z*=-1),E.envMapRotation.value.setFromMatrix4(V9.makeRotationFromEuler(yh)),E.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=b.reflectivity,E.ior.value=b.ior,E.refractionRatio.value=b.refractionRatio),b.lightMap&&(E.lightMap.value=b.lightMap,E.lightMapIntensity.value=b.lightMapIntensity,e(b.lightMap,E.lightMapTransform)),b.aoMap&&(E.aoMap.value=b.aoMap,E.aoMapIntensity.value=b.aoMapIntensity,e(b.aoMap,E.aoMapTransform))}function o(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,b.map&&(E.map.value=b.map,e(b.map,E.mapTransform))}function u(E,b){E.dashSize.value=b.dashSize,E.totalSize.value=b.dashSize+b.gapSize,E.scale.value=b.scale}function h(E,b,R,D){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.size.value=b.size*R,E.scale.value=D*.5,b.map&&(E.map.value=b.map,e(b.map,E.uvTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,e(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function p(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.rotation.value=b.rotation,b.map&&(E.map.value=b.map,e(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,e(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function m(E,b){E.specular.value.copy(b.specular),E.shininess.value=Math.max(b.shininess,1e-4)}function v(E,b){b.gradientMap&&(E.gradientMap.value=b.gradientMap)}function _(E,b){E.metalness.value=b.metalness,b.metalnessMap&&(E.metalnessMap.value=b.metalnessMap,e(b.metalnessMap,E.metalnessMapTransform)),E.roughness.value=b.roughness,b.roughnessMap&&(E.roughnessMap.value=b.roughnessMap,e(b.roughnessMap,E.roughnessMapTransform)),b.envMap&&(E.envMapIntensity.value=b.envMapIntensity)}function x(E,b,R){E.ior.value=b.ior,b.sheen>0&&(E.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),E.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(E.sheenColorMap.value=b.sheenColorMap,e(b.sheenColorMap,E.sheenColorMapTransform)),b.sheenRoughnessMap&&(E.sheenRoughnessMap.value=b.sheenRoughnessMap,e(b.sheenRoughnessMap,E.sheenRoughnessMapTransform))),b.clearcoat>0&&(E.clearcoat.value=b.clearcoat,E.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(E.clearcoatMap.value=b.clearcoatMap,e(b.clearcoatMap,E.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,e(b.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(E.clearcoatNormalMap.value=b.clearcoatNormalMap,e(b.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Es&&E.clearcoatNormalScale.value.negate())),b.dispersion>0&&(E.dispersion.value=b.dispersion),b.iridescence>0&&(E.iridescence.value=b.iridescence,E.iridescenceIOR.value=b.iridescenceIOR,E.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(E.iridescenceMap.value=b.iridescenceMap,e(b.iridescenceMap,E.iridescenceMapTransform)),b.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=b.iridescenceThicknessMap,e(b.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),b.transmission>0&&(E.transmission.value=b.transmission,E.transmissionSamplerMap.value=R.texture,E.transmissionSamplerSize.value.set(R.width,R.height),b.transmissionMap&&(E.transmissionMap.value=b.transmissionMap,e(b.transmissionMap,E.transmissionMapTransform)),E.thickness.value=b.thickness,b.thicknessMap&&(E.thicknessMap.value=b.thicknessMap,e(b.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=b.attenuationDistance,E.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(E.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(E.anisotropyMap.value=b.anisotropyMap,e(b.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=b.specularIntensity,E.specularColor.value.copy(b.specularColor),b.specularColorMap&&(E.specularColorMap.value=b.specularColorMap,e(b.specularColorMap,E.specularColorMapTransform)),b.specularIntensityMap&&(E.specularIntensityMap.value=b.specularIntensityMap,e(b.specularIntensityMap,E.specularIntensityMapTransform))}function T(E,b){b.matcap&&(E.matcap.value=b.matcap)}function A(E,b){const R=t.get(b).light;E.referencePosition.value.setFromMatrixPosition(R.matrixWorld),E.nearDistance.value=R.shadow.camera.near,E.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:a}}function G9(i,t,e,n){let a={},s={},o=[];const u=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function h(R,D){const N=D.program;n.uniformBlockBinding(R,N)}function p(R,D){let N=a[R.id];N===void 0&&(T(R),N=m(R),a[R.id]=N,R.addEventListener("dispose",E));const U=D.program;n.updateUBOMapping(R,U);const P=t.render.frame;s[R.id]!==P&&(_(R),s[R.id]=P)}function m(R){const D=v();R.__bindingPointIndex=D;const N=i.createBuffer(),U=R.__size,P=R.usage;return i.bindBuffer(i.UNIFORM_BUFFER,N),i.bufferData(i.UNIFORM_BUFFER,U,P),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,D,N),N}function v(){for(let R=0;R<u;R++)if(o.indexOf(R)===-1)return o.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(R){const D=a[R.id],N=R.uniforms,U=R.__cache;i.bindBuffer(i.UNIFORM_BUFFER,D);for(let P=0,F=N.length;P<F;P++){const V=Array.isArray(N[P])?N[P]:[N[P]];for(let L=0,B=V.length;L<B;L++){const W=V[L];if(x(W,P,L,U)===!0){const $=W.__offset,it=Array.isArray(W.value)?W.value:[W.value];let ct=0;for(let ut=0;ut<it.length;ut++){const z=it[ut],q=A(z);typeof z=="number"||typeof z=="boolean"?(W.__data[0]=z,i.bufferSubData(i.UNIFORM_BUFFER,$+ct,W.__data)):z.isMatrix3?(W.__data[0]=z.elements[0],W.__data[1]=z.elements[1],W.__data[2]=z.elements[2],W.__data[3]=0,W.__data[4]=z.elements[3],W.__data[5]=z.elements[4],W.__data[6]=z.elements[5],W.__data[7]=0,W.__data[8]=z.elements[6],W.__data[9]=z.elements[7],W.__data[10]=z.elements[8],W.__data[11]=0):(z.toArray(W.__data,ct),ct+=q.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,$,W.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function x(R,D,N,U){const P=R.value,F=D+"_"+N;if(U[F]===void 0)return typeof P=="number"||typeof P=="boolean"?U[F]=P:U[F]=P.clone(),!0;{const V=U[F];if(typeof P=="number"||typeof P=="boolean"){if(V!==P)return U[F]=P,!0}else if(V.equals(P)===!1)return V.copy(P),!0}return!1}function T(R){const D=R.uniforms;let N=0;const U=16;for(let F=0,V=D.length;F<V;F++){const L=Array.isArray(D[F])?D[F]:[D[F]];for(let B=0,W=L.length;B<W;B++){const $=L[B],it=Array.isArray($.value)?$.value:[$.value];for(let ct=0,ut=it.length;ct<ut;ct++){const z=it[ct],q=A(z),j=N%U,rt=j%q.boundary,k=j+rt;N+=rt,k!==0&&U-k<q.storage&&(N+=U-k),$.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=N,N+=q.storage}}}const P=N%U;return P>0&&(N+=U-P),R.__size=N,R.__cache={},this}function A(R){const D={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(D.boundary=4,D.storage=4):R.isVector2?(D.boundary=8,D.storage=8):R.isVector3||R.isColor?(D.boundary=16,D.storage=12):R.isVector4?(D.boundary=16,D.storage=16):R.isMatrix3?(D.boundary=48,D.storage=48):R.isMatrix4?(D.boundary=64,D.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),D}function E(R){const D=R.target;D.removeEventListener("dispose",E);const N=o.indexOf(D.__bindingPointIndex);o.splice(N,1),i.deleteBuffer(a[D.id]),delete a[D.id],delete s[D.id]}function b(){for(const R in a)i.deleteBuffer(a[R]);o=[],a={},s={}}return{bind:h,update:p,dispose:b}}class aU{constructor(t={}){const{canvas:e=jN(),context:n=null,depth:a=!0,stencil:s=!1,alpha:o=!1,antialias:u=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1,reversedDepthBuffer:_=!1}=t;this.isWebGLRenderer=!0;let x;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");x=n.getContextAttributes().alpha}else x=o;const T=new Uint32Array(4),A=new Int32Array(4);let E=null,b=null;const R=[],D=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Nl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const N=this;let U=!1;this._outputColorSpace=ja;let P=0,F=0,V=null,L=-1,B=null;const W=new Tn,$=new Tn;let it=null;const ct=new pe(0);let ut=0,z=e.width,q=e.height,j=1,rt=null,k=null;const nt=new Tn(0,0,z,q),_t=new Tn(0,0,z,q);let wt=!1;const Rt=new xm;let qt=!1,mt=!1;const Nt=new ke,kt=new K,he=new Tn,ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Xe=!1;function hn(){return V===null?j:1}let Q=n;function Vt(X,lt){return e.getContext(X,lt)}try{const X={alpha:!0,depth:a,stencil:s,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${z1}`),e.addEventListener("webglcontextlost",te,!1),e.addEventListener("webglcontextrestored",fe,!1),e.addEventListener("webglcontextcreationerror",Yt,!1),Q===null){const lt="webgl2";if(Q=Vt(lt,X),Q===null)throw Vt(lt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let Bt,Pt,Dt,ne,Xt,Wt,we,ze,Z,H,pt,At,Lt,Ct,re,$t,me,ge,Gt,ie,be,ve,ae,Be;function ot(){Bt=new t7(Q),Bt.init(),ve=new iU(Q,Bt),Pt=new jH(Q,Bt,t,ve),Dt=new L9(Q,Bt),Pt.reversedDepthBuffer&&_&&Dt.buffers.depth.setReversed(!0),ne=new i7(Q),Xt=new S9,Wt=new P9(Q,Bt,Dt,Xt,Pt,ve,ne),we=new ZH(N),ze=new $H(N),Z=new uV(Q),ae=new qH(Q,Z),H=new e7(Q,Z,ne,ae),pt=new s7(Q,H,Z,ne),Gt=new a7(Q,Pt,Wt),$t=new WH(Xt),At=new x9(N,we,ze,Bt,Pt,ae,$t),Lt=new H9(N,Xt),Ct=new M9,re=new R9(Bt),ge=new XH(N,we,ze,Dt,pt,x,h),me=new O9(N,pt,Pt),Be=new G9(Q,ne,Pt,Dt),ie=new YH(Q,Bt,ne),be=new n7(Q,Bt,ne),ne.programs=At.programs,N.capabilities=Pt,N.extensions=Bt,N.properties=Xt,N.renderLists=Ct,N.shadowMap=me,N.state=Dt,N.info=ne}ot();const Zt=new F9(N,Q);this.xr=Zt,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const X=Bt.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=Bt.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(X){X!==void 0&&(j=X,this.setSize(z,q,!1))},this.getSize=function(X){return X.set(z,q)},this.setSize=function(X,lt,vt=!0){if(Zt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=X,q=lt,e.width=Math.floor(X*j),e.height=Math.floor(lt*j),vt===!0&&(e.style.width=X+"px",e.style.height=lt+"px"),this.setViewport(0,0,X,lt)},this.getDrawingBufferSize=function(X){return X.set(z*j,q*j).floor()},this.setDrawingBufferSize=function(X,lt,vt){z=X,q=lt,j=vt,e.width=Math.floor(X*vt),e.height=Math.floor(lt*vt),this.setViewport(0,0,X,lt)},this.getCurrentViewport=function(X){return X.copy(W)},this.getViewport=function(X){return X.copy(nt)},this.setViewport=function(X,lt,vt,Tt){X.isVector4?nt.set(X.x,X.y,X.z,X.w):nt.set(X,lt,vt,Tt),Dt.viewport(W.copy(nt).multiplyScalar(j).round())},this.getScissor=function(X){return X.copy(_t)},this.setScissor=function(X,lt,vt,Tt){X.isVector4?_t.set(X.x,X.y,X.z,X.w):_t.set(X,lt,vt,Tt),Dt.scissor($.copy(_t).multiplyScalar(j).round())},this.getScissorTest=function(){return wt},this.setScissorTest=function(X){Dt.setScissorTest(wt=X)},this.setOpaqueSort=function(X){rt=X},this.setTransparentSort=function(X){k=X},this.getClearColor=function(X){return X.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor(...arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha(...arguments)},this.clear=function(X=!0,lt=!0,vt=!0){let Tt=0;if(X){let ht=!1;if(V!==null){const jt=V.texture.format;ht=jt===X1||jt===k1||jt===mv}if(ht){const jt=V.texture.type,ee=jt===no||jt===Du||jt===Zp||jt===Kp||jt===V1||jt===H1,de=ge.getClearColor(),se=ge.getClearAlpha(),Te=de.r,De=de.g,Se=de.b;ee?(T[0]=Te,T[1]=De,T[2]=Se,T[3]=se,Q.clearBufferuiv(Q.COLOR,0,T)):(A[0]=Te,A[1]=De,A[2]=Se,A[3]=se,Q.clearBufferiv(Q.COLOR,0,A))}else Tt|=Q.COLOR_BUFFER_BIT}lt&&(Tt|=Q.DEPTH_BUFFER_BIT),vt&&(Tt|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(Tt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",te,!1),e.removeEventListener("webglcontextrestored",fe,!1),e.removeEventListener("webglcontextcreationerror",Yt,!1),ge.dispose(),Ct.dispose(),re.dispose(),Xt.dispose(),we.dispose(),ze.dispose(),pt.dispose(),ae.dispose(),Be.dispose(),At.dispose(),Zt.dispose(),Zt.removeEventListener("sessionstart",xi),Zt.removeEventListener("sessionend",Si),Jn.stop()};function te(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),U=!0}function fe(){console.log("THREE.WebGLRenderer: Context Restored."),U=!1;const X=ne.autoReset,lt=me.enabled,vt=me.autoUpdate,Tt=me.needsUpdate,ht=me.type;ot(),ne.autoReset=X,me.enabled=lt,me.autoUpdate=vt,me.needsUpdate=Tt,me.type=ht}function Yt(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function It(X){const lt=X.target;lt.removeEventListener("dispose",It),ye(lt)}function ye(X){Oe(X),Xt.remove(X)}function Oe(X){const lt=Xt.get(X).programs;lt!==void 0&&(lt.forEach(function(vt){At.releaseProgram(vt)}),X.isShaderMaterial&&At.releaseShaderCache(X))}this.renderBufferDirect=function(X,lt,vt,Tt,ht,jt){lt===null&&(lt=ce);const ee=ht.isMesh&&ht.matrixWorld.determinant()<0,de=Ar(X,lt,vt,Tt,ht);Dt.setMaterial(Tt,ee);let se=vt.index,Te=1;if(Tt.wireframe===!0){if(se=H.getWireframeAttribute(vt),se===void 0)return;Te=2}const De=vt.drawRange,Se=vt.attributes.position;let Ke=De.start*Te,mn=(De.start+De.count)*Te;jt!==null&&(Ke=Math.max(Ke,jt.start*Te),mn=Math.min(mn,(jt.start+jt.count)*Te)),se!==null?(Ke=Math.max(Ke,0),mn=Math.min(mn,se.count)):Se!=null&&(Ke=Math.max(Ke,0),mn=Math.min(mn,Se.count));const Yn=mn-Ke;if(Yn<0||Yn===1/0)return;ae.setup(ht,Tt,de,vt,se);let Dn,je=ie;if(se!==null&&(Dn=Z.get(se),je=be,je.setIndex(Dn)),ht.isMesh)Tt.wireframe===!0?(Dt.setLineWidth(Tt.wireframeLinewidth*hn()),je.setMode(Q.LINES)):je.setMode(Q.TRIANGLES);else if(ht.isLine){let Ee=Tt.linewidth;Ee===void 0&&(Ee=1),Dt.setLineWidth(Ee*hn()),ht.isLineSegments?je.setMode(Q.LINES):ht.isLineLoop?je.setMode(Q.LINE_LOOP):je.setMode(Q.LINE_STRIP)}else ht.isPoints?je.setMode(Q.POINTS):ht.isSprite&&je.setMode(Q.TRIANGLES);if(ht.isBatchedMesh)if(ht._multiDrawInstances!==null)G0("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),je.renderMultiDrawInstances(ht._multiDrawStarts,ht._multiDrawCounts,ht._multiDrawCount,ht._multiDrawInstances);else if(Bt.get("WEBGL_multi_draw"))je.renderMultiDraw(ht._multiDrawStarts,ht._multiDrawCounts,ht._multiDrawCount);else{const Ee=ht._multiDrawStarts,jn=ht._multiDrawCounts,sn=ht._multiDrawCount,Ki=se?Z.get(se).bytesPerElement:1,Rs=Xt.get(Tt).currentProgram.getUniforms();for(let Qi=0;Qi<sn;Qi++)Rs.setValue(Q,"_gl_DrawID",Qi),je.render(Ee[Qi]/Ki,jn[Qi])}else if(ht.isInstancedMesh)je.renderInstances(Ke,Yn,ht.count);else if(vt.isInstancedBufferGeometry){const Ee=vt._maxInstanceCount!==void 0?vt._maxInstanceCount:1/0,jn=Math.min(vt.instanceCount,Ee);je.renderInstances(Ke,Yn,jn)}else je.render(Ke,Yn)};function dn(X,lt,vt){X.transparent===!0&&X.side===El&&X.forceSinglePass===!1?(X.side=Es,X.needsUpdate=!0,is(X,lt,vt),X.side=Cu,X.needsUpdate=!0,is(X,lt,vt),X.side=El):is(X,lt,vt)}this.compile=function(X,lt,vt=null){vt===null&&(vt=X),b=re.get(vt),b.init(lt),D.push(b),vt.traverseVisible(function(ht){ht.isLight&&ht.layers.test(lt.layers)&&(b.pushLight(ht),ht.castShadow&&b.pushShadow(ht))}),X!==vt&&X.traverseVisible(function(ht){ht.isLight&&ht.layers.test(lt.layers)&&(b.pushLight(ht),ht.castShadow&&b.pushShadow(ht))}),b.setupLights();const Tt=new Set;return X.traverse(function(ht){if(!(ht.isMesh||ht.isPoints||ht.isLine||ht.isSprite))return;const jt=ht.material;if(jt)if(Array.isArray(jt))for(let ee=0;ee<jt.length;ee++){const de=jt[ee];dn(de,vt,ht),Tt.add(de)}else dn(jt,vt,ht),Tt.add(jt)}),b=D.pop(),Tt},this.compileAsync=function(X,lt,vt=null){const Tt=this.compile(X,lt,vt);return new Promise(ht=>{function jt(){if(Tt.forEach(function(ee){Xt.get(ee).currentProgram.isReady()&&Tt.delete(ee)}),Tt.size===0){ht(X);return}setTimeout(jt,10)}Bt.get("KHR_parallel_shader_compile")!==null?jt():setTimeout(jt,10)})};let ln=null;function ws(X){ln&&ln(X)}function xi(){Jn.stop()}function Si(){Jn.start()}const Jn=new JO;Jn.setAnimationLoop(ws),typeof self<"u"&&Jn.setContext(self),this.setAnimationLoop=function(X){ln=X,Zt.setAnimationLoop(X),X===null?Jn.stop():Jn.start()},Zt.addEventListener("sessionstart",xi),Zt.addEventListener("sessionend",Si),this.render=function(X,lt){if(lt!==void 0&&lt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;if(X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),lt.parent===null&&lt.matrixWorldAutoUpdate===!0&&lt.updateMatrixWorld(),Zt.enabled===!0&&Zt.isPresenting===!0&&(Zt.cameraAutoUpdate===!0&&Zt.updateCamera(lt),lt=Zt.getCamera()),X.isScene===!0&&X.onBeforeRender(N,X,lt,V),b=re.get(X,D.length),b.init(lt),D.push(b),Nt.multiplyMatrices(lt.projectionMatrix,lt.matrixWorldInverse),Rt.setFromProjectionMatrix(Nt,yr,lt.reversedDepth),mt=this.localClippingEnabled,qt=$t.init(this.clippingPlanes,mt),E=Ct.get(X,R.length),E.init(),R.push(E),Zt.enabled===!0&&Zt.isPresenting===!0){const jt=N.xr.getDepthSensingMesh();jt!==null&&Cs(jt,lt,-1/0,N.sortObjects)}Cs(X,lt,0,N.sortObjects),E.finish(),N.sortObjects===!0&&E.sort(rt,k),Xe=Zt.enabled===!1||Zt.isPresenting===!1||Zt.hasDepthSensing()===!1,Xe&&ge.addToRenderList(E,X),this.info.render.frame++,qt===!0&&$t.beginShadows();const vt=b.state.shadowsArray;me.render(vt,X,lt),qt===!0&&$t.endShadows(),this.info.autoReset===!0&&this.info.reset();const Tt=E.opaque,ht=E.transmissive;if(b.setupLights(),lt.isArrayCamera){const jt=lt.cameras;if(ht.length>0)for(let ee=0,de=jt.length;ee<de;ee++){const se=jt[ee];df(Tt,ht,X,se)}Xe&&ge.render(X);for(let ee=0,de=jt.length;ee<de;ee++){const se=jt[ee];ts(E,X,se,se.viewport)}}else ht.length>0&&df(Tt,ht,X,lt),Xe&&ge.render(X),ts(E,X,lt);V!==null&&F===0&&(Wt.updateMultisampleRenderTarget(V),Wt.updateRenderTargetMipmap(V)),X.isScene===!0&&X.onAfterRender(N,X,lt),ae.resetDefaultState(),L=-1,B=null,D.pop(),D.length>0?(b=D[D.length-1],qt===!0&&$t.setGlobalState(N.clippingPlanes,b.state.camera)):b=null,R.pop(),R.length>0?E=R[R.length-1]:E=null};function Cs(X,lt,vt,Tt){if(X.visible===!1)return;if(X.layers.test(lt.layers)){if(X.isGroup)vt=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(lt);else if(X.isLight)b.pushLight(X),X.castShadow&&b.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||Rt.intersectsSprite(X)){Tt&&he.setFromMatrixPosition(X.matrixWorld).applyMatrix4(Nt);const ee=pt.update(X),de=X.material;de.visible&&E.push(X,ee,de,vt,he.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||Rt.intersectsObject(X))){const ee=pt.update(X),de=X.material;if(Tt&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),he.copy(X.boundingSphere.center)):(ee.boundingSphere===null&&ee.computeBoundingSphere(),he.copy(ee.boundingSphere.center)),he.applyMatrix4(X.matrixWorld).applyMatrix4(Nt)),Array.isArray(de)){const se=ee.groups;for(let Te=0,De=se.length;Te<De;Te++){const Se=se[Te],Ke=de[Se.materialIndex];Ke&&Ke.visible&&E.push(X,ee,Ke,vt,he.z,Se)}}else de.visible&&E.push(X,ee,de,vt,he.z,null)}}const jt=X.children;for(let ee=0,de=jt.length;ee<de;ee++)Cs(jt[ee],lt,vt,Tt)}function ts(X,lt,vt,Tt){const ht=X.opaque,jt=X.transmissive,ee=X.transparent;b.setupLightsView(vt),qt===!0&&$t.setGlobalState(N.clippingPlanes,vt),Tt&&Dt.viewport(W.copy(Tt)),ht.length>0&&es(ht,lt,vt),jt.length>0&&es(jt,lt,vt),ee.length>0&&es(ee,lt,vt),Dt.buffers.depth.setTest(!0),Dt.buffers.depth.setMask(!0),Dt.buffers.color.setMask(!0),Dt.setPolygonOffset(!1)}function df(X,lt,vt,Tt){if((vt.isScene===!0?vt.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[Tt.id]===void 0&&(b.state.transmissionRenderTarget[Tt.id]=new zl(1,1,{generateMipmaps:!0,type:Bt.has("EXT_color_buffer_half_float")||Bt.has("EXT_color_buffer_float")?ym:no,minFilter:wl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:_n.workingColorSpace}));const jt=b.state.transmissionRenderTarget[Tt.id],ee=Tt.viewport||W;jt.setSize(ee.z*N.transmissionResolutionScale,ee.w*N.transmissionResolutionScale);const de=N.getRenderTarget(),se=N.getActiveCubeFace(),Te=N.getActiveMipmapLevel();N.setRenderTarget(jt),N.getClearColor(ct),ut=N.getClearAlpha(),ut<1&&N.setClearColor(16777215,.5),N.clear(),Xe&&ge.render(vt);const De=N.toneMapping;N.toneMapping=Nl;const Se=Tt.viewport;if(Tt.viewport!==void 0&&(Tt.viewport=void 0),b.setupLightsView(Tt),qt===!0&&$t.setGlobalState(N.clippingPlanes,Tt),es(X,vt,Tt),Wt.updateMultisampleRenderTarget(jt),Wt.updateRenderTargetMipmap(jt),Bt.has("WEBGL_multisampled_render_to_texture")===!1){let Ke=!1;for(let mn=0,Yn=lt.length;mn<Yn;mn++){const Dn=lt[mn],je=Dn.object,Ee=Dn.geometry,jn=Dn.material,sn=Dn.group;if(jn.side===El&&je.layers.test(Tt.layers)){const Ki=jn.side;jn.side=Es,jn.needsUpdate=!0,ns(je,vt,Tt,Ee,jn,sn),jn.side=Ki,jn.needsUpdate=!0,Ke=!0}}Ke===!0&&(Wt.updateMultisampleRenderTarget(jt),Wt.updateRenderTargetMipmap(jt))}N.setRenderTarget(de,se,Te),N.setClearColor(ct,ut),Se!==void 0&&(Tt.viewport=Se),N.toneMapping=De}function es(X,lt,vt){const Tt=lt.isScene===!0?lt.overrideMaterial:null;for(let ht=0,jt=X.length;ht<jt;ht++){const ee=X[ht],de=ee.object,se=ee.geometry,Te=ee.group;let De=ee.material;De.allowOverride===!0&&Tt!==null&&(De=Tt),de.layers.test(vt.layers)&&ns(de,lt,vt,se,De,Te)}}function ns(X,lt,vt,Tt,ht,jt){X.onBeforeRender(N,lt,vt,Tt,ht,jt),X.modelViewMatrix.multiplyMatrices(vt.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),ht.onBeforeRender(N,lt,vt,Tt,X,jt),ht.transparent===!0&&ht.side===El&&ht.forceSinglePass===!1?(ht.side=Es,ht.needsUpdate=!0,N.renderBufferDirect(vt,lt,Tt,ht,X,jt),ht.side=Cu,ht.needsUpdate=!0,N.renderBufferDirect(vt,lt,Tt,ht,X,jt),ht.side=El):N.renderBufferDirect(vt,lt,Tt,ht,X,jt),X.onAfterRender(N,lt,vt,Tt,ht,jt)}function is(X,lt,vt){lt.isScene!==!0&&(lt=ce);const Tt=Xt.get(X),ht=b.state.lights,jt=b.state.shadowsArray,ee=ht.state.version,de=At.getParameters(X,ht.state,jt,lt,vt),se=At.getProgramCacheKey(de);let Te=Tt.programs;Tt.environment=X.isMeshStandardMaterial?lt.environment:null,Tt.fog=lt.fog,Tt.envMap=(X.isMeshStandardMaterial?ze:we).get(X.envMap||Tt.environment),Tt.envMapRotation=Tt.environment!==null&&X.envMap===null?lt.environmentRotation:X.envMapRotation,Te===void 0&&(X.addEventListener("dispose",It),Te=new Map,Tt.programs=Te);let De=Te.get(se);if(De!==void 0){if(Tt.currentProgram===De&&Tt.lightsStateVersion===ee)return er(X,de),De}else de.uniforms=At.getUniforms(X),X.onBeforeCompile(de,N),De=At.acquireProgram(de,se),Te.set(se,De),Tt.uniforms=de.uniforms;const Se=Tt.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(Se.clippingPlanes=$t.uniform),er(X,de),Tt.needsLights=ao(X),Tt.lightsStateVersion=ee,Tt.needsLights&&(Se.ambientLightColor.value=ht.state.ambient,Se.lightProbe.value=ht.state.probe,Se.directionalLights.value=ht.state.directional,Se.directionalLightShadows.value=ht.state.directionalShadow,Se.spotLights.value=ht.state.spot,Se.spotLightShadows.value=ht.state.spotShadow,Se.rectAreaLights.value=ht.state.rectArea,Se.ltc_1.value=ht.state.rectAreaLTC1,Se.ltc_2.value=ht.state.rectAreaLTC2,Se.pointLights.value=ht.state.point,Se.pointLightShadows.value=ht.state.pointShadow,Se.hemisphereLights.value=ht.state.hemi,Se.directionalShadowMap.value=ht.state.directionalShadowMap,Se.directionalShadowMatrix.value=ht.state.directionalShadowMatrix,Se.spotShadowMap.value=ht.state.spotShadowMap,Se.spotLightMatrix.value=ht.state.spotLightMatrix,Se.spotLightMap.value=ht.state.spotLightMap,Se.pointShadowMap.value=ht.state.pointShadowMap,Se.pointShadowMatrix.value=ht.state.pointShadowMatrix),Tt.currentProgram=De,Tt.uniformsList=null,De}function Fn(X){if(X.uniformsList===null){const lt=X.currentProgram.getUniforms();X.uniformsList=dx.seqWithValue(lt.seq,X.uniforms)}return X.uniformsList}function er(X,lt){const vt=Xt.get(X);vt.outputColorSpace=lt.outputColorSpace,vt.batching=lt.batching,vt.batchingColor=lt.batchingColor,vt.instancing=lt.instancing,vt.instancingColor=lt.instancingColor,vt.instancingMorph=lt.instancingMorph,vt.skinning=lt.skinning,vt.morphTargets=lt.morphTargets,vt.morphNormals=lt.morphNormals,vt.morphColors=lt.morphColors,vt.morphTargetsCount=lt.morphTargetsCount,vt.numClippingPlanes=lt.numClippingPlanes,vt.numIntersection=lt.numClipIntersection,vt.vertexAlphas=lt.vertexAlphas,vt.vertexTangents=lt.vertexTangents,vt.toneMapping=lt.toneMapping}function Ar(X,lt,vt,Tt,ht){lt.isScene!==!0&&(lt=ce),Wt.resetTextureUnits();const jt=lt.fog,ee=Tt.isMeshStandardMaterial?lt.environment:null,de=V===null?N.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:Qc,se=(Tt.isMeshStandardMaterial?ze:we).get(Tt.envMap||ee),Te=Tt.vertexColors===!0&&!!vt.attributes.color&&vt.attributes.color.itemSize===4,De=!!vt.attributes.tangent&&(!!Tt.normalMap||Tt.anisotropy>0),Se=!!vt.morphAttributes.position,Ke=!!vt.morphAttributes.normal,mn=!!vt.morphAttributes.color;let Yn=Nl;Tt.toneMapped&&(V===null||V.isXRRenderTarget===!0)&&(Yn=N.toneMapping);const Dn=vt.morphAttributes.position||vt.morphAttributes.normal||vt.morphAttributes.color,je=Dn!==void 0?Dn.length:0,Ee=Xt.get(Tt),jn=b.state.lights;if(qt===!0&&(mt===!0||X!==B)){const ti=X===B&&Tt.id===L;$t.setState(Tt,X,ti)}let sn=!1;Tt.version===Ee.__version?(Ee.needsLights&&Ee.lightsStateVersion!==jn.state.version||Ee.outputColorSpace!==de||ht.isBatchedMesh&&Ee.batching===!1||!ht.isBatchedMesh&&Ee.batching===!0||ht.isBatchedMesh&&Ee.batchingColor===!0&&ht.colorTexture===null||ht.isBatchedMesh&&Ee.batchingColor===!1&&ht.colorTexture!==null||ht.isInstancedMesh&&Ee.instancing===!1||!ht.isInstancedMesh&&Ee.instancing===!0||ht.isSkinnedMesh&&Ee.skinning===!1||!ht.isSkinnedMesh&&Ee.skinning===!0||ht.isInstancedMesh&&Ee.instancingColor===!0&&ht.instanceColor===null||ht.isInstancedMesh&&Ee.instancingColor===!1&&ht.instanceColor!==null||ht.isInstancedMesh&&Ee.instancingMorph===!0&&ht.morphTexture===null||ht.isInstancedMesh&&Ee.instancingMorph===!1&&ht.morphTexture!==null||Ee.envMap!==se||Tt.fog===!0&&Ee.fog!==jt||Ee.numClippingPlanes!==void 0&&(Ee.numClippingPlanes!==$t.numPlanes||Ee.numIntersection!==$t.numIntersection)||Ee.vertexAlphas!==Te||Ee.vertexTangents!==De||Ee.morphTargets!==Se||Ee.morphNormals!==Ke||Ee.morphColors!==mn||Ee.toneMapping!==Yn||Ee.morphTargetsCount!==je)&&(sn=!0):(sn=!0,Ee.__version=Tt.version);let Ki=Ee.currentProgram;sn===!0&&(Ki=is(Tt,lt,ht));let Rs=!1,Qi=!1,Di=!1;const On=Ki.getUniforms(),ha=Ee.uniforms;if(Dt.useProgram(Ki.program)&&(Rs=!0,Qi=!0,Di=!0),Tt.id!==L&&(L=Tt.id,Qi=!0),Rs||B!==X){Dt.buffers.depth.getReversed()&&X.reversedDepth!==!0&&(X._reversedDepth=!0,X.updateProjectionMatrix()),On.setValue(Q,"projectionMatrix",X.projectionMatrix),On.setValue(Q,"viewMatrix",X.matrixWorldInverse);const $i=On.map.cameraPosition;$i!==void 0&&$i.setValue(Q,kt.setFromMatrixPosition(X.matrixWorld)),Pt.logarithmicDepthBuffer&&On.setValue(Q,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(Tt.isMeshPhongMaterial||Tt.isMeshToonMaterial||Tt.isMeshLambertMaterial||Tt.isMeshBasicMaterial||Tt.isMeshStandardMaterial||Tt.isShaderMaterial)&&On.setValue(Q,"isOrthographic",X.isOrthographicCamera===!0),B!==X&&(B=X,Qi=!0,Di=!0)}if(ht.isSkinnedMesh){On.setOptional(Q,ht,"bindMatrix"),On.setOptional(Q,ht,"bindMatrixInverse");const ti=ht.skeleton;ti&&(ti.boneTexture===null&&ti.computeBoneTexture(),On.setValue(Q,"boneTexture",ti.boneTexture,Wt))}ht.isBatchedMesh&&(On.setOptional(Q,ht,"batchingTexture"),On.setValue(Q,"batchingTexture",ht._matricesTexture,Wt),On.setOptional(Q,ht,"batchingIdTexture"),On.setValue(Q,"batchingIdTexture",ht._indirectTexture,Wt),On.setOptional(Q,ht,"batchingColorTexture"),ht._colorsTexture!==null&&On.setValue(Q,"batchingColorTexture",ht._colorsTexture,Wt));const Ji=vt.morphAttributes;if((Ji.position!==void 0||Ji.normal!==void 0||Ji.color!==void 0)&&Gt.update(ht,vt,Ki),(Qi||Ee.receiveShadow!==ht.receiveShadow)&&(Ee.receiveShadow=ht.receiveShadow,On.setValue(Q,"receiveShadow",ht.receiveShadow)),Tt.isMeshGouraudMaterial&&Tt.envMap!==null&&(ha.envMap.value=se,ha.flipEnvMap.value=se.isCubeTexture&&se.isRenderTargetTexture===!1?-1:1),Tt.isMeshStandardMaterial&&Tt.envMap===null&&lt.environment!==null&&(ha.envMapIntensity.value=lt.environmentIntensity),Qi&&(On.setValue(Q,"toneMappingExposure",N.toneMappingExposure),Ee.needsLights&&Ho(ha,Di),jt&&Tt.fog===!0&&Lt.refreshFogUniforms(ha,jt),Lt.refreshMaterialUniforms(ha,Tt,j,q,b.state.transmissionRenderTarget[X.id]),dx.upload(Q,Fn(Ee),ha,Wt)),Tt.isShaderMaterial&&Tt.uniformsNeedUpdate===!0&&(dx.upload(Q,Fn(Ee),ha,Wt),Tt.uniformsNeedUpdate=!1),Tt.isSpriteMaterial&&On.setValue(Q,"center",ht.center),On.setValue(Q,"modelViewMatrix",ht.modelViewMatrix),On.setValue(Q,"normalMatrix",ht.normalMatrix),On.setValue(Q,"modelMatrix",ht.matrixWorld),Tt.isShaderMaterial||Tt.isRawShaderMaterial){const ti=Tt.uniformsGroups;for(let $i=0,Hl=ti.length;$i<Hl;$i++){const Ni=ti[$i];Be.update(Ni,Ki),Be.bind(Ni,Ki)}}return Ki}function Ho(X,lt){X.ambientLightColor.needsUpdate=lt,X.lightProbe.needsUpdate=lt,X.directionalLights.needsUpdate=lt,X.directionalLightShadows.needsUpdate=lt,X.pointLights.needsUpdate=lt,X.pointLightShadows.needsUpdate=lt,X.spotLights.needsUpdate=lt,X.spotLightShadows.needsUpdate=lt,X.rectAreaLights.needsUpdate=lt,X.hemisphereLights.needsUpdate=lt}function ao(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return F},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function(X,lt,vt){const Tt=Xt.get(X);Tt.__autoAllocateDepthBuffer=X.resolveDepthBuffer===!1,Tt.__autoAllocateDepthBuffer===!1&&(Tt.__useRenderToTexture=!1),Xt.get(X.texture).__webglTexture=lt,Xt.get(X.depthTexture).__webglTexture=Tt.__autoAllocateDepthBuffer?void 0:vt,Tt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(X,lt){const vt=Xt.get(X);vt.__webglFramebuffer=lt,vt.__useDefaultFramebuffer=lt===void 0};const bi=Q.createFramebuffer();this.setRenderTarget=function(X,lt=0,vt=0){V=X,P=lt,F=vt;let Tt=!0,ht=null,jt=!1,ee=!1;if(X){const se=Xt.get(X);if(se.__useDefaultFramebuffer!==void 0)Dt.bindFramebuffer(Q.FRAMEBUFFER,null),Tt=!1;else if(se.__webglFramebuffer===void 0)Wt.setupRenderTarget(X);else if(se.__hasExternalTextures)Wt.rebindTextures(X,Xt.get(X.texture).__webglTexture,Xt.get(X.depthTexture).__webglTexture);else if(X.depthBuffer){const Se=X.depthTexture;if(se.__boundDepthTexture!==Se){if(Se!==null&&Xt.has(Se)&&(X.width!==Se.image.width||X.height!==Se.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Wt.setupDepthRenderbuffer(X)}}const Te=X.texture;(Te.isData3DTexture||Te.isDataArrayTexture||Te.isCompressedArrayTexture)&&(ee=!0);const De=Xt.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(De[lt])?ht=De[lt][vt]:ht=De[lt],jt=!0):X.samples>0&&Wt.useMultisampledRTT(X)===!1?ht=Xt.get(X).__webglMultisampledFramebuffer:Array.isArray(De)?ht=De[vt]:ht=De,W.copy(X.viewport),$.copy(X.scissor),it=X.scissorTest}else W.copy(nt).multiplyScalar(j).floor(),$.copy(_t).multiplyScalar(j).floor(),it=wt;if(vt!==0&&(ht=bi),Dt.bindFramebuffer(Q.FRAMEBUFFER,ht)&&Tt&&Dt.drawBuffers(X,ht),Dt.viewport(W),Dt.scissor($),Dt.setScissorTest(it),jt){const se=Xt.get(X.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+lt,se.__webglTexture,vt)}else if(ee){const se=lt;for(let Te=0;Te<X.textures.length;Te++){const De=Xt.get(X.textures[Te]);Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0+Te,De.__webglTexture,vt,se)}}else if(X!==null&&vt!==0){const se=Xt.get(X.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,se.__webglTexture,vt)}L=-1},this.readRenderTargetPixels=function(X,lt,vt,Tt,ht,jt,ee,de=0){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let se=Xt.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&ee!==void 0&&(se=se[ee]),se){Dt.bindFramebuffer(Q.FRAMEBUFFER,se);try{const Te=X.textures[de],De=Te.format,Se=Te.type;if(!Pt.textureFormatReadable(De)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Pt.textureTypeReadable(Se)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}lt>=0&&lt<=X.width-Tt&&vt>=0&&vt<=X.height-ht&&(X.textures.length>1&&Q.readBuffer(Q.COLOR_ATTACHMENT0+de),Q.readPixels(lt,vt,Tt,ht,ve.convert(De),ve.convert(Se),jt))}finally{const Te=V!==null?Xt.get(V).__webglFramebuffer:null;Dt.bindFramebuffer(Q.FRAMEBUFFER,Te)}}},this.readRenderTargetPixelsAsync=async function(X,lt,vt,Tt,ht,jt,ee,de=0){if(!(X&&X.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let se=Xt.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&ee!==void 0&&(se=se[ee]),se)if(lt>=0&&lt<=X.width-Tt&&vt>=0&&vt<=X.height-ht){Dt.bindFramebuffer(Q.FRAMEBUFFER,se);const Te=X.textures[de],De=Te.format,Se=Te.type;if(!Pt.textureFormatReadable(De))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Pt.textureTypeReadable(Se))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ke=Q.createBuffer();Q.bindBuffer(Q.PIXEL_PACK_BUFFER,Ke),Q.bufferData(Q.PIXEL_PACK_BUFFER,jt.byteLength,Q.STREAM_READ),X.textures.length>1&&Q.readBuffer(Q.COLOR_ATTACHMENT0+de),Q.readPixels(lt,vt,Tt,ht,ve.convert(De),ve.convert(Se),0);const mn=V!==null?Xt.get(V).__webglFramebuffer:null;Dt.bindFramebuffer(Q.FRAMEBUFFER,mn);const Yn=Q.fenceSync(Q.SYNC_GPU_COMMANDS_COMPLETE,0);return Q.flush(),await wI(Q,Yn,4),Q.bindBuffer(Q.PIXEL_PACK_BUFFER,Ke),Q.getBufferSubData(Q.PIXEL_PACK_BUFFER,0,jt),Q.deleteBuffer(Ke),Q.deleteSync(Yn),jt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(X,lt=null,vt=0){const Tt=Math.pow(2,-vt),ht=Math.floor(X.image.width*Tt),jt=Math.floor(X.image.height*Tt),ee=lt!==null?lt.x:0,de=lt!==null?lt.y:0;Wt.setTexture2D(X,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,vt,0,0,ee,de,ht,jt),Dt.unbindTexture()};const Vu=Q.createFramebuffer(),Hu=Q.createFramebuffer();this.copyTextureToTexture=function(X,lt,vt=null,Tt=null,ht=0,jt=null){jt===null&&(ht!==0?(G0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),jt=ht,ht=0):jt=0);let ee,de,se,Te,De,Se,Ke,mn,Yn;const Dn=X.isCompressedTexture?X.mipmaps[jt]:X.image;if(vt!==null)ee=vt.max.x-vt.min.x,de=vt.max.y-vt.min.y,se=vt.isBox3?vt.max.z-vt.min.z:1,Te=vt.min.x,De=vt.min.y,Se=vt.isBox3?vt.min.z:0;else{const Ji=Math.pow(2,-ht);ee=Math.floor(Dn.width*Ji),de=Math.floor(Dn.height*Ji),X.isDataArrayTexture?se=Dn.depth:X.isData3DTexture?se=Math.floor(Dn.depth*Ji):se=1,Te=0,De=0,Se=0}Tt!==null?(Ke=Tt.x,mn=Tt.y,Yn=Tt.z):(Ke=0,mn=0,Yn=0);const je=ve.convert(lt.format),Ee=ve.convert(lt.type);let jn;lt.isData3DTexture?(Wt.setTexture3D(lt,0),jn=Q.TEXTURE_3D):lt.isDataArrayTexture||lt.isCompressedArrayTexture?(Wt.setTexture2DArray(lt,0),jn=Q.TEXTURE_2D_ARRAY):(Wt.setTexture2D(lt,0),jn=Q.TEXTURE_2D),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,lt.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,lt.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,lt.unpackAlignment);const sn=Q.getParameter(Q.UNPACK_ROW_LENGTH),Ki=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),Rs=Q.getParameter(Q.UNPACK_SKIP_PIXELS),Qi=Q.getParameter(Q.UNPACK_SKIP_ROWS),Di=Q.getParameter(Q.UNPACK_SKIP_IMAGES);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Dn.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Dn.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Te),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,De),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,Se);const On=X.isDataArrayTexture||X.isData3DTexture,ha=lt.isDataArrayTexture||lt.isData3DTexture;if(X.isDepthTexture){const Ji=Xt.get(X),ti=Xt.get(lt),$i=Xt.get(Ji.__renderTarget),Hl=Xt.get(ti.__renderTarget);Dt.bindFramebuffer(Q.READ_FRAMEBUFFER,$i.__webglFramebuffer),Dt.bindFramebuffer(Q.DRAW_FRAMEBUFFER,Hl.__webglFramebuffer);for(let Ni=0;Ni<se;Ni++)On&&(Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Xt.get(X).__webglTexture,ht,Se+Ni),Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Xt.get(lt).__webglTexture,jt,Yn+Ni)),Q.blitFramebuffer(Te,De,ee,de,Ke,mn,ee,de,Q.DEPTH_BUFFER_BIT,Q.NEAREST);Dt.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Dt.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else if(ht!==0||X.isRenderTargetTexture||Xt.has(X)){const Ji=Xt.get(X),ti=Xt.get(lt);Dt.bindFramebuffer(Q.READ_FRAMEBUFFER,Vu),Dt.bindFramebuffer(Q.DRAW_FRAMEBUFFER,Hu);for(let $i=0;$i<se;$i++)On?Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Ji.__webglTexture,ht,Se+$i):Q.framebufferTexture2D(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Ji.__webglTexture,ht),ha?Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,ti.__webglTexture,jt,Yn+$i):Q.framebufferTexture2D(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,ti.__webglTexture,jt),ht!==0?Q.blitFramebuffer(Te,De,ee,de,Ke,mn,ee,de,Q.COLOR_BUFFER_BIT,Q.NEAREST):ha?Q.copyTexSubImage3D(jn,jt,Ke,mn,Yn+$i,Te,De,ee,de):Q.copyTexSubImage2D(jn,jt,Ke,mn,Te,De,ee,de);Dt.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Dt.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else ha?X.isDataTexture||X.isData3DTexture?Q.texSubImage3D(jn,jt,Ke,mn,Yn,ee,de,se,je,Ee,Dn.data):lt.isCompressedArrayTexture?Q.compressedTexSubImage3D(jn,jt,Ke,mn,Yn,ee,de,se,je,Dn.data):Q.texSubImage3D(jn,jt,Ke,mn,Yn,ee,de,se,je,Ee,Dn):X.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,jt,Ke,mn,ee,de,je,Ee,Dn.data):X.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,jt,Ke,mn,Dn.width,Dn.height,je,Dn.data):Q.texSubImage2D(Q.TEXTURE_2D,jt,Ke,mn,ee,de,je,Ee,Dn);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,sn),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Ki),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Rs),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,Qi),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,Di),jt===0&&lt.generateMipmaps&&Q.generateMipmap(jn),Dt.unbindTexture()},this.initRenderTarget=function(X){Xt.get(X).__webglFramebuffer===void 0&&Wt.setupRenderTarget(X)},this.initTexture=function(X){X.isCubeTexture?Wt.setTextureCube(X,0):X.isData3DTexture?Wt.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?Wt.setTexture2DArray(X,0):Wt.setTexture2D(X,0),Dt.unbindTexture()},this.resetState=function(){P=0,F=0,V=null,Dt.reset(),ae.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return yr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=_n._getDrawingBufferColorSpace(t),e.unpackColorSpace=_n._getUnpackColorSpace()}}const k9=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:OE,AddEquation:Gc,AddOperation:EN,AdditiveAnimationBlendMode:HE,AdditiveBlending:sT,AgXToneMapping:DN,AlphaFormat:IE,AlwaysCompare:qN,AlwaysDepth:Rx,AlwaysStencilFunc:uT,AmbientLight:VO,AnimationAction:ZO,AnimationClip:W0,AnimationLoader:tF,AnimationMixer:CF,AnimationObjectGroup:AF,AnimationUtils:K6,ArcCurve:cO,ArrayCamera:YO,ArrowHelper:tV,AttachedBindMode:lT,Audio:jO,AudioAnalyser:gF,AudioContext:dA,AudioListener:dF,AudioLoader:cF,AxesHelper:eV,BackSide:Es,BasicDepthPacking:zN,BasicShadowMap:sN,BatchedMesh:sO,Bone:ZE,BooleanKeyframeTrack:$h,Box2:IF,Box3:Qa,Box3Helper:JF,BoxGeometry:Jh,BoxHelper:QF,BufferAttribute:qn,BufferGeometry:en,BufferGeometryLoader:qO,ByteType:LE,Cache:Cl,Camera:W1,CameraHelper:KF,CanvasTexture:_6,CapsuleGeometry:eS,CatmullRomCurve3:fO,CineonToneMapping:CN,CircleGeometry:nS,ClampToEdgeWrapping:Kr,Clock:pA,Color:pe,ColorKeyframeTrack:cA,ColorManagement:_n,CompressedArrayTexture:v6,CompressedCubeTexture:y6,CompressedTexture:tS,CompressedTextureLoader:eF,ConeGeometry:yv,ConstantAlphaFactor:bN,ConstantColorFactor:xN,Controls:iV,CubeCamera:JN,CubeReflectionMapping:Ru,CubeRefractionMapping:Kc,CubeTexture:gv,CubeTextureLoader:nF,CubeUVReflectionMapping:vm,CubicBezierCurve:tA,CubicBezierCurve3:hO,CubicInterpolant:NO,CullFaceBack:aT,CullFaceFront:aN,CullFaceFrontBack:AB,CullFaceNone:iN,Curve:Vo,CurvePath:pO,CustomBlending:rN,CustomToneMapping:RN,CylinderGeometry:vv,Cylindrical:BF,Data3DTexture:j1,DataArrayTexture:Y1,DataTexture:Ol,DataTextureLoader:iF,DataUtils:GI,DecrementStencilOp:VB,DecrementWrapStencilOp:GB,DefaultLoadingManager:LO,DepthFormat:Qp,DepthStencilFormat:Jp,DepthTexture:QE,DetachedBindMode:ON,DirectionalLight:FO,DirectionalLightHelper:ZF,DiscreteInterpolant:OO,DodecahedronGeometry:iS,DoubleSide:El,DstAlphaFactor:mN,DstColorFactor:vN,DynamicCopyUsage:iI,DynamicDrawUsage:QB,DynamicReadUsage:tI,EdgesGeometry:uO,EllipseCurve:aS,EqualCompare:HN,EqualDepth:Nx,EqualStencilFunc:YB,EquirectangularReflectionMapping:U0,EquirectangularRefractionMapping:L0,Euler:br,EventDispatcher:Fl,ExternalTexture:JE,ExtrudeGeometry:sS,FileLoader:Nu,Float16BufferAttribute:ZI,Float32BufferAttribute:xe,FloatType:Ys,Fog:K1,FogExp2:Z1,FramebufferTexture:g6,FrontSide:Cu,Frustum:xm,FrustumArray:$1,GLBufferAttribute:UF,GLSL1:sI,GLSL3:cT,GreaterCompare:GN,GreaterDepth:Ux,GreaterEqualCompare:XN,GreaterEqualDepth:Ox,GreaterEqualStencilFunc:KB,GreaterStencilFunc:WB,GridHelper:jF,Group:Op,HalfFloatType:ym,HemisphereLight:zO,HemisphereLightHelper:YF,IcosahedronGeometry:rS,ImageBitmapLoader:uF,ImageLoader:Z0,ImageUtils:WN,IncrementStencilOp:FB,IncrementWrapStencilOp:HB,InstancedBufferAttribute:im,InstancedBufferGeometry:XO,InstancedInterleavedBuffer:OF,InstancedMesh:aO,Int16BufferAttribute:jI,Int32BufferAttribute:WI,Int8BufferAttribute:XI,IntType:F1,InterleavedBuffer:Q1,InterleavedBufferAttribute:qh,Interpolant:Sv,InterpolateDiscrete:B0,InterpolateLinear:u1,InterpolateSmooth:fx,InterpolationSamplingMode:lI,InterpolationSamplingType:oI,InvertStencilOp:kB,KeepStencilOp:bh,KeyframeTrack:io,LOD:nO,LatheGeometry:oS,Layers:em,LessCompare:VN,LessDepth:Dx,LessEqualCompare:GE,LessEqualDepth:Xh,LessEqualStencilFunc:jB,LessStencilFunc:qB,Light:cf,LightProbe:kO,Line:Jc,Line3:HF,LineBasicMaterial:As,LineCurve:eA,LineCurve3:dO,LineDashedMaterial:CO,LineLoop:rO,LineSegments:Vl,LinearFilter:la,LinearInterpolant:uA,LinearMipMapLinearFilter:DB,LinearMipMapNearestFilter:RB,LinearMipmapLinearFilter:wl,LinearMipmapNearestFilter:d0,LinearSRGBColorSpace:Qc,LinearToneMapping:AN,LinearTransfer:F0,Loader:tr,LoaderUtils:mT,LoadingManager:fA,LoopOnce:UN,LoopPingPong:PN,LoopRepeat:LN,MOUSE:TB,Material:$a,MaterialLoader:pS,MathUtils:EI,Matrix2:yA,Matrix3:Je,Matrix4:ke,MaxEquation:cN,Mesh:Zi,MeshBasicMaterial:lf,MeshDepthMaterial:rA,MeshDistanceMaterial:oA,MeshLambertMaterial:AO,MeshMatcapMaterial:wO,MeshNormalMaterial:EO,MeshPhongMaterial:MO,MeshPhysicalMaterial:bO,MeshStandardMaterial:sA,MeshToonMaterial:TO,MinEquation:uN,MirroredRepeatWrapping:z0,MixOperation:TN,MultiplyBlending:oT,MultiplyOperation:pv,NearestFilter:Na,NearestMipMapLinearFilter:CB,NearestMipMapNearestFilter:wB,NearestMipmapLinearFilter:Dp,NearestMipmapNearestFilter:UE,NeutralToneMapping:NN,NeverCompare:FN,NeverDepth:Cx,NeverStencilFunc:XB,NoBlending:Eu,NoColorSpace:bu,NoToneMapping:Nl,NormalAnimationBlendMode:q1,NormalBlending:Ph,NotEqualCompare:kN,NotEqualDepth:Lx,NotEqualStencilFunc:ZB,NumberKeyframeTrack:Y0,Object3D:En,ObjectLoader:oF,ObjectSpaceNormalMap:IN,OctahedronGeometry:_v,OneFactor:hN,OneMinusConstantAlphaFactor:MN,OneMinusConstantColorFactor:SN,OneMinusDstAlphaFactor:gN,OneMinusDstColorFactor:yN,OneMinusSrcAlphaFactor:wx,OneMinusSrcColorFactor:pN,OrthographicCamera:Mv,PCFShadowMap:B1,PCFSoftShadowMap:h0,PMREMGenerator:yT,Path:d1,PerspectiveCamera:_a,Plane:Hc,PlaneGeometry:Sm,PlaneHelper:$F,PointLight:IO,PointLightHelper:XF,Points:oO,PointsMaterial:KE,PolarGridHelper:WF,PolyhedronGeometry:uf,PositionalAudio:mF,PropertyBinding:Mn,PropertyMixer:WO,QuadraticBezierCurve:nA,QuadraticBezierCurve3:iA,Quaternion:Ws,QuaternionKeyframeTrack:bv,QuaternionLinearInterpolant:UO,RED_GREEN_RGTC2_Format:o1,RED_RGTC1_Format:s1,REVISION:z1,RGBADepthPacking:BN,RGBAFormat:Za,RGBAIntegerFormat:X1,RGBA_ASTC_10x10_Format:$x,RGBA_ASTC_10x5_Format:Kx,RGBA_ASTC_10x6_Format:Qx,RGBA_ASTC_10x8_Format:Jx,RGBA_ASTC_12x10_Format:t1,RGBA_ASTC_12x12_Format:e1,RGBA_ASTC_4x4_Format:Gx,RGBA_ASTC_5x4_Format:kx,RGBA_ASTC_5x5_Format:Xx,RGBA_ASTC_6x5_Format:qx,RGBA_ASTC_6x6_Format:Yx,RGBA_ASTC_8x5_Format:jx,RGBA_ASTC_8x6_Format:Wx,RGBA_ASTC_8x8_Format:Zx,RGBA_BPTC_Format:n1,RGBA_ETC2_EAC_Format:Hx,RGBA_PVRTC_2BPPV1_Format:Ix,RGBA_PVRTC_4BPPV1_Format:Bx,RGBA_S3TC_DXT1_Format:m0,RGBA_S3TC_DXT3_Format:g0,RGBA_S3TC_DXT5_Format:v0,RGBDepthPacking:PB,RGBFormat:FE,RGBIntegerFormat:NB,RGB_BPTC_SIGNED_Format:i1,RGB_BPTC_UNSIGNED_Format:a1,RGB_ETC1_Format:Fx,RGB_ETC2_Format:Vx,RGB_PVRTC_2BPPV1_Format:zx,RGB_PVRTC_4BPPV1_Format:Px,RGB_S3TC_DXT1_Format:p0,RGDepthPacking:zB,RGFormat:VE,RGIntegerFormat:k1,RawShaderMaterial:SO,Ray:_m,Raycaster:KO,RectAreaLight:HO,RedFormat:G1,RedIntegerFormat:mv,ReinhardToneMapping:wN,RenderTarget:XE,RenderTarget3D:RF,RepeatWrapping:P0,ReplaceStencilOp:IB,ReverseSubtractEquation:lN,RingGeometry:lS,SIGNED_RED_GREEN_RGTC2_Format:l1,SIGNED_RED_RGTC1_Format:r1,SRGBColorSpace:ja,SRGBTransfer:In,Scene:jE,ShaderChunk:an,ShaderLib:Po,ShaderMaterial:Io,ShadowMaterial:xO,Shape:Bh,ShapeGeometry:uS,ShapePath:nV,ShapeUtils:zo,ShortType:PE,Skeleton:J1,SkeletonHelper:kF,SkinnedMesh:iO,Source:Xc,Sphere:Oa,SphereGeometry:xv,Spherical:zF,SphericalHarmonics3:GO,SplineCurve:aA,SpotLight:BO,SpotLightHelper:GF,Sprite:eO,SpriteMaterial:WE,SrcAlphaFactor:Ax,SrcAlphaSaturateFactor:_N,SrcColorFactor:dN,StaticCopyUsage:nI,StaticDrawUsage:V0,StaticReadUsage:$B,StereoCamera:fF,StreamCopyUsage:aI,StreamDrawUsage:JB,StreamReadUsage:eI,StringKeyframeTrack:td,SubtractEquation:oN,SubtractiveBlending:rT,TOUCH:EB,TangentSpaceNormalMap:of,TetrahedronGeometry:cS,Texture:Ri,TextureLoader:PO,TextureUtils:lV,Timer:LF,TimestampQuery:rI,TorusGeometry:fS,TorusKnotGeometry:hS,Triangle:qs,TriangleFanDrawMode:LB,TriangleStripDrawMode:UB,TrianglesDrawMode:OB,TubeGeometry:dS,UVMapping:I1,Uint16BufferAttribute:qE,Uint32BufferAttribute:YE,Uint8BufferAttribute:qI,Uint8ClampedBufferAttribute:YI,Uniform:vA,UniformsGroup:NF,UniformsLib:le,UniformsUtils:QN,UnsignedByteType:no,UnsignedInt101111Type:BE,UnsignedInt248Type:Kp,UnsignedInt5999Type:zE,UnsignedIntType:Du,UnsignedShort4444Type:V1,UnsignedShort5551Type:H1,UnsignedShortType:Zp,VSMShadowMap:Lo,Vector2:Ht,Vector3:K,Vector4:Tn,VectorKeyframeTrack:j0,VideoFrameTexture:m6,VideoTexture:lO,WebGL3DRenderTarget:OI,WebGLArrayRenderTarget:NI,WebGLCoordinateSystem:yr,WebGLCubeRenderTarget:$N,WebGLRenderTarget:zl,WebGLRenderer:aU,WebGLUtils:iU,WebGPUCoordinateSystem:$p,WebXRController:hx,WireframeGeometry:_O,WrapAroundEnding:I0,ZeroCurvatureEnding:wh,ZeroFactor:fN,ZeroSlopeEnding:Ch,ZeroStencilOp:BB,createCanvasElement:jN},Symbol.toStringTag,{value:"Module"}));var cM={exports:{}},fM={},hM={exports:{}},dM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR;function X9(){if(cR)return dM;cR=1;var i=mm();function t(v,_){return v===_&&(v!==0||1/v===1/_)||v!==v&&_!==_}var e=typeof Object.is=="function"?Object.is:t,n=i.useState,a=i.useEffect,s=i.useLayoutEffect,o=i.useDebugValue;function u(v,_){var x=_(),T=n({inst:{value:x,getSnapshot:_}}),A=T[0].inst,E=T[1];return s(function(){A.value=x,A.getSnapshot=_,h(A)&&E({inst:A})},[v,x,_]),a(function(){return h(A)&&E({inst:A}),v(function(){h(A)&&E({inst:A})})},[v]),o(x),x}function h(v){var _=v.getSnapshot;v=v.value;try{var x=_();return!e(v,x)}catch{return!0}}function p(v,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return dM.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:m,dM}var fR;function q9(){return fR||(fR=1,hM.exports=X9()),hM.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR;function Y9(){if(hR)return fM;hR=1;var i=mm(),t=q9();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,a=t.useSyncExternalStore,s=i.useRef,o=i.useEffect,u=i.useMemo,h=i.useDebugValue;return fM.useSyncExternalStoreWithSelector=function(p,m,v,_,x){var T=s(null);if(T.current===null){var A={hasValue:!1,value:null};T.current=A}else A=T.current;T=u(function(){function b(P){if(!R){if(R=!0,D=P,P=_(P),x!==void 0&&A.hasValue){var F=A.value;if(x(F,P))return N=F}return N=P}if(F=N,n(D,P))return F;var V=_(P);return x!==void 0&&x(F,V)?(D=P,F):(D=P,N=V)}var R=!1,D,N,U=v===void 0?null:v;return[function(){return b(m())},U===null?void 0:function(){return b(U())}]},[m,v,_,x]);var E=a(p,T[0],T[1]);return o(function(){A.hasValue=!0,A.value=E},[E]),h(E),E},fM}var dR;function j9(){return dR||(dR=1,cM.exports=Y9()),cM.exports}var W9=j9();const Z9=EE(W9),pR=i=>{let t;const e=new Set,n=(p,m)=>{const v=typeof p=="function"?p(t):p;if(!Object.is(v,t)){const _=t;t=m??(typeof v!="object"||v===null)?v:Object.assign({},t,v),e.forEach(x=>x(t,_))}},a=()=>t,u={setState:n,getState:a,getInitialState:()=>h,subscribe:p=>(e.add(p),()=>e.delete(p))},h=t=i(n,a,u);return u},K9=(i=>i?pR(i):pR),{useSyncExternalStoreWithSelector:Q9}=Z9,J9=i=>i;function $9(i,t=J9,e){const n=Q9(i.subscribe,i.getState,i.getInitialState,t,e);return AE.useDebugValue(n),n}const mR=(i,t)=>{const e=K9(i),n=(a,s=t)=>$9(e,a,s);return Object.assign(n,e),n},tG=((i,t)=>i?mR(i,t):mR),eG=i=>typeof i=="object"&&typeof i.then=="function",Dh=[];function sU(i,t,e=(n,a)=>n===a){if(i===t)return!0;if(!i||!t)return!1;const n=i.length;if(t.length!==n)return!1;for(let a=0;a<n;a++)if(!e(i[a],t[a]))return!1;return!0}function rU(i,t=null,e=!1,n={}){t===null&&(t=[i]);for(const s of Dh)if(sU(t,s.keys,s.equal)){if(e)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!e)throw s.promise}const a={keys:t,equal:n.equal,remove:()=>{const s=Dh.indexOf(a);s!==-1&&Dh.splice(s,1)},promise:(eG(i)?i:i(...t)).then(s=>{a.response=s,n.lifespan&&n.lifespan>0&&(a.timeout=setTimeout(a.remove,n.lifespan))}).catch(s=>a.error=s)};if(Dh.push(a),!e)throw a.promise}const nG=(i,t,e)=>rU(i,t,!1,e),iG=(i,t,e)=>void rU(i,t,!0,e),aG=i=>{if(i===void 0||i.length===0)Dh.splice(0,Dh.length);else{const t=Dh.find(e=>sU(i,e.keys,e.equal));t&&t.remove()}};var pM={exports:{}},mM={exports:{}},gM={exports:{}},vM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR;function sG(){return gR||(gR=1,(function(i){function t(z,q){var j=z.length;z.push(q);t:for(;0<j;){var rt=j-1>>>1,k=z[rt];if(0<a(k,q))z[rt]=q,z[j]=k,j=rt;else break t}}function e(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var q=z[0],j=z.pop();if(j!==q){z[0]=j;t:for(var rt=0,k=z.length,nt=k>>>1;rt<nt;){var _t=2*(rt+1)-1,wt=z[_t],Rt=_t+1,qt=z[Rt];if(0>a(wt,j))Rt<k&&0>a(qt,wt)?(z[rt]=qt,z[Rt]=j,rt=Rt):(z[rt]=wt,z[_t]=j,rt=_t);else if(Rt<k&&0>a(qt,j))z[rt]=qt,z[Rt]=j,rt=Rt;else break t}}return q}function a(z,q){var j=z.sortIndex-q.sortIndex;return j!==0?j:z.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();i.unstable_now=function(){return o.now()-u}}var h=[],p=[],m=1,v=null,_=3,x=!1,T=!1,A=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(z){for(var q=e(p);q!==null;){if(q.callback===null)n(p);else if(q.startTime<=z)n(p),q.sortIndex=q.expirationTime,t(h,q);else break;q=e(p)}}function N(z){if(A=!1,D(z),!T)if(e(h)!==null)T=!0,ct();else{var q=e(p);q!==null&&ut(N,q.startTime-z)}}var U=!1,P=-1,F=5,V=-1;function L(){return!(i.unstable_now()-V<F)}function B(){if(U){var z=i.unstable_now();V=z;var q=!0;try{t:{T=!1,A&&(A=!1,b(P),P=-1),x=!0;var j=_;try{e:{for(D(z),v=e(h);v!==null&&!(v.expirationTime>z&&L());){var rt=v.callback;if(typeof rt=="function"){v.callback=null,_=v.priorityLevel;var k=rt(v.expirationTime<=z);if(z=i.unstable_now(),typeof k=="function"){v.callback=k,D(z),q=!0;break e}v===e(h)&&n(h),D(z)}else n(h);v=e(h)}if(v!==null)q=!0;else{var nt=e(p);nt!==null&&ut(N,nt.startTime-z),q=!1}}break t}finally{v=null,_=j,x=!1}q=void 0}}finally{q?W():U=!1}}}var W;if(typeof R=="function")W=function(){R(B)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,it=$.port2;$.port1.onmessage=B,W=function(){it.postMessage(null)}}else W=function(){E(B,0)};function ct(){U||(U=!0,W())}function ut(z,q){P=E(function(){z(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){T||x||(T=!0,ct())},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return e(h)},i.unstable_next=function(z){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var j=_;_=q;try{return z()}finally{_=j}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var j=_;_=z;try{return q()}finally{_=j}},i.unstable_scheduleCallback=function(z,q,j){var rt=i.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?rt+j:rt):j=rt,z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=j+k,z={id:m++,callback:q,priorityLevel:z,startTime:j,expirationTime:k,sortIndex:-1},j>rt?(z.sortIndex=j,t(p,z),e(h)===null&&z===e(p)&&(A?(b(P),P=-1):A=!0,ut(N,j-rt))):(z.sortIndex=k,t(h,z),T||x||(T=!0,ct())),z},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(z){var q=_;return function(){var j=_;_=q;try{return z.apply(this,arguments)}finally{_=j}}}})(vM)),vM}var vR;function rG(){return vR||(vR=1,gM.exports=sG()),gM.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR;function oG(){return yR||(yR=1,(function(i){i.exports=function(t){function e(c,f,y,M){return new ng(c,f,y,M)}function n(){}function a(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return c===null||typeof c!="object"?null:(c=yo&&c[yo]||c["@@iterator"],typeof c=="function"?c:null)}function o(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===rg?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case il:return"Fragment";case Us:return"Portal";case Ed:return"Profiler";case Hf:return"StrictMode";case Ad:return"Suspense";case oc:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case ar:return(c.displayName||"Context")+".Provider";case ag:return(c._context.displayName||"Context")+".Consumer";case kf:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case wd:return f=c.displayName||null,f!==null?f:o(c.type)||"Memo";case Ls:f=c._payload,c=c._init;try{return o(c(f))}catch{}}return null}function u(c){if(Nr===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);Nr=f&&f[1]||"",_o=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nr+c+_o}function h(c,f){if(!c||Yl)return"";Yl=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(f){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Ye){var ue=Ye}Reflect.construct(c,[],oe)}else{try{oe.call()}catch(Ye){ue=Ye}c.call(oe.prototype)}}else{try{throw Error()}catch(Ye){ue=Ye}(oe=c())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Ye){if(Ye&&ue&&typeof Ye.stack=="string")return[Ye.stack,ue.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=M.DetermineComponentFrameRoot(),Y=O[0],tt=O[1];if(Y&&tt){var dt=Y.split(`
`),Ot=tt.split(`
`);for(C=M=0;M<dt.length&&!dt[M].includes("DetermineComponentFrameRoot");)M++;for(;C<Ot.length&&!Ot[C].includes("DetermineComponentFrameRoot");)C++;if(M===dt.length||C===Ot.length)for(M=dt.length-1,C=Ot.length-1;1<=M&&0<=C&&dt[M]!==Ot[C];)C--;for(;1<=M&&0<=C;M--,C--)if(dt[M]!==Ot[C]){if(M!==1||C!==1)do if(M--,C--,0>C||dt[M]!==Ot[C]){var Qt=`
`+dt[M].replace(" at new "," at ");return c.displayName&&Qt.includes("<anonymous>")&&(Qt=Qt.replace("<anonymous>",c.displayName)),Qt}while(1<=M&&0<=C);break}}}finally{Yl=!1,Error.prepareStackTrace=y}return(y=c?c.displayName||c.name:"")?u(y):""}function p(c){switch(c.tag){case 26:case 27:case 5:return u(c.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return c=h(c.type,!1),c;case 11:return c=h(c.type.render,!1),c;case 1:return c=h(c.type,!0),c;default:return""}}function m(c){try{var f="";do f+=p(c),c=c.return;while(c);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function v(c){var f=c,y=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(y=f.return),c=f.return;while(c)}return f.tag===3?y:null}function _(c){if(v(c)!==c)throw Error(a(188))}function x(c){var f=c.alternate;if(!f){if(f=v(c),f===null)throw Error(a(188));return f!==c?null:c}for(var y=c,M=f;;){var C=y.return;if(C===null)break;var O=C.alternate;if(O===null){if(M=C.return,M!==null){y=M;continue}break}if(C.child===O.child){for(O=C.child;O;){if(O===y)return _(C),c;if(O===M)return _(C),f;O=O.sibling}throw Error(a(188))}if(y.return!==M.return)y=C,M=O;else{for(var Y=!1,tt=C.child;tt;){if(tt===y){Y=!0,y=C,M=O;break}if(tt===M){Y=!0,M=C,y=O;break}tt=tt.sibling}if(!Y){for(tt=O.child;tt;){if(tt===y){Y=!0,y=O,M=C;break}if(tt===M){Y=!0,M=O,y=C;break}tt=tt.sibling}if(!Y)throw Error(a(189))}}if(y.alternate!==M)throw Error(a(190))}if(y.tag!==3)throw Error(a(188));return y.stateNode.current===y?c:f}function T(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=T(c),f!==null)return f;c=c.sibling}return null}function A(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(f=A(c),f!==null))return f;c=c.sibling}return null}function E(c){return{current:c}}function b(c){0>Mo||(c.current=di[Mo],di[Mo]=null,Mo--)}function R(c,f){Mo++,di[Mo]=c.current,c.current=f}function D(c){return c>>>=0,c===0?32:31-(Iy(c)/Fy|0)|0}function N(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function U(c,f){var y=c.pendingLanes;if(y===0)return 0;var M=0,C=c.suspendedLanes,O=c.pingedLanes,Y=c.warmLanes;c=c.finishedLanes!==0;var tt=y&134217727;return tt!==0?(y=tt&~C,y!==0?M=N(y):(O&=tt,O!==0?M=N(O):c||(Y=tt&~Y,Y!==0&&(M=N(Y))))):(tt=y&~C,tt!==0?M=N(tt):O!==0?M=N(O):c||(Y=y&~Y,Y!==0&&(M=N(Y)))),M===0?0:f!==0&&f!==M&&(f&C)===0&&(C=M&-M,Y=f&-f,C>=Y||C===32&&(Y&4194176)!==0)?f:M}function P(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function F(c,f){switch(c){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var c=Ur;return Ur<<=1,(Ur&4194176)===0&&(Ur=128),c}function L(){var c=Zl;return Zl<<=1,(Zl&62914560)===0&&(Zl=4194304),c}function B(c){for(var f=[],y=0;31>y;y++)f.push(c);return f}function W(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function $(c,f,y,M,C,O){var Y=c.pendingLanes;c.pendingLanes=y,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=y,c.entangledLanes&=y,c.errorRecoveryDisabledLanes&=y,c.shellSuspendCounter=0;var tt=c.entanglements,dt=c.expirationTimes,Ot=c.hiddenUpdates;for(y=Y&~y;0<y;){var Qt=31-Aa(y),oe=1<<Qt;tt[Qt]=0,dt[Qt]=-1;var ue=Ot[Qt];if(ue!==null)for(Ot[Qt]=null,Qt=0;Qt<ue.length;Qt++){var Ye=ue[Qt];Ye!==null&&(Ye.lane&=-536870913)}y&=~oe}M!==0&&it(c,M,0),O!==0&&C===0&&c.tag!==0&&(c.suspendedLanes|=O&~(Y&~f))}function it(c,f,y){c.pendingLanes|=f,c.suspendedLanes&=~f;var M=31-Aa(f);c.entangledLanes|=f,c.entanglements[M]=c.entanglements[M]|1073741824|y&4194218}function ct(c,f){var y=c.entangledLanes|=f;for(c=c.entanglements;y;){var M=31-Aa(y),C=1<<M;C&f|c[M]&f&&(c[M]|=f),y&=~C}}function ut(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function z(c){if(Ha&&typeof Ha.onCommitFiberRoot=="function")try{Ha.onCommitFiberRoot(pi,c,void 0,(c.current.flags&128)===128)}catch{}}function q(c){if(typeof Gy=="function"&&Gi(c),Ha&&typeof Ha.setStrictMode=="function")try{Ha.setStrictMode(pi,c)}catch{}}function j(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}function rt(c,f){if(typeof c=="object"&&c!==null){var y=Eg.get(c);return y!==void 0?y:(f={value:c,source:f,stack:m(f)},Eg.set(c,f),f)}return{value:c,source:f,stack:m(f)}}function k(c,f){Kl[Ql++]=gc,Kl[Ql++]=Jl,Jl=c,gc=f}function nt(c,f,y){ls[us++]=or,ls[us++]=lr,ls[us++]=cl,cl=c;var M=or;c=lr;var C=32-Aa(M)-1;M&=~(1<<C),y+=1;var O=32-Aa(f)+C;if(30<O){var Y=C-C%5;O=(M&(1<<Y)-1).toString(32),M>>=Y,C-=Y,or=1<<32-Aa(f)+C|y<<C|M,lr=O+c}else or=1<<O|y<<C|M,lr=c}function _t(c){c.return!==null&&(k(c,1),nt(c,1,0))}function wt(c){for(;c===Jl;)Jl=Kl[--Ql],Kl[Ql]=null,gc=Kl[--Ql],Kl[Ql]=null;for(;c===cl;)cl=ls[--us],ls[us]=null,lr=ls[--us],ls[us]=null,or=ls[--us],ls[us]=null}function Rt(c,f){R(Lr,f),R(vc,c),R(Ui,null),c=iy(f),b(Ui),R(Ui,c)}function qt(){b(Ui),b(vc),b(Lr)}function mt(c){c.memoizedState!==null&&R($l,c);var f=Ui.current,y=fc(f,c.type);f!==y&&(R(vc,c),R(Ui,y))}function Nt(c){vc.current===c&&(b(Ui),b(vc)),$l.current===c&&(b($l),Ta?sr._currentValue=sl:sr._currentValue2=sl)}function kt(c){var f=Error(a(418,""));throw Q(rt(f,c)),Jf}function he(c,f){if(!sa)throw Error(a(175));Cy(c.stateNode,c.type,c.memoizedProps,f,c)||kt(c)}function ce(c){for(ra=c.return;ra;)switch(ra.tag){case 3:case 27:ki=!0;return;case 5:case 13:ki=!1;return;default:ra=ra.return}}function Xe(c){if(!sa||c!==ra)return!1;if(!pn)return ce(c),pn=!0,!1;var f=!1;if(Ln?c.tag!==3&&c.tag!==27&&(c.tag!==5||zd(c.type)&&!Ze(c.type,c.memoizedProps))&&(f=!0):c.tag!==3&&(c.tag!==5||zd(c.type)&&!Ze(c.type,c.memoizedProps))&&(f=!0),f&&oa&&kt(c),ce(c),c.tag===13){if(!sa)throw Error(a(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));oa=Dy(c)}else oa=ra?Sg(c.stateNode):null;return!0}function hn(){sa&&(oa=ra=null,pn=!1)}function Q(c){Bs===null?Bs=[c]:Bs.push(c)}function Vt(){for(var c=tu,f=ur=tu=0;f<c;){var y=Is[f];Is[f++]=null;var M=Is[f];Is[f++]=null;var C=Is[f];Is[f++]=null;var O=Is[f];if(Is[f++]=null,M!==null&&C!==null){var Y=M.pending;Y===null?C.next=C:(C.next=Y.next,Y.next=C),M.pending=C}O!==0&&ne(y,C,O)}}function Bt(c,f,y,M){Is[tu++]=c,Is[tu++]=f,Is[tu++]=y,Is[tu++]=M,ur|=M,c.lanes|=M,c=c.alternate,c!==null&&(c.lanes|=M)}function Pt(c,f,y,M){return Bt(c,f,y,M),Xt(c)}function Dt(c,f){return Bt(c,null,null,f),Xt(c)}function ne(c,f,y){c.lanes|=y;var M=c.alternate;M!==null&&(M.lanes|=y);for(var C=!1,O=c.return;O!==null;)O.childLanes|=y,M=O.alternate,M!==null&&(M.childLanes|=y),O.tag===22&&(c=O.stateNode,c===null||c._visibility&1||(C=!0)),c=O,O=O.return;C&&f!==null&&c.tag===3&&(O=c.stateNode,C=31-Aa(y),O=O.hiddenUpdates,c=O[C],c===null?O[C]=[f]:c.push(f),f.lane=y|536870912)}function Xt(c){if(50<Ac)throw Ac=0,Qd=null,Error(a(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}function Wt(c){c!==To&&c.next===null&&(To===null?$f=To=c:To=To.next=c),Vn=!0,eu||(eu=!0,At(ze))}function we(c,f){if(!Ag&&Vn){Ag=!0;do for(var y=!1,M=$f;M!==null;){if(c!==0){var C=M.pendingLanes;if(C===0)var O=0;else{var Y=M.suspendedLanes,tt=M.pingedLanes;O=(1<<31-Aa(42|c)+1)-1,O&=C&~(Y&~tt),O=O&201326677?O&201326677|1:O?O|2:0}O!==0&&(y=!0,pt(M,O))}else O=un,O=U(M,M===Cn?O:0),(O&3)===0||P(M,O)||(y=!0,pt(M,O));M=M.next}while(y);Ag=!1}}function ze(){Vn=eu=!1;var c=0;yc!==0&&(oy()&&(c=yc),yc=0);for(var f=zs(),y=null,M=$f;M!==null;){var C=M.next,O=Z(M,f);O===0?(M.next=null,y===null?$f=C:y.next=C,C===null&&(To=y)):(y=M,(c!==0||(O&3)!==0)&&(Vn=!0)),M=C}we(c)}function Z(c,f){for(var y=c.suspendedLanes,M=c.pingedLanes,C=c.expirationTimes,O=c.pendingLanes&-62914561;0<O;){var Y=31-Aa(O),tt=1<<Y,dt=C[Y];dt===-1?((tt&y)===0||(tt&M)!==0)&&(C[Y]=F(tt,f)):dt<=f&&(c.expiredLanes|=tt),O&=~tt}if(f=Cn,y=un,y=U(c,c===f?y:0),M=c.callbackNode,y===0||c===f&&Un===2||c.cancelPendingCommit!==null)return M!==null&&M!==null&&Vd(M),c.callbackNode=null,c.callbackPriority=0;if((y&3)===0||P(c,y)){if(f=y&-y,f===c.callbackPriority)return f;switch(M!==null&&Vd(M),ut(y)){case 2:case 8:y=Hy;break;case 32:y=kd;break;case 268435456:y=VS;break;default:y=kd}return M=H.bind(null,c),y=Qf(y,M),c.callbackPriority=f,c.callbackNode=y,f}return M!==null&&M!==null&&Vd(M),c.callbackPriority=2,c.callbackNode=null,2}function H(c,f){var y=c.callbackNode;if(ir()&&c.callbackNode!==y)return null;var M=un;return M=U(c,c===Cn?M:0),M===0?null:(Jo(c,M,f),Z(c,zs()),c.callbackNode!=null&&c.callbackNode===y?H.bind(null,c):null)}function pt(c,f){if(ir())return null;Jo(c,f,!0)}function At(c){fg?bo(function(){(vn&6)!==0?Qf(Gd,c):c()}):Qf(Gd,c)}function Lt(){return yc===0&&(yc=V()),yc}function Ct(c,f){if(_c===null){var y=_c=[];nu=0,cs=Lt(),iu={status:"pending",value:void 0,then:function(M){y.push(M)}}}return nu++,f.then(re,re),f}function re(){if(--nu===0&&_c!==null){iu!==null&&(iu.status="fulfilled");var c=_c;_c=null,cs=0,iu=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function $t(c,f){var y=[],M={status:"pending",value:null,reason:null,then:function(C){y.push(C)}};return c.then(function(){M.status="fulfilled",M.value=f;for(var C=0;C<y.length;C++)(0,y[C])(f)},function(C){for(M.status="rejected",M.reason=C,C=0;C<y.length;C++)(0,y[C])(void 0)}),M}function me(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ge(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Gt(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function ie(c,f,y){var M=c.updateQueue;if(M===null)return null;if(M=M.shared,(vn&2)!==0){var C=M.pending;return C===null?f.next=f:(f.next=C.next,C.next=f),M.pending=f,f=Xt(c),ne(c,null,y),f}return Bt(c,M,f,y),Xt(c)}function be(c,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194176)!==0)){var M=f.lanes;M&=c.pendingLanes,y|=M,f.lanes=y,ct(c,y)}}function ve(c,f){var y=c.updateQueue,M=c.alternate;if(M!==null&&(M=M.updateQueue,y===M)){var C=null,O=null;if(y=y.firstBaseUpdate,y!==null){do{var Y={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};O===null?C=O=Y:O=O.next=Y,y=y.next}while(y!==null);O===null?C=O=f:O=O.next=f}else C=O=f;y={baseState:M.baseState,firstBaseUpdate:C,lastBaseUpdate:O,shared:M.shared,callbacks:M.callbacks},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=f:c.next=f,y.lastBaseUpdate=f}function ae(){if(au){var c=iu;if(c!==null)throw c}}function Be(c,f,y,M){au=!1;var C=c.updateQueue;Eo=!1;var O=C.firstBaseUpdate,Y=C.lastBaseUpdate,tt=C.shared.pending;if(tt!==null){C.shared.pending=null;var dt=tt,Ot=dt.next;dt.next=null,Y===null?O=Ot:Y.next=Ot,Y=dt;var Qt=c.alternate;Qt!==null&&(Qt=Qt.updateQueue,tt=Qt.lastBaseUpdate,tt!==Y&&(tt===null?Qt.firstBaseUpdate=Ot:tt.next=Ot,Qt.lastBaseUpdate=dt))}if(O!==null){var oe=C.baseState;Y=0,Qt=Ot=dt=null,tt=O;do{var ue=tt.lane&-536870913,Ye=ue!==tt.lane;if(Ye?(un&ue)===ue:(M&ue)===ue){ue!==0&&ue===cs&&(au=!0),Qt!==null&&(Qt=Qt.next={lane:0,tag:tt.tag,payload:tt.payload,callback:null,next:null});t:{var ys=c,_l=tt;ue=f;var xl=y;switch(_l.tag){case 1:if(ys=_l.payload,typeof ys=="function"){oe=ys.call(xl,oe,ue);break t}oe=ys;break t;case 3:ys.flags=ys.flags&-65537|128;case 0:if(ys=_l.payload,ue=typeof ys=="function"?ys.call(xl,oe,ue):ys,ue==null)break t;oe=Td({},oe,ue);break t;case 2:Eo=!0}}ue=tt.callback,ue!==null&&(c.flags|=64,Ye&&(c.flags|=8192),Ye=C.callbacks,Ye===null?C.callbacks=[ue]:Ye.push(ue))}else Ye={lane:ue,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},Qt===null?(Ot=Qt=Ye,dt=oe):Qt=Qt.next=Ye,Y|=ue;if(tt=tt.next,tt===null){if(tt=C.shared.pending,tt===null)break;Ye=tt,tt=Ye.next,Ye.next=null,C.lastBaseUpdate=Ye,C.shared.pending=null}}while(!0);Qt===null&&(dt=oe),C.baseState=dt,C.firstBaseUpdate=Ot,C.lastBaseUpdate=Qt,O===null&&(C.shared.lanes=0),gs|=Y,c.lanes=Y,c.memoizedState=oe}}function ot(c,f){if(typeof c!="function")throw Error(a(191,c));c.call(f)}function Zt(c,f){var y=c.callbacks;if(y!==null)for(c.callbacks=null,c=0;c<y.length;c++)ot(y[c],f)}function te(c,f){if(Ga(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var y=Object.keys(c),M=Object.keys(f);if(y.length!==M.length)return!1;for(M=0;M<y.length;M++){var C=y[M];if(!Pr.call(f,C)||!Ga(c[C],f[C]))return!1}return!0}function fe(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Yt(){}function It(c,f,y){switch(y=c[y],y===void 0?c.push(f):y!==f&&(f.then(Yt,Yt),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===xc?Error(a(483)):c;default:if(typeof f.status=="string")f.then(Yt,Yt);else{if(c=Cn,c!==null&&100<c.shellSuspendCounter)throw Error(a(482));c=f,c.status="pending",c.then(function(M){if(f.status==="pending"){var C=f;C.status="fulfilled",C.value=M}},function(M){if(f.status==="pending"){var C=f;C.status="rejected",C.reason=M}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===xc?Error(a(483)):c}throw fl=f,xc}}function ye(){if(fl===null)throw Error(a(459));var c=fl;return fl=null,c}function Oe(c){var f=dl;return dl+=1,hl===null&&(hl=[]),It(hl,c,f)}function dn(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function ln(c,f){throw f.$$typeof===US?Error(a(525)):(c=Object.prototype.toString.call(f),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function ws(c){var f=c._init;return f(c._payload)}function xi(c){function f(St,at){if(c){var Et=St.deletions;Et===null?(St.deletions=[at],St.flags|=16):Et.push(at)}}function y(St,at){if(!c)return null;for(;at!==null;)f(St,at),at=at.sibling;return null}function M(St){for(var at=new Map;St!==null;)St.key!==null?at.set(St.key,St):at.set(St.index,St),St=St.sibling;return at}function C(St,at){return St=Os(St,at),St.index=0,St.sibling=null,St}function O(St,at,Et){return St.index=Et,c?(Et=St.alternate,Et!==null?(Et=Et.index,Et<at?(St.flags|=33554434,at):Et):(St.flags|=33554434,at)):(St.flags|=1048576,at)}function Y(St){return c&&St.alternate===null&&(St.flags|=33554434),St}function tt(St,at,Et,Kt){return at===null||at.tag!==6?(at=bd(Et,St.mode,Kt),at.return=St,at):(at=C(at,Et),at.return=St,at)}function dt(St,at,Et,Kt){var Me=Et.type;return Me===il?Qt(St,at,Et.props.children,Kt,Et.key):at!==null&&(at.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Ls&&ws(Me)===at.type)?(at=C(at,Et.props),dn(at,Et),at.return=St,at):(at=Dr(Et.type,Et.key,Et.props,null,St.mode,Kt),dn(at,Et),at.return=St,at)}function Ot(St,at,Et,Kt){return at===null||at.tag!==4||at.stateNode.containerInfo!==Et.containerInfo||at.stateNode.implementation!==Et.implementation?(at=ig(Et,St.mode,Kt),at.return=St,at):(at=C(at,Et.children||[]),at.return=St,at)}function Qt(St,at,Et,Kt,Me){return at===null||at.tag!==7?(at=ai(Et,St.mode,Kt,Me),at.return=St,at):(at=C(at,Et),at.return=St,at)}function oe(St,at,Et){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return at=bd(""+at,St.mode,Et),at.return=St,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case Vf:return Et=Dr(at.type,at.key,at.props,null,St.mode,Et),dn(Et,at),Et.return=St,Et;case Us:return at=ig(at,St.mode,Et),at.return=St,at;case Ls:var Kt=at._init;return at=Kt(at._payload),oe(St,at,Et)}if(lc(at)||s(at))return at=ai(at,St.mode,Et,null),at.return=St,at;if(typeof at.then=="function")return oe(St,Oe(at),Et);if(at.$$typeof===ar)return oe(St,Ef(St,at),Et);ln(St,at)}return null}function ue(St,at,Et,Kt){var Me=at!==null?at.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return Me!==null?null:tt(St,at,""+Et,Kt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case Vf:return Et.key===Me?dt(St,at,Et,Kt):null;case Us:return Et.key===Me?Ot(St,at,Et,Kt):null;case Ls:return Me=Et._init,Et=Me(Et._payload),ue(St,at,Et,Kt)}if(lc(Et)||s(Et))return Me!==null?null:Qt(St,at,Et,Kt,null);if(typeof Et.then=="function")return ue(St,at,Oe(Et),Kt);if(Et.$$typeof===ar)return ue(St,at,Ef(St,Et),Kt);ln(St,Et)}return null}function Ye(St,at,Et,Kt,Me){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number"||typeof Kt=="bigint")return St=St.get(Et)||null,tt(at,St,""+Kt,Me);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case Vf:return St=St.get(Kt.key===null?Et:Kt.key)||null,dt(at,St,Kt,Me);case Us:return St=St.get(Kt.key===null?Et:Kt.key)||null,Ot(at,St,Kt,Me);case Ls:var Zn=Kt._init;return Kt=Zn(Kt._payload),Ye(St,at,Et,Kt,Me)}if(lc(Kt)||s(Kt))return St=St.get(Et)||null,Qt(at,St,Kt,Me,null);if(typeof Kt.then=="function")return Ye(St,at,Et,Oe(Kt),Me);if(Kt.$$typeof===ar)return Ye(St,at,Et,Ef(at,Kt),Me);ln(at,Kt)}return null}function ys(St,at,Et,Kt){for(var Me=null,Zn=null,Fe=at,bn=at=0,mi=null;Fe!==null&&bn<Et.length;bn++){Fe.index>bn?(mi=Fe,Fe=null):mi=Fe.sibling;var on=ue(St,Fe,Et[bn],Kt);if(on===null){Fe===null&&(Fe=mi);break}c&&Fe&&on.alternate===null&&f(St,Fe),at=O(on,at,bn),Zn===null?Me=on:Zn.sibling=on,Zn=on,Fe=mi}if(bn===Et.length)return y(St,Fe),pn&&k(St,bn),Me;if(Fe===null){for(;bn<Et.length;bn++)Fe=oe(St,Et[bn],Kt),Fe!==null&&(at=O(Fe,at,bn),Zn===null?Me=Fe:Zn.sibling=Fe,Zn=Fe);return pn&&k(St,bn),Me}for(Fe=M(Fe);bn<Et.length;bn++)mi=Ye(Fe,St,bn,Et[bn],Kt),mi!==null&&(c&&mi.alternate!==null&&Fe.delete(mi.key===null?bn:mi.key),at=O(mi,at,bn),Zn===null?Me=mi:Zn.sibling=mi,Zn=mi);return c&&Fe.forEach(function(kr){return f(St,kr)}),pn&&k(St,bn),Me}function _l(St,at,Et,Kt){if(Et==null)throw Error(a(151));for(var Me=null,Zn=null,Fe=at,bn=at=0,mi=null,on=Et.next();Fe!==null&&!on.done;bn++,on=Et.next()){Fe.index>bn?(mi=Fe,Fe=null):mi=Fe.sibling;var kr=ue(St,Fe,on.value,Kt);if(kr===null){Fe===null&&(Fe=mi);break}c&&Fe&&kr.alternate===null&&f(St,Fe),at=O(kr,at,bn),Zn===null?Me=kr:Zn.sibling=kr,Zn=kr,Fe=mi}if(on.done)return y(St,Fe),pn&&k(St,bn),Me;if(Fe===null){for(;!on.done;bn++,on=Et.next())on=oe(St,on.value,Kt),on!==null&&(at=O(on,at,bn),Zn===null?Me=on:Zn.sibling=on,Zn=on);return pn&&k(St,bn),Me}for(Fe=M(Fe);!on.done;bn++,on=Et.next())on=Ye(Fe,St,bn,on.value,Kt),on!==null&&(c&&on.alternate!==null&&Fe.delete(on.key===null?bn:on.key),at=O(on,at,bn),Zn===null?Me=on:Zn.sibling=on,Zn=on);return c&&Fe.forEach(function(Jd){return f(St,Jd)}),pn&&k(St,bn),Me}function xl(St,at,Et,Kt){if(typeof Et=="object"&&Et!==null&&Et.type===il&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case Vf:t:{for(var Me=Et.key;at!==null;){if(at.key===Me){if(Me=Et.type,Me===il){if(at.tag===7){y(St,at.sibling),Kt=C(at,Et.props.children),Kt.return=St,St=Kt;break t}}else if(at.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Ls&&ws(Me)===at.type){y(St,at.sibling),Kt=C(at,Et.props),dn(Kt,Et),Kt.return=St,St=Kt;break t}y(St,at);break}else f(St,at);at=at.sibling}Et.type===il?(Kt=ai(Et.props.children,St.mode,Kt,Et.key),Kt.return=St,St=Kt):(Kt=Dr(Et.type,Et.key,Et.props,null,St.mode,Kt),dn(Kt,Et),Kt.return=St,St=Kt)}return Y(St);case Us:t:{for(Me=Et.key;at!==null;){if(at.key===Me)if(at.tag===4&&at.stateNode.containerInfo===Et.containerInfo&&at.stateNode.implementation===Et.implementation){y(St,at.sibling),Kt=C(at,Et.children||[]),Kt.return=St,St=Kt;break t}else{y(St,at);break}else f(St,at);at=at.sibling}Kt=ig(Et,St.mode,Kt),Kt.return=St,St=Kt}return Y(St);case Ls:return Me=Et._init,Et=Me(Et._payload),xl(St,at,Et,Kt)}if(lc(Et))return ys(St,at,Et,Kt);if(s(Et)){if(Me=s(Et),typeof Me!="function")throw Error(a(150));return Et=Me.call(Et),_l(St,at,Et,Kt)}if(typeof Et.then=="function")return xl(St,at,Oe(Et),Kt);if(Et.$$typeof===ar)return xl(St,at,Ef(St,Et),Kt);ln(St,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint"?(Et=""+Et,at!==null&&at.tag===6?(y(St,at.sibling),Kt=C(at,Et),Kt.return=St,St=Kt):(y(St,at),Kt=bd(Et,St.mode,Kt),Kt.return=St,St=Kt),Y(St)):y(St,at)}return function(St,at,Et,Kt){try{dl=0;var Me=xl(St,at,Et,Kt);return hl=null,Me}catch(Fe){if(Fe===xc)throw Fe;var Zn=e(29,Fe,null,St.mode);return Zn.lanes=Kt,Zn.return=St,Zn}finally{}}}function Si(c,f){c=ga,R(Sc,c),R(Hn,f),ga=c|f.baseLanes}function Jn(){R(Sc,ga),R(Hn,Hn.current)}function Cs(){ga=Sc.current,b(Hn),b(Sc)}function ts(c){var f=c.alternate;R(Li,Li.current&1),R(fs,c),Pn===null&&(f===null||Hn.current!==null||f.memoizedState!==null)&&(Pn=c)}function df(c){if(c.tag===22){if(R(Li,Li.current),R(fs,c),Pn===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(Pn=c)}}else es()}function es(){R(Li,Li.current),R(fs,fs.current)}function ns(c){b(fs),Pn===c&&(Pn=null),b(Li)}function is(c){for(var f=c;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Ud(y)||Ld(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Fn(){throw Error(a(321))}function er(c,f){if(f===null)return!1;for(var y=0;y<f.length&&y<c.length;y++)if(!Ga(c[y],f[y]))return!1;return!0}function Ar(c,f,y,M,C,O){return Ao=O,$e=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ie.H=c===null||c.memoizedState===null?gl:wa,ml=!1,O=y(M,C),ml=!1,su&&(O=ao(f,y,M,C)),Ho(c),O}function Ho(c){Ie.H=si;var f=Ne!==null&&Ne.next!==null;if(Ao=0,gn=Ne=$e=null,Fs=!1,ru=0,Xi=null,f)throw Error(a(300));c===null||zn||(c=c.dependencies,c!==null&&Tf(c)&&(zn=!0))}function ao(c,f,y,M){$e=c;var C=0;do{if(su&&(Xi=null),ru=0,su=!1,25<=C)throw Error(a(301));if(C+=1,gn=Ne=null,c.updateQueue!=null){var O=c.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}Ie.H=hs,O=f(y,M)}while(su);return O}function bi(){var c=Ie.H,f=c.useState()[0];return f=typeof f.then=="function"?Tt(f):f,c=c.useState()[0],(Ne!==null?Ne.memoizedState:null)!==c&&($e.flags|=1024),f}function Vu(){var c=Xd!==0;return Xd=0,c}function Hu(c,f,y){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~y}function X(c){if(Fs){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Fs=!1}Ao=0,gn=Ne=$e=null,su=!1,ru=Xd=0,Xi=null}function lt(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?$e.memoizedState=gn=c:gn=gn.next=c,gn}function vt(){if(Ne===null){var c=$e.alternate;c=c!==null?c.memoizedState:null}else c=Ne.next;var f=gn===null?$e.memoizedState:gn.next;if(f!==null)gn=f,Ne=c;else{if(c===null)throw $e.alternate===null?Error(a(467)):Error(a(310));Ne=c,c={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},gn===null?$e.memoizedState=gn=c:gn=gn.next=c}return gn}function Tt(c){var f=ru;return ru+=1,Xi===null&&(Xi=[]),c=It(Xi,c,f),f=$e,(gn===null?f.memoizedState:gn.next)===null&&(f=f.alternate,Ie.H=f===null||f.memoizedState===null?gl:wa),c}function ht(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Tt(c);if(c.$$typeof===ar)return ea(c)}throw Error(a(438,String(c)))}function jt(c){var f=null,y=$e.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var M=$e.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(f={data:M.data.map(function(C){return C.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=qd(),$e.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(c),M=0;M<c;M++)y[M]=ny;return f.index++,y}function ee(c,f){return typeof f=="function"?f(c):f}function de(c){var f=vt();return se(f,Ne,c)}function se(c,f,y){var M=c.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=y;var C=c.baseQueue,O=M.pending;if(O!==null){if(C!==null){var Y=C.next;C.next=O.next,O.next=Y}f.baseQueue=C=O,M.pending=null}if(O=c.baseState,C===null)c.memoizedState=O;else{f=C.next;var tt=Y=null,dt=null,Ot=f,Qt=!1;do{var oe=Ot.lane&-536870913;if(oe!==Ot.lane?(un&oe)===oe:(Ao&oe)===oe){var ue=Ot.revertLane;if(ue===0)dt!==null&&(dt=dt.next={lane:0,revertLane:0,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null}),oe===cs&&(Qt=!0);else if((Ao&ue)===ue){Ot=Ot.next,ue===cs&&(Qt=!0);continue}else oe={lane:0,revertLane:Ot.revertLane,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},dt===null?(tt=dt=oe,Y=O):dt=dt.next=oe,$e.lanes|=ue,gs|=ue;oe=Ot.action,ml&&y(O,oe),O=Ot.hasEagerState?Ot.eagerState:y(O,oe)}else ue={lane:oe,revertLane:Ot.revertLane,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},dt===null?(tt=dt=ue,Y=O):dt=dt.next=ue,$e.lanes|=oe,gs|=oe;Ot=Ot.next}while(Ot!==null&&Ot!==f);if(dt===null?Y=O:dt.next=tt,!Ga(O,c.memoizedState)&&(zn=!0,Qt&&(y=iu,y!==null)))throw y;c.memoizedState=O,c.baseState=Y,c.baseQueue=dt,M.lastRenderedState=O}return C===null&&(M.lanes=0),[c.memoizedState,M.dispatch]}function Te(c){var f=vt(),y=f.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=c;var M=y.dispatch,C=y.pending,O=f.memoizedState;if(C!==null){y.pending=null;var Y=C=C.next;do O=c(O,Y.action),Y=Y.next;while(Y!==C);Ga(O,f.memoizedState)||(zn=!0),f.memoizedState=O,f.baseQueue===null&&(f.baseState=O),y.lastRenderedState=O}return[O,M]}function De(c,f,y){var M=$e,C=vt(),O=pn;if(O){if(y===void 0)throw Error(a(407));y=y()}else y=f();var Y=!Ga((Ne||C).memoizedState,y);if(Y&&(C.memoizedState=y,zn=!0),C=C.queue,Cm(mn.bind(null,M,C,c),[c]),C.getSnapshot!==f||Y||gn!==null&&gn.memoizedState.tag&1){if(M.flags|=2048,Ni(9,Ke.bind(null,M,C,y,f),{destroy:void 0},null),Cn===null)throw Error(a(349));O||(Ao&60)!==0||Se(M,f,y)}return y}function Se(c,f,y){c.flags|=16384,c={getSnapshot:f,value:y},f=$e.updateQueue,f===null?(f=qd(),$e.updateQueue=f,f.stores=[c]):(y=f.stores,y===null?f.stores=[c]:y.push(c))}function Ke(c,f,y,M){f.value=y,f.getSnapshot=M,Yn(f)&&Dn(c)}function mn(c,f,y){return y(function(){Yn(f)&&Dn(c)})}function Yn(c){var f=c.getSnapshot;c=c.value;try{var y=f();return!Ga(c,y)}catch{return!0}}function Dn(c){var f=Dt(c,2);f!==null&&Hi(f,c,2)}function je(c){var f=lt();if(typeof c=="function"){var y=c;if(c=y(),ml){q(!0);try{y()}finally{q(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ee,lastRenderedState:c},f}function Ee(c,f,y,M){return c.baseState=y,se(c,Ne,typeof M=="function"?M:ee)}function jn(c,f,y,M,C){if(_f(c))throw Error(a(485));if(c=f.action,c!==null){var O={payload:C,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){O.listeners.push(Y)}};Ie.T!==null?y(!0):O.isTransition=!1,M(O),y=f.pending,y===null?(O.next=f.pending=O,sn(f,O)):(O.next=y.next,f.pending=y.next=O)}}function sn(c,f){var y=f.action,M=f.payload,C=c.state;if(f.isTransition){var O=Ie.T,Y={};Ie.T=Y;try{var tt=y(C,M),dt=Ie.S;dt!==null&&dt(Y,tt),Ki(c,f,tt)}catch(Ot){Qi(c,f,Ot)}finally{Ie.T=O}}else try{O=y(C,M),Ki(c,f,O)}catch(Ot){Qi(c,f,Ot)}}function Ki(c,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(M){Rs(c,f,M)},function(M){return Qi(c,f,M)}):Rs(c,f,y)}function Rs(c,f,y){f.status="fulfilled",f.value=y,Di(f),c.state=y,f=c.pending,f!==null&&(y=f.next,y===f?c.pending=null:(y=y.next,f.next=y,sn(c,y)))}function Qi(c,f,y){var M=c.pending;if(c.pending=null,M!==null){M=M.next;do f.status="rejected",f.reason=y,Di(f),f=f.next;while(f!==M)}c.action=null}function Di(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function On(c,f){return f}function ha(c,f){if(pn){var y=Cn.formState;if(y!==null){t:{var M=$e;if(pn){if(oa){var C=xg(oa,ki);if(C){oa=Sg(C),M=Ty(C);break t}}kt(M)}M=!1}M&&(f=y[0])}}y=lt(),y.memoizedState=y.baseState=f,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:f},y.queue=M,y=Om.bind(null,$e,M),M.dispatch=y,M=je(!1);var O=Xu.bind(null,$e,!1,M.queue);return M=lt(),C={state:f,dispatch:null,action:c,pending:null},M.queue=C,y=jn.bind(null,$e,C,O,y),C.dispatch=y,M.memoizedState=c,[f,y,!1]}function Ji(c){var f=vt();return ti(f,Ne,c)}function ti(c,f,y){f=se(c,f,On)[0],c=de(ee)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Tt(f):f;var M=vt(),C=M.queue,O=C.dispatch;return y!==M.memoizedState&&($e.flags|=2048,Ni(9,$i.bind(null,C,y),{destroy:void 0},null)),[f,O,c]}function $i(c,f){c.action=f}function Hl(c){var f=vt(),y=Ne;if(y!==null)return ti(f,y,c);vt(),f=f.memoizedState,y=vt();var M=y.queue.dispatch;return y.memoizedState=c,[f,M,!1]}function Ni(c,f,y,M){return c={tag:c,create:f,inst:y,deps:M,next:null},f=$e.updateQueue,f===null&&(f=qd(),$e.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=c.next=c:(M=y.next,y.next=c,c.next=M,f.lastEffect=c),c}function Uv(){return vt().memoizedState}function pf(c,f,y,M){var C=lt();$e.flags|=c,C.memoizedState=Ni(1|f,y,{destroy:void 0},M===void 0?null:M)}function mf(c,f,y,M){var C=vt();M=M===void 0?null:M;var O=C.memoizedState.inst;Ne!==null&&M!==null&&er(M,Ne.memoizedState.deps)?C.memoizedState=Ni(f,y,O,M):($e.flags|=c,C.memoizedState=Ni(1|f,y,O,M))}function nd(c,f){pf(8390656,8,c,f)}function Cm(c,f){mf(2048,8,c,f)}function Lv(c,f){return mf(4,2,c,f)}function gf(c,f){return mf(4,4,c,f)}function id(c,f){if(typeof f=="function"){c=c();var y=f(c);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function ad(c,f,y){y=y!=null?y.concat([c]):null,mf(4,4,id.bind(null,f,c),y)}function Go(){}function Gl(c,f){var y=vt();f=f===void 0?null:f;var M=y.memoizedState;return f!==null&&er(f,M[1])?M[0]:(y.memoizedState=[c,f],c)}function Rm(c,f){var y=vt();f=f===void 0?null:f;var M=y.memoizedState;if(f!==null&&er(f,M[1]))return M[0];if(M=c(),ml){q(!0);try{c()}finally{q(!1)}}return y.memoizedState=[M,f],M}function vf(c,f,y){return y===void 0||(Ao&1073741824)!==0?c.memoizedState=f:(c.memoizedState=y,c=Qm(),$e.lanes|=c,gs|=c,y)}function Dm(c,f,y,M){return Ga(y,f)?y:Hn.current!==null?(c=vf(c,y,M),Ga(c,f)||(zn=!0),c):(Ao&42)===0?(zn=!0,c.memoizedState=y):(c=Qm(),$e.lanes|=c,gs|=c,f)}function Gu(c,f,y,M,C){var O=So();pa(O!==0&&8>O?O:8);var Y=Ie.T,tt={};Ie.T=tt,Xu(c,!1,f,y);try{var dt=C(),Ot=Ie.S;if(Ot!==null&&Ot(tt,dt),dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var Qt=$t(dt,M);ko(c,f,Qt,fi(c))}else ko(c,f,M,fi(c))}catch(oe){ko(c,f,{then:function(){},status:"rejected",reason:oe},fi())}finally{pa(O),Ie.T=Y}}function wr(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:sl,baseState:sl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ee,lastRenderedState:sl},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ee,lastRenderedState:y},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function yf(){return ea(sr)}function ku(){return vt().memoizedState}function so(){return vt().memoizedState}function Nm(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var y=fi();c=Gt(y);var M=ie(f,c,y);M!==null&&(Hi(M,f,y),be(M,f,y)),f={cache:jo()},c.payload=f;return}f=f.return}}function sd(c,f,y){var M=fi();y={lane:M,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},_f(c)?Sa(f,y):(y=Pt(c,f,y,M),y!==null&&(Hi(y,c,M),Xo(y,f,M)))}function Om(c,f,y){var M=fi();ko(c,f,y,M)}function ko(c,f,y,M){var C={lane:M,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(_f(c))Sa(f,C);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=f.lastRenderedReducer,O!==null))try{var Y=f.lastRenderedState,tt=O(Y,y);if(C.hasEagerState=!0,C.eagerState=tt,Ga(tt,Y))return Bt(c,f,C,0),Cn===null&&Vt(),!1}catch{}finally{}if(y=Pt(c,f,C,M),y!==null)return Hi(y,c,M),Xo(y,f,M),!0}return!1}function Xu(c,f,y,M){if(M={lane:2,revertLane:Lt(),action:M,hasEagerState:!1,eagerState:null,next:null},_f(c)){if(f)throw Error(a(479))}else f=Pt(c,y,M,2),f!==null&&Hi(f,c,2)}function _f(c){var f=c.alternate;return c===$e||f!==null&&f===$e}function Sa(c,f){su=Fs=!0;var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}function Xo(c,f,y){if((y&4194176)!==0){var M=f.lanes;M&=c.pendingLanes,y|=M,f.lanes=y,ct(c,y)}}function qu(c,f,y,M){f=c.memoizedState,y=y(M,f),y=y==null?f:Td({},f,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}function Yu(c,f,y,M,C,O,Y){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(M,O,Y):f.prototype&&f.prototype.isPureReactComponent?!te(y,M)||!te(C,O):!0}function Pv(c,f,y,M){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,M),f.state!==c&&Br.enqueueReplaceState(f,f.state,null)}function ro(c,f){var y=f;if("ref"in f){y={};for(var M in f)M!=="ref"&&(y[M]=f[M])}if(c=c.defaultProps){y===f&&(y=Td({},y));for(var C in c)y[C]===void 0&&(y[C]=c[C])}return y}function ju(c,f){try{var y=c.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(M){setTimeout(function(){throw M})}}function Wu(c,f,y){try{var M=c.onCaughtError;M(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Zu(c,f,y){return y=Gt(y),y.tag=3,y.payload={element:null},y.callback=function(){ju(c,f)},y}function Um(c){return c=Gt(c),c.tag=3,c}function zv(c,f,y,M){var C=y.type.getDerivedStateFromError;if(typeof C=="function"){var O=M.value;c.payload=function(){return C(O)},c.callback=function(){Wu(f,y,M)}}var Y=y.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(c.callback=function(){Wu(f,y,M),typeof C!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var tt=M.stack;this.componentDidCatch(M.value,{componentStack:tt!==null?tt:""})})}function RS(c,f,y,M,C){if(y.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(f=y.alternate,f!==null&&Mf(f,y,C,!0),y=fs.current,y!==null){switch(y.tag){case 13:return Pn===null?mo():y.alternate===null&&Bn===0&&(Bn=3),y.flags&=-257,y.flags|=65536,y.lanes=C,M===eh?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([M]):f.add(M),ql(c,M,C)),!1;case 22:return y.flags|=65536,M===eh?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([M])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([M]):y.add(M)),ql(c,M,C)),!1}throw Error(a(435,y.tag))}return ql(c,M,C),mo(),!1}if(pn)return f=fs.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=C,M!==Jf&&(c=Error(a(422),{cause:M}),Q(rt(c,y)))):(M!==Jf&&(f=Error(a(423),{cause:M}),Q(rt(f,y))),c=c.current.alternate,c.flags|=65536,C&=-C,c.lanes|=C,M=rt(M,y),C=Zu(c.stateNode,M,C),ve(c,C),Bn!==4&&(Bn=2)),!1;var O=Error(a(520),{cause:M});if(O=rt(O,y),lu===null?lu=[O]:lu.push(O),Bn!==4&&(Bn=2),f===null)return!0;M=rt(M,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,c=C&-C,y.lanes|=c,c=Zu(y.stateNode,M,c),ve(y,c),!1;case 1:if(f=y.type,O=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(vl===null||!vl.has(O))))return y.flags|=65536,C&=-C,y.lanes|=C,C=Um(C),zv(C,c,y,M),ve(y,C),!1}y=y.return}while(y!==null);return!1}function ta(c,f,y,M){f.child=c===null?zr(f,null,y,M):pl(f,c.child,y,M)}function rd(c,f,y,M,C){y=y.render;var O=f.ref;if("ref"in M){var Y={};for(var tt in M)tt!=="ref"&&(Y[tt]=M[tt])}else Y=M;return Yo(f),M=Ar(c,f,y,Y,O,C),tt=Vu(),c!==null&&!zn?(Hu(c,f,C),oo(c,f,C)):(pn&&tt&&_t(f),f.flags|=1,ta(c,f,M,C),f.child)}function Bv(c,f,y,M,C){if(c===null){var O=y.type;return typeof O=="function"&&!zf(O)&&O.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=O,Iv(c,f,O,M,C)):(c=Dr(y.type,null,M,f,f.mode,C),c.ref=f.ref,c.return=f,f.child=c)}if(O=c.child,!Im(c,C)){var Y=O.memoizedProps;if(y=y.compare,y=y!==null?y:te,y(Y,M)&&c.ref===f.ref)return oo(c,f,C)}return f.flags|=1,c=Os(O,M),c.ref=f.ref,c.return=f,f.child=c}function Iv(c,f,y,M,C){if(c!==null){var O=c.memoizedProps;if(te(O,M)&&c.ref===f.ref)if(zn=!1,f.pendingProps=M=O,Im(c,C))(c.flags&131072)!==0&&(zn=!0);else return f.lanes=c.lanes,oo(c,f,C)}return od(c,f,y,M,C)}function Fv(c,f,y){var M=f.pendingProps,C=M.children,O=(f.stateNode._pendingVisibility&2)!==0,Y=c!==null?c.memoizedState:null;if(xf(c,f),M.mode==="hidden"||O){if((f.flags&128)!==0){if(M=Y!==null?Y.baseLanes|y:y,c!==null){for(C=f.child=c.child,O=0;C!==null;)O=O|C.lanes|C.childLanes,C=C.sibling;f.childLanes=O&~M}else f.childLanes=0,f.child=null;return Vv(c,f,M,y)}if((y&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&ud(f,Y!==null?Y.cachePool:null),Y!==null?Si(f,Y):Jn(),df(f);else return f.lanes=f.childLanes=536870912,Vv(c,f,Y!==null?Y.baseLanes|y:y,y)}else Y!==null?(ud(f,Y.cachePool),Si(f,Y),es(),f.memoizedState=null):(c!==null&&ud(f,null),Jn(),es());return ta(c,f,C,y),f.child}function Vv(c,f,y,M){var C=Vm();return C=C===null?null:{parent:Ta?Gn._currentValue:Gn._currentValue2,pool:C},f.memoizedState={baseLanes:y,cachePool:C},c!==null&&ud(f,null),Jn(),df(f),c!==null&&Mf(c,f,M,!0),null}function xf(c,f){var y=f.ref;if(y===null)c!==null&&c.ref!==null&&(f.flags|=2097664);else{if(typeof y!="function"&&typeof y!="object")throw Error(a(284));(c===null||c.ref!==y)&&(f.flags|=2097664)}}function od(c,f,y,M,C){return Yo(f),y=Ar(c,f,y,M,void 0,C),M=Vu(),c!==null&&!zn?(Hu(c,f,C),oo(c,f,C)):(pn&&M&&_t(f),f.flags|=1,ta(c,f,y,C),f.child)}function Hv(c,f,y,M,C,O){return Yo(f),f.updateQueue=null,y=ao(f,M,y,C),Ho(c),M=Vu(),c!==null&&!zn?(Hu(c,f,O),oo(c,f,O)):(pn&&M&&_t(f),f.flags|=1,ta(c,f,y,O),f.child)}function Gv(c,f,y,M,C){if(Yo(f),f.stateNode===null){var O=ul,Y=y.contextType;typeof Y=="object"&&Y!==null&&(O=ea(Y)),O=new y(M,O),f.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Br,f.stateNode=O,O._reactInternals=f,O=f.stateNode,O.props=M,O.state=f.memoizedState,O.refs={},me(f),Y=y.contextType,O.context=typeof Y=="object"&&Y!==null?ea(Y):ul,O.state=f.memoizedState,Y=y.getDerivedStateFromProps,typeof Y=="function"&&(qu(f,y,Y,M),O.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(Y=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),Y!==O.state&&Br.enqueueReplaceState(O,O.state,null),Be(f,M,O,C),ae(),O.state=f.memoizedState),typeof O.componentDidMount=="function"&&(f.flags|=4194308),M=!0}else if(c===null){O=f.stateNode;var tt=f.memoizedProps,dt=ro(y,tt);O.props=dt;var Ot=O.context,Qt=y.contextType;Y=ul,typeof Qt=="object"&&Qt!==null&&(Y=ea(Qt));var oe=y.getDerivedStateFromProps;Qt=typeof oe=="function"||typeof O.getSnapshotBeforeUpdate=="function",tt=f.pendingProps!==tt,Qt||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(tt||Ot!==Y)&&Pv(f,O,M,Y),Eo=!1;var ue=f.memoizedState;O.state=ue,Be(f,M,O,C),ae(),Ot=f.memoizedState,tt||ue!==Ot||Eo?(typeof oe=="function"&&(qu(f,y,oe,M),Ot=f.memoizedState),(dt=Eo||Yu(f,y,dt,M,ue,Ot,Y))?(Qt||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(f.flags|=4194308)):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=Ot),O.props=M,O.state=Ot,O.context=Y,M=dt):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{O=f.stateNode,ge(c,f),Y=f.memoizedProps,Qt=ro(y,Y),O.props=Qt,oe=f.pendingProps,ue=O.context,Ot=y.contextType,dt=ul,typeof Ot=="object"&&Ot!==null&&(dt=ea(Ot)),tt=y.getDerivedStateFromProps,(Ot=typeof tt=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Y!==oe||ue!==dt)&&Pv(f,O,M,dt),Eo=!1,ue=f.memoizedState,O.state=ue,Be(f,M,O,C),ae();var Ye=f.memoizedState;Y!==oe||ue!==Ye||Eo||c!==null&&c.dependencies!==null&&Tf(c.dependencies)?(typeof tt=="function"&&(qu(f,y,tt,M),Ye=f.memoizedState),(Qt=Eo||Yu(f,y,Qt,M,ue,Ye,dt)||c!==null&&c.dependencies!==null&&Tf(c.dependencies))?(Ot||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(M,Ye,dt),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(M,Ye,dt)),typeof O.componentDidUpdate=="function"&&(f.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof O.componentDidUpdate!="function"||Y===c.memoizedProps&&ue===c.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&ue===c.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=Ye),O.props=M,O.state=Ye,O.context=dt,M=Qt):(typeof O.componentDidUpdate!="function"||Y===c.memoizedProps&&ue===c.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&ue===c.memoizedState||(f.flags|=1024),M=!1)}return O=M,xf(c,f),M=(f.flags&128)!==0,O||M?(O=f.stateNode,y=M&&typeof y.getDerivedStateFromError!="function"?null:O.render(),f.flags|=1,c!==null&&M?(f.child=pl(f,c.child,null,C),f.child=pl(f,null,y,C)):ta(c,f,y,C),f.memoizedState=O.state,c=f.child):c=oo(c,f,C),c}function kv(c,f,y,M){return hn(),f.flags|=256,ta(c,f,y,M),f.child}function Lm(c){return{baseLanes:c,cachePool:Hm()}}function Sf(c,f,y){return c=c!==null?c.childLanes&~y:0,f&&(c|=vs),c}function Xv(c,f,y){var M=f.pendingProps,C=!1,O=(f.flags&128)!==0,Y;if((Y=O)||(Y=c!==null&&c.memoizedState===null?!1:(Li.current&2)!==0),Y&&(C=!0,f.flags&=-129),Y=(f.flags&32)!==0,f.flags&=-33,c===null){if(pn){if(C?ts(f):es(),pn){var tt=oa,dt;(dt=tt)&&(tt=wy(tt,ki),tt!==null?(f.memoizedState={dehydrated:tt,treeContext:cl!==null?{id:or,overflow:lr}:null,retryLane:536870912},dt=e(18,null,null,0),dt.stateNode=tt,dt.return=f,f.child=dt,ra=f,oa=null,dt=!0):dt=!1),dt||kt(f)}if(tt=f.memoizedState,tt!==null&&(tt=tt.dehydrated,tt!==null))return Ld(tt)?f.lanes=16:f.lanes=536870912,null;ns(f)}return tt=M.children,M=M.fallback,C?(es(),C=f.mode,tt=zm({mode:"hidden",children:tt},C),M=ai(M,C,y,null),tt.return=f,M.return=f,tt.sibling=M,f.child=tt,C=f.child,C.memoizedState=Lm(y),C.childLanes=Sf(c,Y,y),f.memoizedState=Wd,M):(ts(f),Pm(f,tt))}if(dt=c.memoizedState,dt!==null&&(tt=dt.dehydrated,tt!==null)){if(O)f.flags&256?(ts(f),f.flags&=-257,f=ld(c,f,y)):f.memoizedState!==null?(es(),f.child=c.child,f.flags|=128,f=null):(es(),C=M.fallback,tt=f.mode,M=zm({mode:"visible",children:M.children},tt),C=ai(C,tt,y,null),C.flags|=2,M.return=f,C.return=f,M.sibling=C,f.child=M,pl(f,c.child,null,y),M=f.child,M.memoizedState=Lm(y),M.childLanes=Sf(c,Y,y),f.memoizedState=Wd,f=C);else if(ts(f),Ld(tt))Y=by(tt).digest,M=Error(a(419)),M.stack="",M.digest=Y,Q({value:M,source:null,stack:null}),f=ld(c,f,y);else if(zn||Mf(c,f,y,!1),Y=(y&c.childLanes)!==0,zn||Y){if(Y=Cn,Y!==null){if(M=y&-y,(M&42)!==0)M=1;else switch(M){case 2:M=1;break;case 8:M=4;break;case 32:M=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:M=64;break;case 268435456:M=134217728;break;default:M=0}if(M=(M&(Y.suspendedLanes|y))!==0?0:M,M!==0&&M!==dt.retryLane)throw dt.retryLane=M,Dt(c,M),Hi(Y,c,M),jd}Ud(tt)||mo(),f=ld(c,f,y)}else Ud(tt)?(f.flags|=128,f.child=c.child,f=go.bind(null,c),My(tt,f),f=null):(c=dt.treeContext,sa&&(oa=Ay(tt),ra=f,pn=!0,Bs=null,ki=!1,c!==null&&(ls[us++]=or,ls[us++]=lr,ls[us++]=cl,or=c.id,lr=c.overflow,cl=f)),f=Pm(f,M.children),f.flags|=4096);return f}return C?(es(),C=M.fallback,tt=f.mode,dt=c.child,O=dt.sibling,M=Os(dt,{mode:"hidden",children:M.children}),M.subtreeFlags=dt.subtreeFlags&31457280,O!==null?C=Os(O,C):(C=ai(C,tt,y,null),C.flags|=2),C.return=f,M.return=f,M.sibling=C,f.child=M,M=C,C=f.child,tt=c.child.memoizedState,tt===null?tt=Lm(y):(dt=tt.cachePool,dt!==null?(O=Ta?Gn._currentValue:Gn._currentValue2,dt=dt.parent!==O?{parent:O,pool:O}:dt):dt=Hm(),tt={baseLanes:tt.baseLanes|y,cachePool:dt}),C.memoizedState=tt,C.childLanes=Sf(c,Y,y),f.memoizedState=Wd,M):(ts(f),y=c.child,c=y.sibling,y=Os(y,{mode:"visible",children:M.children}),y.return=f,y.sibling=null,c!==null&&(Y=f.deletions,Y===null?(f.deletions=[c],f.flags|=16):Y.push(c)),f.child=y,f.memoizedState=null,y)}function Pm(c,f){return f=zm({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function zm(c,f){return If(c,f,0,null)}function ld(c,f,y){return pl(f,c.child,null,y),c=Pm(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function qv(c,f,y){c.lanes|=f;var M=c.alternate;M!==null&&(M.lanes|=f),bf(c.return,f,y)}function Bm(c,f,y,M,C){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:y,tailMode:C}:(O.isBackwards=f,O.rendering=null,O.renderingStartTime=0,O.last=M,O.tail=y,O.tailMode=C)}function Yv(c,f,y){var M=f.pendingProps,C=M.revealOrder,O=M.tail;if(ta(c,f,M.children,y),M=Li.current,(M&2)!==0)M=M&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)t:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&qv(c,y,f);else if(c.tag===19)qv(c,y,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break t;for(;c.sibling===null;){if(c.return===null||c.return===f)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}M&=1}switch(R(Li,M),C){case"forwards":for(y=f.child,C=null;y!==null;)c=y.alternate,c!==null&&is(c)===null&&(C=y),y=y.sibling;y=C,y===null?(C=f.child,f.child=null):(C=y.sibling,y.sibling=null),Bm(f,!1,C,y,O);break;case"backwards":for(y=null,C=f.child,f.child=null;C!==null;){if(c=C.alternate,c!==null&&is(c)===null){f.child=C;break}c=C.sibling,C.sibling=y,y=C,C=c}Bm(f,!0,y,null,O);break;case"together":Bm(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function oo(c,f,y){if(c!==null&&(f.dependencies=c.dependencies),gs|=f.lanes,(y&f.childLanes)===0)if(c!==null){if(Mf(c,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(a(153));if(f.child!==null){for(c=f.child,y=Os(c,c.pendingProps),f.child=y,y.return=f;c.sibling!==null;)c=c.sibling,y=y.sibling=Os(c,c.pendingProps),y.return=f;y.sibling=null}return f.child}function Im(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Tf(c)))}function DS(c,f,y){switch(f.tag){case 3:Rt(f,f.stateNode.containerInfo),qo(f,Gn,c.memoizedState.cache),hn();break;case 27:case 5:mt(f);break;case 4:Rt(f,f.stateNode.containerInfo);break;case 10:qo(f,f.type,f.memoizedProps.value);break;case 13:var M=f.memoizedState;if(M!==null)return M.dehydrated!==null?(ts(f),f.flags|=128,null):(y&f.child.childLanes)!==0?Xv(c,f,y):(ts(f),c=oo(c,f,y),c!==null?c.sibling:null);ts(f);break;case 19:var C=(c.flags&128)!==0;if(M=(y&f.childLanes)!==0,M||(Mf(c,f,y,!1),M=(y&f.childLanes)!==0),C){if(M)return Yv(c,f,y);f.flags|=128}if(C=f.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),R(Li,Li.current),M)break;return null;case 22:case 23:return f.lanes=0,Fv(c,f,y);case 24:qo(f,Gn,c.memoizedState.cache)}return oo(c,f,y)}function jv(c,f,y){if(c!==null)if(c.memoizedProps!==f.pendingProps)zn=!0;else{if(!Im(c,y)&&(f.flags&128)===0)return zn=!1,DS(c,f,y);zn=(c.flags&131072)!==0}else zn=!1,pn&&(f.flags&1048576)!==0&&nt(f,gc,f.index);switch(f.lanes=0,f.tag){case 16:t:{c=f.pendingProps;var M=f.elementType,C=M._init;if(M=C(M._payload),f.type=M,typeof M=="function")zf(M)?(c=ro(M,c),f.tag=1,f=Gv(null,f,M,c,y)):(f.tag=0,f=od(null,f,M,c,y));else{if(M!=null){if(C=M.$$typeof,C===kf){f.tag=11,f=rd(null,f,M,c,y);break t}else if(C===wd){f.tag=14,f=Bv(null,f,M,c,y);break t}}throw f=o(M)||M,Error(a(306,f,""))}}return f;case 0:return od(c,f,f.type,f.pendingProps,y);case 1:return M=f.type,C=ro(M,f.pendingProps),Gv(c,f,M,C,y);case 3:t:{if(Rt(f,f.stateNode.containerInfo),c===null)throw Error(a(387));var O=f.pendingProps;C=f.memoizedState,M=C.element,ge(c,f),Be(f,O,null,y);var Y=f.memoizedState;if(O=Y.cache,qo(f,Gn,O),O!==C.cache&&kl(f,[Gn],y,!0),ae(),O=Y.element,sa&&C.isDehydrated)if(C={element:O,isDehydrated:!1,cache:Y.cache},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){f=kv(c,f,O,y);break t}else if(O!==M){M=rt(Error(a(424)),f),Q(M),f=kv(c,f,O,y);break t}else for(sa&&(oa=Ey(f.stateNode.containerInfo),ra=f,pn=!0,Bs=null,ki=!0),y=zr(f,null,O,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(hn(),O===M){f=oo(c,f,y);break t}ta(c,f,O,y)}f=f.child}return f;case 26:if(os)return xf(c,f),c===null?(y=Tg(f.type,null,f.pendingProps,null))?f.memoizedState=y:pn||(f.stateNode=Fd(f.type,f.pendingProps,Lr.current,f)):f.memoizedState=Tg(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:if(Ln)return mt(f),c===null&&Ln&&pn&&(M=f.stateNode=rr(f.type,f.pendingProps,Lr.current,Ui.current,!1),ra=f,ki=!0,oa=Pd(M)),M=f.pendingProps.children,c!==null||pn?ta(c,f,M,y):f.child=pl(f,null,M,y),xf(c,f),f.child;case 5:return c===null&&pn&&(Bd(f.type,f.pendingProps,Ui.current),(C=M=oa)&&(M=BS(M,f.type,f.pendingProps,ki),M!==null?(f.stateNode=M,ra=f,oa=Pd(M),ki=!1,C=!0):C=!1),C||kt(f)),mt(f),C=f.type,O=f.pendingProps,Y=c!==null?c.memoizedProps:null,M=O.children,Ze(C,O)?M=null:Y!==null&&Ze(C,Y)&&(f.flags|=32),f.memoizedState!==null&&(C=Ar(c,f,bi,null,null,y),Ta?sr._currentValue=C:sr._currentValue2=C),xf(c,f),ta(c,f,M,y),f.child;case 6:return c===null&&pn&&(Oy(f.pendingProps,Ui.current),(c=y=oa)&&(y=bg(y,f.pendingProps,ki),y!==null?(f.stateNode=y,ra=f,oa=null,c=!0):c=!1),c||kt(f)),null;case 13:return Xv(c,f,y);case 4:return Rt(f,f.stateNode.containerInfo),M=f.pendingProps,c===null?f.child=pl(f,null,M,y):ta(c,f,M,y),f.child;case 11:return rd(c,f,f.type,f.pendingProps,y);case 7:return ta(c,f,f.pendingProps,y),f.child;case 8:return ta(c,f,f.pendingProps.children,y),f.child;case 12:return ta(c,f,f.pendingProps.children,y),f.child;case 10:return M=f.pendingProps,qo(f,f.type,M.value),ta(c,f,M.children,y),f.child;case 9:return C=f.type._context,M=f.pendingProps.children,Yo(f),C=ea(C),M=M(C),f.flags|=1,ta(c,f,M,y),f.child;case 14:return Bv(c,f,f.type,f.pendingProps,y);case 15:return Iv(c,f,f.type,f.pendingProps,y);case 19:return Yv(c,f,y);case 22:return Fv(c,f,y);case 24:return Yo(f),M=ea(Gn),c===null?(C=Vm(),C===null&&(C=Cn,O=jo(),C.pooledCache=O,O.refCount++,O!==null&&(C.pooledCacheLanes|=y),C=O),f.memoizedState={parent:M,cache:C},me(f),qo(f,Gn,C)):((c.lanes&y)!==0&&(ge(c,f),Be(f,null,null,y),ae()),C=c.memoizedState,O=f.memoizedState,C.parent!==M?(C={parent:M,cache:M},f.memoizedState=C,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=C),qo(f,Gn,M)):(M=O.cache,qo(f,Gn,M),M!==C.cache&&kl(f,[Gn],y,!0))),ta(c,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(a(156,f.tag))}function qo(c,f,y){Ta?(R(wo,f._currentValue),f._currentValue=y):(R(wo,f._currentValue2),f._currentValue2=y)}function lo(c){var f=wo.current;Ta?c._currentValue=f:c._currentValue2=f,b(wo)}function bf(c,f,y){for(;c!==null;){var M=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),c===y)break;c=c.return}}function kl(c,f,y,M){var C=c.child;for(C!==null&&(C.return=c);C!==null;){var O=C.dependencies;if(O!==null){var Y=C.child;O=O.firstContext;t:for(;O!==null;){var tt=O;O=C;for(var dt=0;dt<f.length;dt++)if(tt.context===f[dt]){O.lanes|=y,tt=O.alternate,tt!==null&&(tt.lanes|=y),bf(O.return,y,c),M||(Y=null);break t}O=tt.next}}else if(C.tag===18){if(Y=C.return,Y===null)throw Error(a(341));Y.lanes|=y,O=Y.alternate,O!==null&&(O.lanes|=y),bf(Y,y,c),Y=null}else Y=C.child;if(Y!==null)Y.return=C;else for(Y=C;Y!==null;){if(Y===c){Y=null;break}if(C=Y.sibling,C!==null){C.return=Y.return,Y=C;break}Y=Y.return}C=Y}}function Mf(c,f,y,M){c=null;for(var C=f,O=!1;C!==null;){if(!O){if((C.flags&524288)!==0)O=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var Y=C.alternate;if(Y===null)throw Error(a(387));if(Y=Y.memoizedProps,Y!==null){var tt=C.type;Ga(C.pendingProps.value,Y.value)||(c!==null?c.push(tt):c=[tt])}}else if(C===$l.current){if(Y=C.alternate,Y===null)throw Error(a(387));Y.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(c!==null?c.push(sr):c=[sr])}C=C.return}c!==null&&kl(f,c,y,M),f.flags|=262144}function Tf(c){for(c=c.firstContext;c!==null;){var f=c.context;if(!Ga(Ta?f._currentValue:f._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function Yo(c){fr=c,ds=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function ea(c){return Fm(fr,c)}function Ef(c,f){return fr===null&&Yo(c),Fm(c,f)}function Fm(c,f){var y=Ta?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:y,next:null},ds===null){if(c===null)throw Error(a(308));ds=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else ds=ds.next=f;return y}function jo(){return{controller:new bc,data:new Map,refCount:0}}function Af(c){c.refCount--,c.refCount===0&&ky(Xy,function(){c.controller.abort()})}function Vm(){var c=Ir.current;return c!==null?c:Cn.pooledCache}function ud(c,f){f===null?R(Ir,Ir.current):R(Ir,f.pool)}function Hm(){var c=Vm();return c===null?null:{parent:Ta?Gn._currentValue:Gn._currentValue2,pool:c}}function Pa(c){c.flags|=4}function Ku(c,f){if(c!==null&&c.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(c=f.child;c!==null;){if((c.flags&13878)!==0||(c.subtreeFlags&13878)!==0)return!0;c=c.sibling}return!1}function Xl(c,f,y,M){if(Oi)for(y=f.child;y!==null;){if(y.tag===5||y.tag===6)qf(c,y.stateNode);else if(!(y.tag===4||Ln&&y.tag===27)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}else if(Ps)for(var C=f.child;C!==null;){if(C.tag===5){var O=C.stateNode;y&&M&&(O=yg(O,C.type,C.memoizedProps)),qf(c,O)}else if(C.tag===6)O=C.stateNode,y&&M&&(O=_g(O,C.memoizedProps)),qf(c,O);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)O=C.child,O!==null&&(O.return=C),Xl(c,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}}function Wv(c,f,y,M){if(Ps)for(var C=f.child;C!==null;){if(C.tag===5){var O=C.stateNode;y&&M&&(O=yg(O,C.type,C.memoizedProps)),vg(c,O)}else if(C.tag===6)O=C.stateNode,y&&M&&(O=_g(O,C.memoizedProps)),vg(c,O);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)O=C.child,O!==null&&(O.return=C),Wv(c,C,!(C.memoizedProps!==null&&C.memoizedProps.mode==="manual"),!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}}function wf(c,f){if(Ps&&Ku(c,f)){c=f.stateNode;var y=c.containerInfo,M=Yf();Wv(M,f,!1,!1),c.pendingChildren=M,Pa(f),Od(y,M)}}function cd(c,f,y,M){if(Oi)c.memoizedProps!==M&&Pa(f);else if(Ps){var C=c.stateNode,O=c.memoizedProps;if((c=Ku(c,f))||O!==M){var Y=Ui.current;O=dc(C,y,O,M,!c,null),O===C?f.stateNode=C:(xo(O,y,M,Y)&&Pa(f),f.stateNode=O,c?Xl(O,f,!1,!1):Pa(f))}else f.stateNode=C}}function fd(c,f,y){if(ug(f,y)){if(c.flags|=16777216,!Dd(f,y))if($o())c.flags|=8192;else throw fl=eh,th}else c.flags&=-16777217}function hd(c,f){if(Py(f)){if(c.flags|=16777216,!Wl(f))if($o())c.flags|=8192;else throw fl=eh,th}else c.flags&=-16777217}function Qu(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?L():536870912,c.lanes|=f,Hr|=f)}function Ju(c,f){if(!pn)switch(c.tailMode){case"hidden":f=c.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var M=null;y!==null;)y.alternate!==null&&(M=y),y=y.sibling;M===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:M.sibling=null}}function $n(c){var f=c.alternate!==null&&c.alternate.child===c.child,y=0,M=0;if(f)for(var C=c.child;C!==null;)y|=C.lanes|C.childLanes,M|=C.subtreeFlags&31457280,M|=C.flags&31457280,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)y|=C.lanes|C.childLanes,M|=C.subtreeFlags,M|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=M,c.childLanes=y,f}function Zv(c,f,y){var M=f.pendingProps;switch(wt(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(f),null;case 1:return $n(f),null;case 3:return y=f.stateNode,M=null,c!==null&&(M=c.memoizedState.cache),f.memoizedState.cache!==M&&(f.flags|=2048),lo(Gn),qt(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(c===null||c.child===null)&&(Xe(f)?Pa(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Bs!==null&&(Lf(Bs),Bs=null))),wf(c,f),$n(f),null;case 26:if(os){y=f.type;var C=f.memoizedState;return c===null?(Pa(f),C!==null?($n(f),hd(f,C)):($n(f),fd(f,y,M))):C?C!==c.memoizedState?(Pa(f),$n(f),hd(f,C)):($n(f),f.flags&=-16777217):(Oi?c.memoizedProps!==M&&Pa(f):cd(c,f,y,M),$n(f),fd(f,y,M)),null}case 27:if(Ln){if(Nt(f),y=Lr.current,C=f.type,c!==null&&f.stateNode!=null)Oi?c.memoizedProps!==M&&Pa(f):cd(c,f,C,M);else{if(!M){if(f.stateNode===null)throw Error(a(166));return $n(f),null}c=Ui.current,Xe(f)?he(f,c):(c=rr(C,M,y,c,!0),f.stateNode=c,Pa(f))}return $n(f),null}case 5:if(Nt(f),y=f.type,c!==null&&f.stateNode!=null)cd(c,f,y,M);else{if(!M){if(f.stateNode===null)throw Error(a(166));return $n(f),null}c=Ui.current,Xe(f)?he(f,c):(C=lg(y,M,Lr.current,c,f),Xl(C,f,!1,!1),f.stateNode=C,xo(C,y,M,c)&&Pa(f))}return $n(f),fd(f,f.type,f.pendingProps),null;case 6:if(c&&f.stateNode!=null)y=c.memoizedProps,Oi?y!==M&&Pa(f):Ps&&(y!==M?(f.stateNode=Nn(M,Lr.current,Ui.current,f),Pa(f)):f.stateNode=c.stateNode);else{if(typeof M!="string"&&f.stateNode===null)throw Error(a(166));if(c=Lr.current,y=Ui.current,Xe(f)){if(!sa)throw Error(a(176));if(c=f.stateNode,y=f.memoizedProps,M=null,C=ra,C!==null)switch(C.tag){case 27:case 5:M=C.memoizedProps}Mg(c,y,f,M)||kt(f)}else f.stateNode=Nn(M,c,y,f)}return $n(f),null;case 13:if(M=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(C=Xe(f),M!==null&&M.dehydrated!==null){if(c===null){if(!C)throw Error(a(318));if(!sa)throw Error(a(344));if(C=f.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(a(317));Ry(C,f)}else hn(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;$n(f),C=!1}else Bs!==null&&(Lf(Bs),Bs=null),C=!0;if(!C)return f.flags&256?(ns(f),f):(ns(f),null)}if(ns(f),(f.flags&128)!==0)return f.lanes=y,f;if(y=M!==null,c=c!==null&&c.memoizedState!==null,y){M=f.child,C=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(C=M.alternate.memoizedState.cachePool.pool);var O=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(O=M.memoizedState.cachePool.pool),O!==C&&(M.flags|=2048)}return y!==c&&y&&(f.child.flags|=8192),Qu(f,f.updateQueue),$n(f),null;case 4:return qt(),wf(c,f),c===null&&hi(f.stateNode.containerInfo),$n(f),null;case 10:return lo(f.type),$n(f),null;case 19:if(b(Li),C=f.memoizedState,C===null)return $n(f),null;if(M=(f.flags&128)!==0,O=C.rendering,O===null)if(M)Ju(C,!1);else{if(Bn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(O=is(c),O!==null){for(f.flags|=128,Ju(C,!1),c=O.updateQueue,f.updateQueue=c,Qu(f,c),f.subtreeFlags=0,c=y,y=f.child;y!==null;)Bf(y,c),y=y.sibling;return R(Li,Li.current&1|2),f.child}c=c.sibling}C.tail!==null&&zs()>Ec&&(f.flags|=128,M=!0,Ju(C,!1),f.lanes=4194304)}else{if(!M)if(c=is(O),c!==null){if(f.flags|=128,M=!0,c=c.updateQueue,f.updateQueue=c,Qu(f,c),Ju(C,!0),C.tail===null&&C.tailMode==="hidden"&&!O.alternate&&!pn)return $n(f),null}else 2*zs()-C.renderingStartTime>Ec&&y!==536870912&&(f.flags|=128,M=!0,Ju(C,!1),f.lanes=4194304);C.isBackwards?(O.sibling=f.child,f.child=O):(c=C.last,c!==null?c.sibling=O:f.child=O,C.last=O)}return C.tail!==null?(f=C.tail,C.rendering=f,C.tail=f.sibling,C.renderingStartTime=zs(),f.sibling=null,c=Li.current,R(Li,M?c&1|2:c&1),f):($n(f),null);case 22:case 23:return ns(f),Cs(),M=f.memoizedState!==null,c!==null?c.memoizedState!==null!==M&&(f.flags|=8192):M&&(f.flags|=8192),M?(y&536870912)!==0&&(f.flags&128)===0&&($n(f),f.subtreeFlags&6&&(f.flags|=8192)):$n(f),y=f.updateQueue,y!==null&&Qu(f,y.retryQueue),y=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),M=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(M=f.memoizedState.cachePool.pool),M!==y&&(f.flags|=2048),c!==null&&b(Ir),null;case 24:return y=null,c!==null&&(y=c.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),lo(Gn),$n(f),null;case 25:return null}throw Error(a(156,f.tag))}function NS(c,f){switch(wt(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return lo(Gn),qt(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Nt(f),null;case 13:if(ns(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(a(340));hn()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return b(Li),null;case 4:return qt(),null;case 10:return lo(f.type),null;case 22:case 23:return ns(f),Cs(),c!==null&&b(Ir),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return lo(Gn),null;case 25:return null;default:return null}}function Kv(c,f){switch(wt(f),f.tag){case 3:lo(Gn),qt();break;case 26:case 27:case 5:Nt(f);break;case 4:qt();break;case 13:ns(f);break;case 19:b(Li);break;case 10:lo(f.type);break;case 22:case 23:ns(f),Cs(),c!==null&&b(Ir);break;case 24:lo(Gn)}}function Cf(c,f){try{var y=f.updateQueue,M=y!==null?y.lastEffect:null;if(M!==null){var C=M.next;y=C;do{if((y.tag&c)===c){M=void 0;var O=y.create,Y=y.inst;M=O(),Y.destroy=M}y=y.next}while(y!==C)}}catch(tt){An(f,f.return,tt)}}function Wo(c,f,y){try{var M=f.updateQueue,C=M!==null?M.lastEffect:null;if(C!==null){var O=C.next;M=O;do{if((M.tag&c)===c){var Y=M.inst,tt=Y.destroy;if(tt!==void 0){Y.destroy=void 0,C=f;var dt=y;try{tt()}catch(Ot){An(C,dt,Ot)}}}M=M.next}while(M!==O)}}catch(Ot){An(f,f.return,Ot)}}function Qv(c){var f=c.updateQueue;if(f!==null){var y=c.stateNode;try{Zt(f,y)}catch(M){An(c,c.return,M)}}}function za(c,f,y){y.props=ro(c.type,c.memoizedProps),y.state=c.memoizedState;try{y.componentWillUnmount()}catch(M){An(c,f,M)}}function nr(c,f){try{var y=c.ref;if(y!==null){var M=c.stateNode;switch(c.tag){case 26:case 27:case 5:var C=cc(M);break;default:C=M}typeof y=="function"?c.refCleanup=y(C):y.current=C}}catch(O){An(c,f,O)}}function Ba(c,f){var y=c.ref,M=c.refCleanup;if(y!==null)if(typeof M=="function")try{M()}catch(C){An(c,f,C)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(C){An(c,f,C)}else y.current=null}function Gm(c){var f=c.type,y=c.memoizedProps,M=c.stateNode;try{PS(M,f,y,c)}catch(C){An(c,c.return,C)}}function km(c,f,y){try{py(c.stateNode,c.type,y,f,c)}catch(M){An(c,c.return,M)}}function Xm(c){return c.tag===5||c.tag===3||(os?c.tag===26:!1)||(Ln?c.tag===27:!1)||c.tag===4}function Rf(c){t:for(;;){for(;c.sibling===null;){if(c.return===null||Xm(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&(!Ln||c.tag!==27)&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue t;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function qm(c,f,y){var M=c.tag;if(M===5||M===6)c=c.stateNode,f?gy(y,c,f):pg(y,c);else if(!(M===4||Ln&&M===27)&&(c=c.child,c!==null))for(qm(c,f,y),c=c.sibling;c!==null;)qm(c,f,y),c=c.sibling}function uo(c,f,y){var M=c.tag;if(M===5||M===6)c=c.stateNode,f?my(y,c,f):hy(y,c);else if(!(M===4||Ln&&M===27)&&(c=c.child,c!==null))for(uo(c,f,y),c=c.sibling;c!==null;)uo(c,f,y),c=c.sibling}function dd(c,f,y){c=c.containerInfo;try{pc(c,y)}catch(M){An(f,f.return,M)}}function Df(c,f){for(Cd(c.containerInfo),qe=f;qe!==null;)if(c=qe,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,qe=f;else for(;qe!==null;){c=qe;var y=c.alternate;switch(f=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&y!==null){f=void 0;var M=c,C=y.memoizedProps;y=y.memoizedState;var O=M.stateNode;try{var Y=ro(M.type,C,M.elementType===M.type);f=O.getSnapshotBeforeUpdate(Y,y),O.__reactInternalSnapshotBeforeUpdate=f}catch(tt){An(M,M.return,tt)}}break;case 3:(f&1024)!==0&&Oi&&Sy(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(a(163))}if(f=c.sibling,f!==null){f.return=c.return,qe=f;break}qe=c.return}return Y=rn,rn=!1,Y}function pd(c,f,y){var M=y.flags;switch(y.tag){case 0:case 11:case 15:fo(c,y),M&4&&Cf(5,y);break;case 1:if(fo(c,y),M&4)if(c=y.stateNode,f===null)try{c.componentDidMount()}catch(tt){An(y,y.return,tt)}else{var C=ro(y.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(C,f,c.__reactInternalSnapshotBeforeUpdate)}catch(tt){An(y,y.return,tt)}}M&64&&Qv(y),M&512&&nr(y,y.return);break;case 3:if(fo(c,y),M&64&&(M=y.updateQueue,M!==null)){if(c=null,y.child!==null)switch(y.child.tag){case 27:case 5:c=cc(y.child.stateNode);break;case 1:c=y.child.stateNode}try{Zt(M,c)}catch(tt){An(y,y.return,tt)}}break;case 26:if(os){fo(c,y),M&512&&nr(y,y.return);break}case 27:case 5:fo(c,y),f===null&&M&4&&Gm(y),M&512&&nr(y,y.return);break;case 12:fo(c,y);break;case 13:fo(c,y),M&4&&md(c,y);break;case 22:if(C=y.memoizedState!==null||Fr,!C){f=f!==null&&f.memoizedState!==null||ri;var O=Fr,Y=ri;Fr=C,(ri=f)&&!Y?ho(c,y,(y.subtreeFlags&8772)!==0):fo(c,y),Fr=O,ri=Y}M&512&&(y.memoizedProps.mode==="manual"?nr(y,y.return):Ba(y,y.return));break;default:fo(c,y)}}function Ym(c){var f=c.alternate;f!==null&&(c.alternate=null,Ym(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&LS(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function na(c,f,y){for(y=y.child;y!==null;)Zo(c,f,y),y=y.sibling}function Zo(c,f,y){if(Ha&&typeof Ha.onCommitFiberUnmount=="function")try{Ha.onCommitFiberUnmount(pi,y)}catch{}switch(y.tag){case 26:if(os){ri||Ba(y,f),na(c,f,y),y.memoizedState?jl(y.memoizedState):y.stateNode&&mc(y.stateNode);break}case 27:if(Ln){ri||Ba(y,f);var M=Ce,C=Qe;Ce=y.stateNode,na(c,f,y),ll(y.stateNode),Ce=M,Qe=C;break}case 5:ri||Ba(y,f);case 6:if(Oi){if(M=Ce,C=Qe,Ce=null,na(c,f,y),Ce=M,Qe=C,Ce!==null)if(Qe)try{vy(Ce,y.stateNode)}catch(O){An(y,f,O)}else try{mg(Ce,y.stateNode)}catch(O){An(y,f,O)}}else na(c,f,y);break;case 18:Oi&&Ce!==null&&(Qe?jf(Ce,y.stateNode):Ny(Ce,y.stateNode));break;case 4:Oi?(M=Ce,C=Qe,Ce=y.stateNode.containerInfo,Qe=!0,na(c,f,y),Ce=M,Qe=C):(Ps&&dd(y.stateNode,y,Yf()),na(c,f,y));break;case 0:case 11:case 14:case 15:ri||Wo(2,y,f),ri||Wo(4,y,f),na(c,f,y);break;case 1:ri||(Ba(y,f),M=y.stateNode,typeof M.componentWillUnmount=="function"&&za(y,f,M)),na(c,f,y);break;case 21:na(c,f,y);break;case 22:ri||Ba(y,f),ri=(M=ri)||y.memoizedState!==null,na(c,f,y),ri=M;break;default:na(c,f,y)}}function md(c,f){if(sa&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{FS(c)}catch(y){An(f,f.return,y)}}function Jv(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new wn),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new wn),f;default:throw Error(a(435,c.tag))}}function co(c,f){var y=Jv(c);f.forEach(function(M){var C=nl.bind(null,c,M);y.has(M)||(y.add(M),M.then(C,C))})}function ba(c,f){var y=f.deletions;if(y!==null)for(var M=0;M<y.length;M++){var C=y[M],O=c,Y=f;if(Oi){var tt=Y;t:for(;tt!==null;){switch(tt.tag){case 27:case 5:Ce=tt.stateNode,Qe=!1;break t;case 3:Ce=tt.stateNode.containerInfo,Qe=!0;break t;case 4:Ce=tt.stateNode.containerInfo,Qe=!0;break t}tt=tt.return}if(Ce===null)throw Error(a(160));Zo(O,Y,C),Ce=null,Qe=!1}else Zo(O,Y,C);O=C.alternate,O!==null&&(O.return=null),C.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)jm(f,c),f=f.sibling}function jm(c,f){var y=c.alternate,M=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:ba(f,c),Ia(c),M&4&&(Wo(3,c,c.return),Cf(3,c),Wo(5,c,c.return));break;case 1:ba(f,c),Ia(c),M&512&&(ri||y===null||Ba(y,y.return)),M&64&&Fr&&(c=c.updateQueue,c!==null&&(M=c.callbacks,M!==null&&(y=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=y===null?M:y.concat(M))));break;case 26:if(os){var C=ni;ba(f,c),Ia(c),M&512&&(ri||y===null||Ba(y,y.return)),M&4&&(M=y!==null?y.memoizedState:null,f=c.memoizedState,y===null?f===null?c.stateNode===null?c.stateNode=Zf(C,c.type,c.memoizedProps,c):Kf(C,c.type,c.stateNode):c.stateNode=Uy(C,f,c.memoizedProps):M!==f?(M===null?y.stateNode!==null&&mc(y.stateNode):jl(M),f===null?Kf(C,c.type,c.stateNode):Uy(C,f,c.memoizedProps)):f===null&&c.stateNode!==null&&km(c,c.memoizedProps,y.memoizedProps));break}case 27:if(Ln&&M&4&&c.alternate===null){C=c.stateNode;var O=c.memoizedProps;try{ol(C),By(c.type,O,C,c)}catch(Qt){An(c,c.return,Qt)}}case 5:if(ba(f,c),Ia(c),M&512&&(ri||y===null||Ba(y,y.return)),Oi){if(c.flags&32){f=c.stateNode;try{gg(f)}catch(Qt){An(c,c.return,Qt)}}M&4&&c.stateNode!=null&&(f=c.memoizedProps,km(c,f,y!==null?y.memoizedProps:f)),M&1024&&(Cg=!0)}break;case 6:if(ba(f,c),Ia(c),M&4&&Oi){if(c.stateNode===null)throw Error(a(162));M=c.memoizedProps,y=y!==null?y.memoizedProps:M,f=c.stateNode;try{dy(f,y,M)}catch(Qt){An(c,c.return,Qt)}}break;case 3:if(os?(Ly(),C=ni,ni=Id(f.containerInfo),ba(f,c),ni=C):ba(f,c),Ia(c),M&4){if(Oi&&sa&&y!==null&&y.memoizedState.isDehydrated)try{IS(f.containerInfo)}catch(Qt){An(c,c.return,Qt)}if(Ps){M=f.containerInfo,y=f.pendingChildren;try{pc(M,y)}catch(Qt){An(c,c.return,Qt)}}}Cg&&(Cg=!1,$v(c));break;case 4:os?(y=ni,ni=Id(c.stateNode.containerInfo),ba(f,c),Ia(c),ni=y):(ba(f,c),Ia(c)),M&4&&Ps&&dd(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:ba(f,c),Ia(c);break;case 13:ba(f,c),Ia(c),c.child.flags&8192&&c.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Ca=zs()),M&4&&(M=c.updateQueue,M!==null&&(c.updateQueue=null,co(c,M)));break;case 22:M&512&&(ri||y===null||Ba(y,y.return)),C=c.memoizedState!==null;var Y=y!==null&&y.memoizedState!==null,tt=Fr,dt=ri;if(Fr=tt||C,ri=dt||Y,ba(f,c),ri=dt,Fr=tt,Ia(c),f=c.stateNode,f._current=c,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,M&8192&&(f._visibility=C?f._visibility&-2:f._visibility|1,C&&(f=Fr||ri,y===null||Y||f||$u(c)),Oi&&(c.memoizedProps===null||c.memoizedProps.mode!=="manual"))){t:if(y=null,Oi)for(f=c;;){if(f.tag===5||os&&f.tag===26||Ln&&f.tag===27){if(y===null){Y=y=f;try{O=Y.stateNode,C?yy(O):xy(Y.stateNode,Y.memoizedProps)}catch(Qt){An(Y,Y.return,Qt)}}}else if(f.tag===6){if(y===null){Y=f;try{var Ot=Y.stateNode;C?_y(Ot):zS(Ot,Y.memoizedProps)}catch(Qt){An(Y,Y.return,Qt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break t;for(;f.sibling===null;){if(f.return===null||f.return===c)break t;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}}M&4&&(M=c.updateQueue,M!==null&&(y=M.retryQueue,y!==null&&(M.retryQueue=null,co(c,y))));break;case 19:ba(f,c),Ia(c),M&4&&(M=c.updateQueue,M!==null&&(c.updateQueue=null,co(c,M)));break;case 21:break;default:ba(f,c),Ia(c)}}function Ia(c){var f=c.flags;if(f&2){try{if(Oi&&(!Ln||c.tag!==27)){t:{for(var y=c.return;y!==null;){if(Xm(y)){var M=y;break t}y=y.return}throw Error(a(160))}switch(M.tag){case 27:if(Ln){var C=M.stateNode,O=Rf(c);uo(c,O,C);break}case 5:var Y=M.stateNode;M.flags&32&&(gg(Y),M.flags&=-33);var tt=Rf(c);uo(c,tt,Y);break;case 3:case 4:var dt=M.stateNode.containerInfo,Ot=Rf(c);qm(c,Ot,dt);break;default:throw Error(a(161))}}}catch(Qt){An(c,c.return,Qt)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function $v(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;$v(f),f.tag===5&&f.flags&1024&&Nd(f.stateNode),c=c.sibling}}function fo(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)pd(c,f.alternate,f),f=f.sibling}function $u(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Wo(4,f,f.return),$u(f);break;case 1:Ba(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&za(f,f.return,y),$u(f);break;case 26:case 27:case 5:Ba(f,f.return),$u(f);break;case 22:Ba(f,f.return),f.memoizedState===null&&$u(f);break;default:$u(f)}c=c.sibling}}function ho(c,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var M=f.alternate,C=c,O=f,Y=O.flags;switch(O.tag){case 0:case 11:case 15:ho(C,O,y),Cf(4,O);break;case 1:if(ho(C,O,y),M=O,C=M.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Ot){An(M,M.return,Ot)}if(M=O,C=M.updateQueue,C!==null){var tt=M.stateNode;try{var dt=C.shared.hiddenCallbacks;if(dt!==null)for(C.shared.hiddenCallbacks=null,C=0;C<dt.length;C++)ot(dt[C],tt)}catch(Ot){An(M,M.return,Ot)}}y&&Y&64&&Qv(O),nr(O,O.return);break;case 26:case 27:case 5:ho(C,O,y),y&&M===null&&Y&4&&Gm(O),nr(O,O.return);break;case 12:ho(C,O,y);break;case 13:ho(C,O,y),y&&Y&4&&md(C,O);break;case 22:O.memoizedState===null&&ho(C,O,y),nr(O,O.return);break;default:ho(C,O,y)}f=f.sibling}}function gd(c,f){var y=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==y&&(c!=null&&c.refCount++,y!=null&&Af(y))}function Nf(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Af(c))}function Vi(c,f,y,M){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Wm(c,f,y,M),f=f.sibling}function Wm(c,f,y,M){var C=f.flags;switch(f.tag){case 0:case 11:case 15:Vi(c,f,y,M),C&2048&&Cf(9,f);break;case 3:Vi(c,f,y,M),C&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Af(c)));break;case 12:if(C&2048){Vi(c,f,y,M),c=f.stateNode;try{var O=f.memoizedProps,Y=O.id,tt=O.onPostCommit;typeof tt=="function"&&tt(Y,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(dt){An(f,f.return,dt)}}else Vi(c,f,y,M);break;case 23:break;case 22:O=f.stateNode,f.memoizedState!==null?O._visibility&4?Vi(c,f,y,M):da(c,f):O._visibility&4?Vi(c,f,y,M):(O._visibility|=4,ia(c,f,y,M,(f.subtreeFlags&10256)!==0)),C&2048&&gd(f.alternate,f);break;case 24:Vi(c,f,y,M),C&2048&&Nf(f.alternate,f);break;default:Vi(c,f,y,M)}}function ia(c,f,y,M,C){for(C=C&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var O=c,Y=f,tt=y,dt=M,Ot=Y.flags;switch(Y.tag){case 0:case 11:case 15:ia(O,Y,tt,dt,C),Cf(8,Y);break;case 23:break;case 22:var Qt=Y.stateNode;Y.memoizedState!==null?Qt._visibility&4?ia(O,Y,tt,dt,C):da(O,Y):(Qt._visibility|=4,ia(O,Y,tt,dt,C)),C&&Ot&2048&&gd(Y.alternate,Y);break;case 24:ia(O,Y,tt,dt,C),C&&Ot&2048&&Nf(Y.alternate,Y);break;default:ia(O,Y,tt,dt,C)}f=f.sibling}}function da(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=c,M=f,C=M.flags;switch(M.tag){case 22:da(y,M),C&2048&&gd(M.alternate,M);break;case 24:da(y,M),C&2048&&Nf(M.alternate,M);break;default:da(y,M)}f=f.sibling}}function Ds(c){if(c.subtreeFlags&ps)for(c=c.child;c!==null;)vd(c),c=c.sibling}function vd(c){switch(c.tag){case 26:Ds(c),c.flags&ps&&(c.memoizedState!==null?zy(ni,c.memoizedState,c.memoizedProps):Ea(c.type,c.memoizedProps));break;case 5:Ds(c),c.flags&ps&&Ea(c.type,c.memoizedProps);break;case 3:case 4:if(os){var f=ni;ni=Id(c.stateNode.containerInfo),Ds(c),ni=f}else Ds(c);break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=ps,ps=16777216,Ds(c),ps=f):Ds(c));break;default:Ds(c)}}function Of(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function Ko(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var M=f[y];qe=M,Zm(M,c)}Of(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)yd(c),c=c.sibling}function yd(c){switch(c.tag){case 0:case 11:case 15:Ko(c),c.flags&2048&&Wo(9,c,c.return);break;case 3:Ko(c);break;case 12:Ko(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&4&&(c.return===null||c.return.tag!==13)?(f._visibility&=-5,po(c)):Ko(c);break;default:Ko(c)}}function po(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var M=f[y];qe=M,Zm(M,c)}Of(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Wo(8,f,f.return),po(f);break;case 22:y=f.stateNode,y._visibility&4&&(y._visibility&=-5,po(f));break;default:po(f)}c=c.sibling}}function Zm(c,f){for(;qe!==null;){var y=qe;switch(y.tag){case 0:case 11:case 15:Wo(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var M=y.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:Af(y.memoizedState.cache)}if(M=y.child,M!==null)M.return=y,qe=M;else t:for(y=c;qe!==null;){M=qe;var C=M.sibling,O=M.return;if(Ym(M),M===y){qe=null;break t}if(C!==null){C.return=O,qe=C;break t}qe=O}}}function tc(c){var f=sy(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(a(364));return f}if(c=hg(c),c===null)throw Error(a(362));return c.stateNode.current}function Qo(c,f){var y=c.tag;switch(f.$$typeof){case Tc:if(c.type===f.value)return!0;break;case Vs:t:{for(f=f.value,c=[c,0],y=0;y<c.length;){var M=c[y++],C=M.tag,O=c[y++],Y=f[O];if(C!==5&&C!==26&&C!==27||!hc(M)){for(;Y!=null&&Qo(M,Y);)O++,Y=f[O];if(O===f.length){f=!0;break t}else for(M=M.child;M!==null;)c.push(M,O),M=M.sibling}}f=!1}return f;case Wn:if((y===5||y===26||y===27)&&uy(c.stateNode,f.value))return!0;break;case Vr:if((y===5||y===6||y===26||y===27)&&(c=ly(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case hr:if((y===5||y===26||y===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Km(c){switch(c.$$typeof){case Tc:return"<"+(o(c.value)||"Unknown")+">";case Vs:return":has("+(Km(c)||"")+")";case Wn:return'[role="'+c.value+'"]';case Vr:return'"'+c.value+'"';case hr:return'[data-testname="'+c.value+'"]';default:throw Error(a(365))}}function Fa(c,f){var y=[];c=[c,0];for(var M=0;M<c.length;){var C=c[M++],O=C.tag,Y=c[M++],tt=f[Y];if(O!==5&&O!==26&&O!==27||!hc(C)){for(;tt!=null&&Qo(C,tt);)Y++,tt=f[Y];if(Y===f.length)y.push(C);else for(C=C.child;C!==null;)c.push(C,Y),C=C.sibling}}return y}function Uf(c,f){if(!rl)throw Error(a(363));c=tc(c),c=Fa(c,f),f=[],c=Array.from(c);for(var y=0;y<c.length;){var M=c[y++],C=M.tag;if(C===5||C===26||C===27)hc(M)||f.push(M.stateNode);else for(M=M.child;M!==null;)c.push(M),M=M.sibling}return f}function fi(){if((vn&2)!==0&&un!==0)return un&-un;if(Ie.T!==null){var c=cs;return c!==0?c:Lt()}return ry()}function Qm(){vs===0&&(vs=(un&536870912)===0||pn?V():536870912);var c=fs.current;return c!==null&&(c.flags|=32),vs}function Hi(c,f,y){(c===Cn&&Un===2||c.cancelPendingCommit!==null)&&(aa(c,0),Va(c,un,vs,!1)),W(c,y),((vn&2)===0||c!==Cn)&&(c===Cn&&((vn&2)===0&&(Co|=y),Bn===4&&Va(c,un,vs,!1)),Wt(c))}function Jo(c,f,y){if((vn&6)!==0)throw Error(a(327));var M=!y&&(f&60)===0&&(f&c.expiredLanes)===0||P(c,f),C=M?$m(c,f):xd(c,f,!0),O=M;do{if(C===0){ms&&!M&&Va(c,f,0,!1);break}else if(C===6)Va(c,f,0,!Gs);else{if(y=c.current.alternate,O&&!ec(y)){C=xd(c,f,!1),O=!1;continue}if(C===2){if(O=f,c.errorRecoveryDisabledLanes&O)var Y=0;else Y=c.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){f=Y;t:{var tt=c;C=lu;var dt=sa&&tt.current.memoizedState.isDehydrated;if(dt&&(aa(tt,Y).flags|=256),Y=xd(tt,Y,!1),Y!==2){if(Pi&&!dt){tt.errorRecoveryDisabledLanes|=O,Co|=O,C=4;break t}O=oi,oi=C,O!==null&&Lf(O)}C=Y}if(O=!1,C!==2)continue}}if(C===1){aa(c,0),Va(c,f,0,!0);break}t:{switch(M=c,C){case 0:case 1:throw Error(a(345));case 4:if((f&4194176)===f){Va(M,f,vs,!Gs);break t}break;case 2:oi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(M.finishedWork=y,M.finishedLanes=f,(f&62914560)===f&&(O=Ca+300-zs(),10<O)){if(Va(M,f,vs,!Gs),U(M,0)!==0)break t;M.timeoutHandle=Ti(_d.bind(null,M,y,oi,ih,Zd,f,vs,Co,Hr,Gs,2,-0,0),O);break t}_d(M,y,oi,ih,Zd,f,vs,Co,Hr,Gs,0,-0,0)}}break}while(!0);Wt(c)}function Lf(c){oi===null?oi=c:oi.push.apply(oi,c)}function _d(c,f,y,M,C,O,Y,tt,dt,Ot,Qt,oe,ue){var Ye=f.subtreeFlags;if((Ye&8192||(Ye&16785408)===16785408)&&(cg(),vd(f),f=Ei(),f!==null)){c.cancelPendingCommit=f(tl.bind(null,c,y,M,C,Y,tt,dt,1,oe,ue)),Va(c,O,Y,!Ot);return}tl(c,y,M,C,Y,tt,dt,Qt,oe,ue)}function ec(c){for(var f=c;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var M=0;M<y.length;M++){var C=y[M],O=C.getSnapshot;C=C.value;try{if(!Ga(O(),C))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Va(c,f,y,M){f&=~nh,f&=~Co,c.suspendedLanes|=f,c.pingedLanes&=~f,M&&(c.warmLanes|=f),M=c.expirationTimes;for(var C=f;0<C;){var O=31-Aa(C),Y=1<<O;M[O]=-1,C&=~Y}y!==0&&it(c,y,f)}function Pf(){return(vn&6)===0?(we(0),!1):!0}function nc(){if(Ue!==null){if(Un===0)var c=Ue.return;else c=Ue,ds=fr=null,X(c),hl=null,dl=0,c=Ue;for(;c!==null;)Kv(c.alternate,c),c=c.return;Ue=null}}function aa(c,f){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;y!==al&&(c.timeoutHandle=al,Rd(y)),y=c.cancelPendingCommit,y!==null&&(c.cancelPendingCommit=null,y()),nc(),Cn=c,Ue=y=Os(c.current,null),un=f,Un=0,ma=null,Gs=!1,ms=P(c,f),Pi=!1,Hr=vs=nh=Co=gs=Bn=0,oi=lu=null,Zd=!1,(f&8)!==0&&(f|=f&32);var M=c.entangledLanes;if(M!==0)for(c=c.entanglements,M&=f;0<M;){var C=31-Aa(M),O=1<<C;f|=c[C],M&=~O}return ga=f,Vt(),y}function as(c,f){$e=null,Ie.H=si,f===xc?(f=ye(),Un=3):f===th?(f=ye(),Un=4):Un=f===jd?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ma=f,Ue===null&&(Bn=1,ju(c,rt(f,c.current)))}function $o(){var c=fs.current;return c===null?!0:(un&4194176)===un?Pn===null:(un&62914560)===un||(un&536870912)!==0?c===Pn:!1}function Cr(){var c=Ie.H;return Ie.H=si,c===null?si:c}function Rr(){var c=Ie.A;return Ie.A=Mc,c}function mo(){Bn=4,Gs||(un&4194176)!==un&&fs.current!==null||(ms=!0),(gs&134217727)===0&&(Co&134217727)===0||Cn===null||Va(Cn,un,vs,!1)}function xd(c,f,y){var M=vn;vn|=2;var C=Cr(),O=Rr();(Cn!==c||un!==f)&&(ih=null,aa(c,f)),f=!1;var Y=Bn;t:do try{if(Un!==0&&Ue!==null){var tt=Ue,dt=ma;switch(Un){case 8:nc(),Y=6;break t;case 3:case 2:case 6:fs.current===null&&(f=!0);var Ot=Un;if(Un=0,ma=null,Ns(c,tt,dt,Ot),y&&ms){Y=0;break t}break;default:Ot=Un,Un=0,ma=null,Ns(c,tt,dt,Ot)}}Jm(),Y=Bn;break}catch(Qt){as(c,Qt)}while(!0);return f&&c.shellSuspendCounter++,ds=fr=null,vn=M,Ie.H=C,Ie.A=O,Ue===null&&(Cn=null,un=0,Vt()),Y}function Jm(){for(;Ue!==null;)ei(Ue)}function $m(c,f){var y=vn;vn|=2;var M=Cr(),C=Rr();Cn!==c||un!==f?(ih=null,Ec=zs()+500,aa(c,f)):ms=P(c,f);t:do try{if(Un!==0&&Ue!==null){f=Ue;var O=ma;e:switch(Un){case 1:Un=0,ma=null,Ns(c,f,O,1);break;case 2:if(fe(O)){Un=0,ma=null,Sn(f);break}f=function(){Un===2&&Cn===c&&(Un=7),Wt(c)},O.then(f,f);break t;case 3:Un=7;break t;case 4:Un=5;break t;case 7:fe(O)?(Un=0,ma=null,Sn(f)):(Un=0,ma=null,Ns(c,f,O,7));break;case 5:var Y=null;switch(Ue.tag){case 26:Y=Ue.memoizedState;case 5:case 27:var tt=Ue,dt=tt.type,Ot=tt.pendingProps;if(Y?Wl(Y):Dd(dt,Ot)){Un=0,ma=null;var Qt=tt.sibling;if(Qt!==null)Ue=Qt;else{var oe=tt.return;oe!==null?(Ue=oe,ss(oe)):Ue=null}break e}}Un=0,ma=null,Ns(c,f,O,5);break;case 6:Un=0,ma=null,Ns(c,f,O,6);break;case 8:nc(),Bn=6;break t;default:throw Error(a(462))}}Ma();break}catch(ue){as(c,ue)}while(!0);return ds=fr=null,Ie.H=M,Ie.A=C,vn=y,Ue!==null?0:(Cn=null,un=0,Vt(),Bn)}function Ma(){for(;Ue!==null&&!Vy();)ei(Ue)}function ei(c){var f=jv(c.alternate,c,ga);c.memoizedProps=c.pendingProps,f===null?ss(c):Ue=f}function Sn(c){var f=c,y=f.alternate;switch(f.tag){case 15:case 0:f=Hv(y,f,f.pendingProps,f.type,void 0,un);break;case 11:f=Hv(y,f,f.pendingProps,f.type.render,f.ref,un);break;case 5:X(f);default:Kv(y,f),f=Ue=Bf(f,ga),f=jv(y,f,ga)}c.memoizedProps=c.pendingProps,f===null?ss(c):Ue=f}function Ns(c,f,y,M){ds=fr=null,X(f),hl=null,dl=0;var C=f.return;try{if(RS(c,C,f,y,un)){Bn=1,ju(c,rt(y,c.current)),Ue=null;return}}catch(O){if(C!==null)throw Ue=C,O;Bn=1,ju(c,rt(y,c.current)),Ue=null;return}f.flags&32768?(pn||M===1?c=!0:ms||(un&536870912)!==0?c=!1:(Gs=c=!0,(M===2||M===3||M===6)&&(M=fs.current,M!==null&&M.tag===13&&(M.flags|=16384))),Sd(f,c)):ss(f)}function ss(c){var f=c;do{if((f.flags&32768)!==0){Sd(f,Gs);return}c=f.return;var y=Zv(f.alternate,f,ga);if(y!==null){Ue=y;return}if(f=f.sibling,f!==null){Ue=f;return}Ue=f=c}while(f!==null);Bn===0&&(Bn=5)}function Sd(c,f){do{var y=NS(c.alternate,c);if(y!==null){y.flags&=32767,Ue=y;return}if(y=c.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(c=c.sibling,c!==null)){Ue=c;return}Ue=c=y}while(c!==null);Bn=6,Ue=null}function tl(c,f,y,M,C,O,Y,tt,dt,Ot){var Qt=Ie.T,oe=So();try{pa(2),Ie.T=null,ty(c,f,y,M,oe,C,O,Y,tt,dt,Ot)}finally{Ie.T=Qt,pa(oe)}}function ty(c,f,y,M,C,O,Y,tt){do ir();while(Gr!==null);if((vn&6)!==0)throw Error(a(327));var dt=c.finishedWork;if(M=c.finishedLanes,dt===null)return null;if(c.finishedWork=null,c.finishedLanes=0,dt===c.current)throw Error(a(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var Ot=dt.lanes|dt.childLanes;if(Ot|=ur,$(c,M,Ot,O,Y,tt),c===Cn&&(Ue=Cn=null,un=0),(dt.subtreeFlags&10256)===0&&(dt.flags&10256)===0||dr||(dr=!0,yl=Ot,Kd=y,vo(kd,function(){return ir(),null})),y=(dt.flags&15990)!==0,(dt.subtreeFlags&15990)!==0||y?(y=Ie.T,Ie.T=null,O=So(),pa(2),Y=vn,vn|=4,Df(c,dt),jm(dt,c),ay(c.containerInfo),c.current=dt,pd(c,dt.alternate,dt),Hd(),vn=Y,pa(O),Ie.T=y):c.current=dt,dr?(dr=!1,Gr=c,uu=M):tg(c,Ot),Ot=c.pendingLanes,Ot===0&&(vl=null),z(dt.stateNode),Wt(c),f!==null)for(C=c.onRecoverableError,dt=0;dt<f.length;dt++)Ot=f[dt],C(Ot.value,{componentStack:Ot.stack});return(uu&3)!==0&&ir(),Ot=c.pendingLanes,(M&4194218)!==0&&(Ot&42)!==0?c===Qd?Ac++:(Ac=0,Qd=c):Ac=0,we(0),null}function tg(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,Af(f)))}function ir(){if(Gr!==null){var c=Gr,f=yl;yl=0;var y=ut(uu),M=32>y?32:y;y=Ie.T;var C=So();try{if(pa(M),Ie.T=null,Gr===null)var O=!1;else{M=Kd,Kd=null;var Y=Gr,tt=uu;if(Gr=null,uu=0,(vn&6)!==0)throw Error(a(331));var dt=vn;if(vn|=4,yd(Y.current),Wm(Y,Y.current,tt,M),vn=dt,we(0,!1),Ha&&typeof Ha.onPostCommitFiberRoot=="function")try{Ha.onPostCommitFiberRoot(pi,Y)}catch{}O=!0}return O}finally{pa(C),Ie.T=y,tg(c,f)}}return!1}function ic(c,f,y){f=rt(y,f),f=Zu(c.stateNode,f,2),c=ie(c,f,2),c!==null&&(W(c,2),Wt(c))}function An(c,f,y){if(c.tag===3)ic(c,c,y);else for(;f!==null;){if(f.tag===3){ic(f,c,y);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(vl===null||!vl.has(M))){c=rt(y,c),y=Um(2),M=ie(f,y,2),M!==null&&(zv(y,M,f,c),W(M,2),Wt(M));break}}f=f.return}}function ql(c,f,y){var M=c.pingCache;if(M===null){M=c.pingCache=new Hs;var C=new Set;M.set(f,C)}else C=M.get(f),C===void 0&&(C=new Set,M.set(f,C));C.has(y)||(Pi=!0,C.add(y),c=eg.bind(null,c,f,y),f.then(c,c))}function eg(c,f,y){var M=c.pingCache;M!==null&&M.delete(f),c.pingedLanes|=c.suspendedLanes&y,c.warmLanes&=~y,Cn===c&&(un&y)===y&&(Bn===4||Bn===3&&(un&62914560)===un&&300>zs()-Ca?(vn&2)===0&&aa(c,0):nh|=y,Hr===un&&(Hr=0)),Wt(c)}function el(c,f){f===0&&(f=L()),c=Dt(c,f),c!==null&&(W(c,f),Wt(c))}function go(c){var f=c.memoizedState,y=0;f!==null&&(y=f.retryLane),el(c,y)}function nl(c,f){var y=0;switch(c.tag){case 13:var M=c.stateNode,C=c.memoizedState;C!==null&&(y=C.retryLane);break;case 19:M=c.stateNode;break;case 22:M=c.stateNode._retryCache;break;default:throw Error(a(314))}M!==null&&M.delete(f),el(c,y)}function vo(c,f){return Qf(c,f)}function ng(c,f,y,M){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zf(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Os(c,f){var y=c.alternate;return y===null?(y=e(c.tag,f,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=f,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&31457280,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,f=c.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y.refCleanup=c.refCleanup,y}function Bf(c,f){c.flags&=31457282;var y=c.alternate;return y===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=y.childLanes,c.lanes=y.lanes,c.child=y.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=y.memoizedProps,c.memoizedState=y.memoizedState,c.updateQueue=y.updateQueue,c.type=y.type,f=y.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function Dr(c,f,y,M,C,O){var Y=0;if(M=c,typeof c=="function")zf(c)&&(Y=1);else if(typeof c=="string")Y=os&&Ln?Wf(c,y,Ui.current)?26:Or(c)?27:5:os?Wf(c,y,Ui.current)?26:5:Ln&&Or(c)?27:5;else t:switch(c){case il:return ai(y.children,C,O,f);case Hf:Y=8,C|=24;break;case Ed:return c=e(12,y,f,C|2),c.elementType=Ed,c.lanes=O,c;case Ad:return c=e(13,y,f,C),c.elementType=Ad,c.lanes=O,c;case oc:return c=e(19,y,f,C),c.elementType=oc,c.lanes=O,c;case sg:return If(y,C,O,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Gf:case ar:Y=10;break t;case ag:Y=9;break t;case kf:Y=11;break t;case wd:Y=14;break t;case Ls:Y=16,M=null;break t}Y=29,y=Error(a(130,c===null?"null":typeof c,"")),M=null}return f=e(Y,y,f,C),f.elementType=c,f.type=M,f.lanes=O,f}function ai(c,f,y,M){return c=e(7,c,M,f),c.lanes=y,c}function If(c,f,y,M){c=e(22,c,M,f),c.elementType=sg,c.lanes=y;var C={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var O=C._current;if(O===null)throw Error(a(456));if((C._pendingVisibility&2)===0){var Y=Dt(O,2);Y!==null&&(C._pendingVisibility|=2,Hi(Y,O,2))}},attach:function(){var O=C._current;if(O===null)throw Error(a(456));if((C._pendingVisibility&2)!==0){var Y=Dt(O,2);Y!==null&&(C._pendingVisibility&=-3,Hi(Y,O,2))}}};return c.stateNode=C,c}function bd(c,f,y){return c=e(6,c,null,f),c.lanes=y,c}function ig(c,f,y){return f=e(4,c.children!==null?c.children:[],c.key,f),f.lanes=y,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function OS(c,f,y,M,C,O,Y,tt){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=al,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=B(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B(0),this.hiddenUpdates=B(null),this.identifierPrefix=M,this.onUncaughtError=C,this.onCaughtError=O,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function ey(c,f,y,M,C,O,Y,tt,dt,Ot,Qt,oe){return c=new OS(c,f,y,Y,tt,dt,Ot,oe),f=1,O===!0&&(f|=24),O=e(3,null,null,f),c.current=O,O.stateNode=c,f=jo(),f.refCount++,c.pooledCache=f,f.refCount++,O.memoizedState={element:M,isDehydrated:y,cache:f},me(O),c}function Mi(c){return c?(c=ul,c):ul}function Md(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=x(f),c=c!==null?T(c):null,c===null?null:cc(c.stateNode)}function ac(c,f,y,M,C,O){C=Mi(C),M.context===null?M.context=C:M.pendingContext=C,M=Gt(f),M.payload={element:y},O=O===void 0?null:O,O!==null&&(M.callback=O),y=ie(c,M,f),y!==null&&(Hi(y,c,f),be(y,c,f))}function sc(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<f?y:f}}function Ff(c,f){sc(c,f),(c=c.alternate)&&sc(c,f)}var We={},rc=mm(),rs=rG(),Td=Object.assign,US=Symbol.for("react.element"),Vf=Symbol.for("react.transitional.element"),Us=Symbol.for("react.portal"),il=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),Ed=Symbol.for("react.profiler"),Gf=Symbol.for("react.provider"),ag=Symbol.for("react.consumer"),ar=Symbol.for("react.context"),kf=Symbol.for("react.forward_ref"),Ad=Symbol.for("react.suspense"),oc=Symbol.for("react.suspense_list"),wd=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),sg=Symbol.for("react.offscreen"),ny=Symbol.for("react.memo_cache_sentinel"),yo=Symbol.iterator,rg=Symbol.for("react.client.reference"),Ie=rc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Nr,_o,Yl=!1,lc=Array.isArray,og=t.rendererVersion,Xf=t.rendererPackageName,uc=t.extraDevToolsConfig,cc=t.getPublicInstance,iy=t.getRootHostContext,fc=t.getChildHostContext,Cd=t.prepareForCommit,ay=t.resetAfterCommit,lg=t.createInstance,qf=t.appendInitialChild,xo=t.finalizeInitialChildren,Ze=t.shouldSetTextContent,Nn=t.createTextInstance,Ti=t.scheduleTimeout,Rd=t.cancelTimeout,al=t.noTimeout,Ta=t.isPrimaryRenderer;t.warnsIfNotActing;var Oi=t.supportsMutation,Ps=t.supportsPersistence,sa=t.supportsHydration,sy=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var hi=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var pa=t.setCurrentUpdatePriority,So=t.getCurrentUpdatePriority,ry=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var oy=t.shouldAttemptEagerTransition,LS=t.detachDeletedInstance;t.requestPostPaintCallback;var ug=t.maySuspendCommit,Dd=t.preloadInstance,cg=t.startSuspendingCommit,Ea=t.suspendInstance,Ei=t.waitForCommitToBeReady,sl=t.NotPendingTransition,sr=t.HostTransitionContext,Nd=t.resetFormInstance;t.bindToConsole;var fg=t.supportsMicrotasks,bo=t.scheduleMicrotask,rl=t.supportsTestSelectors,hg=t.findFiberRoot,dg=t.getBoundingRect,ly=t.getTextContent,hc=t.isHiddenSubtree,uy=t.matchAccessibilityRole,cy=t.setFocusIfFocusable,fy=t.setupIntersectionObserver,hy=t.appendChild,pg=t.appendChildToContainer,dy=t.commitTextUpdate,PS=t.commitMount,py=t.commitUpdate,my=t.insertBefore,gy=t.insertInContainerBefore,mg=t.removeChild,vy=t.removeChildFromContainer,gg=t.resetTextContent,yy=t.hideInstance,_y=t.hideTextInstance,xy=t.unhideInstance,zS=t.unhideTextInstance,Sy=t.clearContainer,dc=t.cloneInstance,Yf=t.createContainerChildSet,vg=t.appendChildToContainerChildSet,Od=t.finalizeContainerChildren,pc=t.replaceContainerChildren,yg=t.cloneHiddenInstance,_g=t.cloneHiddenTextInstance,Ud=t.isSuspenseInstancePending,Ld=t.isSuspenseInstanceFallback,by=t.getSuspenseInstanceFallbackErrorDetails,My=t.registerSuspenseInstanceRetry,xg=t.canHydrateFormStateMarker,Ty=t.isFormStateMarkerMatching,Sg=t.getNextHydratableSibling,Pd=t.getFirstHydratableChild,Ey=t.getFirstHydratableChildWithinContainer,Ay=t.getFirstHydratableChildWithinSuspenseInstance,BS=t.canHydrateInstance,bg=t.canHydrateTextInstance,wy=t.canHydrateSuspenseInstance,Cy=t.hydrateInstance,Mg=t.hydrateTextInstance,Ry=t.hydrateSuspenseInstance,Dy=t.getNextHydratableInstanceAfterSuspenseInstance,IS=t.commitHydratedContainer,FS=t.commitHydratedSuspenseInstance,Ny=t.clearSuspenseBoundary,jf=t.clearSuspenseBoundaryFromContainer,zd=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var Bd=t.validateHydratableInstance,Oy=t.validateHydratableTextInstance,os=t.supportsResources,Wf=t.isHostHoistableType,Id=t.getHoistableRoot,Tg=t.getResource,Uy=t.acquireResource,jl=t.releaseResource,Zf=t.hydrateHoistable,Kf=t.mountHoistable,mc=t.unmountHoistable,Fd=t.createHoistableInstance,Ly=t.prepareToCommitHoistables,Py=t.mayResourceSuspendCommit,Wl=t.preloadResource,zy=t.suspendResource,Ln=t.supportsSingletons,rr=t.resolveSingletonInstance,ol=t.clearSingleton,By=t.acquireSingletonInstance,ll=t.releaseSingletonInstance,Or=t.isHostSingletonType,di=[],Mo=-1,ul={},Aa=Math.clz32?Math.clz32:D,Iy=Math.log,Fy=Math.LN2,Ur=128,Zl=4194304,Qf=rs.unstable_scheduleCallback,Vd=rs.unstable_cancelCallback,Vy=rs.unstable_shouldYield,Hd=rs.unstable_requestPaint,zs=rs.unstable_now,Gd=rs.unstable_ImmediatePriority,Hy=rs.unstable_UserBlockingPriority,kd=rs.unstable_NormalPriority,VS=rs.unstable_IdlePriority,Gy=rs.log,Gi=rs.unstable_setDisableYieldValue,pi=null,Ha=null,Ga=typeof Object.is=="function"?Object.is:j,Eg=new WeakMap,Kl=[],Ql=0,Jl=null,gc=0,ls=[],us=0,cl=null,or=1,lr="",Ui=E(null),vc=E(null),Lr=E(null),$l=E(null),ra=null,oa=null,pn=!1,Bs=null,ki=!1,Jf=Error(a(519)),Is=[],tu=0,ur=0,$f=null,To=null,eu=!1,Vn=!1,Ag=!1,yc=0,_c=null,nu=0,cs=0,iu=null,Eo=!1,au=!1,Pr=Object.prototype.hasOwnProperty,xc=Error(a(460)),th=Error(a(474)),eh={then:function(){}},fl=null,hl=null,dl=0,pl=xi(!0),zr=xi(!1),Hn=E(null),Sc=E(0),fs=E(null),Pn=null,Li=E(0),Ao=0,$e=null,Ne=null,gn=null,Fs=!1,su=!1,ml=!1,Xd=0,ru=0,Xi=null,cr=0,qd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},si={readContext:ea,use:ht,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useLayoutEffect:Fn,useInsertionEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useSyncExternalStore:Fn,useId:Fn};si.useCacheRefresh=Fn,si.useMemoCache=Fn,si.useHostTransitionStatus=Fn,si.useFormState=Fn,si.useActionState=Fn,si.useOptimistic=Fn;var gl={readContext:ea,use:ht,useCallback:function(c,f){return lt().memoizedState=[c,f===void 0?null:f],c},useContext:ea,useEffect:nd,useImperativeHandle:function(c,f,y){y=y!=null?y.concat([c]):null,pf(4194308,4,id.bind(null,f,c),y)},useLayoutEffect:function(c,f){return pf(4194308,4,c,f)},useInsertionEffect:function(c,f){pf(4,2,c,f)},useMemo:function(c,f){var y=lt();f=f===void 0?null:f;var M=c();if(ml){q(!0);try{c()}finally{q(!1)}}return y.memoizedState=[M,f],M},useReducer:function(c,f,y){var M=lt();if(y!==void 0){var C=y(f);if(ml){q(!0);try{y(f)}finally{q(!1)}}}else C=f;return M.memoizedState=M.baseState=C,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:C},M.queue=c,c=c.dispatch=sd.bind(null,$e,c),[M.memoizedState,c]},useRef:function(c){var f=lt();return c={current:c},f.memoizedState=c},useState:function(c){c=je(c);var f=c.queue,y=Om.bind(null,$e,f);return f.dispatch=y,[c.memoizedState,y]},useDebugValue:Go,useDeferredValue:function(c,f){var y=lt();return vf(y,c,f)},useTransition:function(){var c=je(!1);return c=Gu.bind(null,$e,c.queue,!0,!1),lt().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,y){var M=$e,C=lt();if(pn){if(y===void 0)throw Error(a(407));y=y()}else{if(y=f(),Cn===null)throw Error(a(349));(un&60)!==0||Se(M,f,y)}C.memoizedState=y;var O={value:y,getSnapshot:f};return C.queue=O,nd(mn.bind(null,M,O,c),[c]),M.flags|=2048,Ni(9,Ke.bind(null,M,O,y,f),{destroy:void 0},null),y},useId:function(){var c=lt(),f=Cn.identifierPrefix;if(pn){var y=lr,M=or;y=(M&~(1<<32-Aa(M)-1)).toString(32)+y,f=":"+f+"R"+y,y=Xd++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=cr++,f=":"+f+"r"+y.toString(32)+":";return c.memoizedState=f},useCacheRefresh:function(){return lt().memoizedState=Nm.bind(null,$e)}};gl.useMemoCache=jt,gl.useHostTransitionStatus=yf,gl.useFormState=ha,gl.useActionState=ha,gl.useOptimistic=function(c){var f=lt();f.memoizedState=f.baseState=c;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=Xu.bind(null,$e,!0,y),y.dispatch=f,[c,f]};var wa={readContext:ea,use:ht,useCallback:Gl,useContext:ea,useEffect:Cm,useImperativeHandle:ad,useInsertionEffect:Lv,useLayoutEffect:gf,useMemo:Rm,useReducer:de,useRef:Uv,useState:function(){return de(ee)},useDebugValue:Go,useDeferredValue:function(c,f){var y=vt();return Dm(y,Ne.memoizedState,c,f)},useTransition:function(){var c=de(ee)[0],f=vt().memoizedState;return[typeof c=="boolean"?c:Tt(c),f]},useSyncExternalStore:De,useId:ku};wa.useCacheRefresh=so,wa.useMemoCache=jt,wa.useHostTransitionStatus=yf,wa.useFormState=Ji,wa.useActionState=Ji,wa.useOptimistic=function(c,f){var y=vt();return Ee(y,Ne,c,f)};var hs={readContext:ea,use:ht,useCallback:Gl,useContext:ea,useEffect:Cm,useImperativeHandle:ad,useInsertionEffect:Lv,useLayoutEffect:gf,useMemo:Rm,useReducer:Te,useRef:Uv,useState:function(){return Te(ee)},useDebugValue:Go,useDeferredValue:function(c,f){var y=vt();return Ne===null?vf(y,c,f):Dm(y,Ne.memoizedState,c,f)},useTransition:function(){var c=Te(ee)[0],f=vt().memoizedState;return[typeof c=="boolean"?c:Tt(c),f]},useSyncExternalStore:De,useId:ku};hs.useCacheRefresh=so,hs.useMemoCache=jt,hs.useHostTransitionStatus=yf,hs.useFormState=Hl,hs.useActionState=Hl,hs.useOptimistic=function(c,f){var y=vt();return Ne!==null?Ee(y,Ne,c,f):(y.baseState=c,[c,y.queue.dispatch])};var Br={isMounted:function(c){return(c=c._reactInternals)?v(c)===c:!1},enqueueSetState:function(c,f,y){c=c._reactInternals;var M=fi(),C=Gt(M);C.payload=f,y!=null&&(C.callback=y),f=ie(c,C,M),f!==null&&(Hi(f,c,M),be(f,c,M))},enqueueReplaceState:function(c,f,y){c=c._reactInternals;var M=fi(),C=Gt(M);C.tag=1,C.payload=f,y!=null&&(C.callback=y),f=ie(c,C,M),f!==null&&(Hi(f,c,M),be(f,c,M))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var y=fi(),M=Gt(y);M.tag=2,f!=null&&(M.callback=f),f=ie(c,M,y),f!==null&&(Hi(f,c,y),be(f,c,y))}},Yd=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},jd=Error(a(461)),zn=!1,Wd={dehydrated:null,treeContext:null,retryLane:0},wo=E(null),fr=null,ds=null,bc=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(y,M){c.push(M)}};this.abort=function(){f.aborted=!0,c.forEach(function(y){return y()})}},ky=rs.unstable_scheduleCallback,Xy=rs.unstable_NormalPriority,Gn={$$typeof:ar,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},wg=Ie.S;Ie.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Ct(c,f),wg!==null&&wg(c,f)};var Ir=E(null),Fr=!1,ri=!1,Cg=!1,wn=typeof WeakSet=="function"?WeakSet:Set,qe=null,rn=!1,Ce=null,Qe=!1,ni=null,ps=8192,Mc={getCacheForType:function(c){var f=ea(Gn),y=f.data.get(c);return y===void 0&&(y=c(),f.data.set(c,y)),y}},Tc=0,Vs=1,Wn=2,hr=3,Vr=4;if(typeof Symbol=="function"&&Symbol.for){var ou=Symbol.for;Tc=ou("selector.component"),Vs=ou("selector.has_pseudo_class"),Wn=ou("selector.role"),hr=ou("selector.test_id"),Vr=ou("selector.text")}var Hs=typeof WeakMap=="function"?WeakMap:Map,vn=0,Cn=null,Ue=null,un=0,Un=0,ma=null,Gs=!1,ms=!1,Pi=!1,ga=0,Bn=0,gs=0,Co=0,nh=0,vs=0,Hr=0,lu=null,oi=null,Zd=!1,Ca=0,Ec=1/0,ih=null,vl=null,dr=!1,Gr=null,uu=0,yl=0,Kd=null,Ac=0,Qd=null;return We.attemptContinuousHydration=function(c){if(c.tag===13){var f=Dt(c,67108864);f!==null&&Hi(f,c,67108864),Ff(c,67108864)}},We.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=fi(),y=Dt(c,f);y!==null&&Hi(y,c,f),Ff(c,f)}},We.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=N(c.pendingLanes);if(f!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;f;){var y=1<<31-Aa(f);c.entanglements[1]|=y,f&=~y}Wt(c),(vn&6)===0&&(Ec=zs()+500,we(0))}}break;case 13:f=Dt(c,2),f!==null&&Hi(f,c,2),Pf(),Ff(c,2)}},We.batchedUpdates=function(c,f){return c(f)},We.createComponentSelector=function(c){return{$$typeof:Tc,value:c}},We.createContainer=function(c,f,y,M,C,O,Y,tt,dt,Ot){return ey(c,f,!1,null,y,M,O,Y,tt,dt,Ot,null)},We.createHasPseudoClassSelector=function(c){return{$$typeof:Vs,value:c}},We.createHydrationContainer=function(c,f,y,M,C,O,Y,tt,dt,Ot,Qt,oe,ue){return c=ey(y,M,!0,c,C,O,tt,dt,Ot,Qt,oe,ue),c.context=Mi(null),y=c.current,M=fi(),C=Gt(M),C.callback=f??null,ie(y,C,M),c.current.lanes=M,W(c,M),Wt(c),c},We.createPortal=function(c,f,y){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:M==null?null:""+M,children:c,containerInfo:f,implementation:y}},We.createRoleSelector=function(c){return{$$typeof:Wn,value:c}},We.createTestNameSelector=function(c){return{$$typeof:hr,value:c}},We.createTextSelector=function(c){return{$$typeof:Vr,value:c}},We.defaultOnCaughtError=function(c){console.error(c)},We.defaultOnRecoverableError=function(c){Yd(c)},We.defaultOnUncaughtError=function(c){Yd(c)},We.deferredUpdates=function(c){var f=Ie.T,y=So();try{return pa(32),Ie.T=null,c()}finally{pa(y),Ie.T=f}},We.discreteUpdates=function(c,f,y,M,C){var O=Ie.T,Y=So();try{return pa(2),Ie.T=null,c(f,y,M,C)}finally{pa(Y),Ie.T=O,vn===0&&(Ec=zs()+500)}},We.findAllNodes=Uf,We.findBoundingRects=function(c,f){if(!rl)throw Error(a(363));f=Uf(c,f),c=[];for(var y=0;y<f.length;y++)c.push(dg(f[y]));for(f=c.length-1;0<f;f--){y=c[f];for(var M=y.x,C=M+y.width,O=y.y,Y=O+y.height,tt=f-1;0<=tt;tt--)if(f!==tt){var dt=c[tt],Ot=dt.x,Qt=Ot+dt.width,oe=dt.y,ue=oe+dt.height;if(M>=Ot&&O>=oe&&C<=Qt&&Y<=ue){c.splice(f,1);break}else if(M!==Ot||y.width!==dt.width||ue<O||oe>Y){if(!(O!==oe||y.height!==dt.height||Qt<M||Ot>C)){Ot>M&&(dt.width+=Ot-M,dt.x=M),Qt<C&&(dt.width=C-Ot),c.splice(f,1);break}}else{oe>O&&(dt.height+=oe-O,dt.y=O),ue<Y&&(dt.height=Y-oe),c.splice(f,1);break}}}return c},We.findHostInstance=Md,We.findHostInstanceWithNoPortals=function(c){return c=x(c),c=c!==null?A(c):null,c===null?null:cc(c.stateNode)},We.findHostInstanceWithWarning=function(c){return Md(c)},We.flushPassiveEffects=ir,We.flushSyncFromReconciler=function(c){var f=vn;vn|=1;var y=Ie.T,M=So();try{if(pa(2),Ie.T=null,c)return c()}finally{pa(M),Ie.T=y,vn=f,(vn&6)===0&&we(0)}},We.flushSyncWork=Pf,We.focusWithin=function(c,f){if(!rl)throw Error(a(363));for(c=tc(c),f=Fa(c,f),f=Array.from(f),c=0;c<f.length;){var y=f[c++],M=y.tag;if(!hc(y)){if((M===5||M===26||M===27)&&cy(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},We.getFindAllNodesFailureDescription=function(c,f){if(!rl)throw Error(a(363));var y=0,M=[];c=[tc(c),0];for(var C=0;C<c.length;){var O=c[C++],Y=O.tag,tt=c[C++],dt=f[tt];if((Y!==5&&Y!==26&&Y!==27||!hc(O))&&(Qo(O,dt)&&(M.push(Km(dt)),tt++,tt>y&&(y=tt)),tt<f.length))for(O=O.child;O!==null;)c.push(O,tt),O=O.sibling}if(y<f.length){for(c=[];y<f.length;y++)c.push(Km(f[y]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},We.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return cc(c.child.stateNode);default:return c.child.stateNode}},We.injectIntoDevTools=function(){var c={bundleType:0,version:og,rendererPackageName:Xf,currentDispatcherRef:Ie,findFiberByHostInstance:sy,reconcilerVersion:"19.0.0"};if(uc!==null&&(c.rendererConfig=uc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{pi=f.inject(c),Ha=f}catch{}c=!!f.checkDCE}}return c},We.isAlreadyRendering=function(){return!1},We.observeVisibleRects=function(c,f,y,M){if(!rl)throw Error(a(363));c=Uf(c,f);var C=fy(c,y,M).disconnect;return{disconnect:function(){C()}}},We.shouldError=function(){return null},We.shouldSuspend=function(){return!1},We.startHostTransition=function(c,f,y,M){if(c.tag!==5)throw Error(a(476));var C=wr(c).queue;Gu(c,C,f,sl,y===null?n:function(){var O=wr(c).next.queue;return ko(c,O,{},fi()),y(M)})},We.updateContainer=function(c,f,y,M){var C=f.current,O=fi();return ac(C,O,c,f,y,M),O},We.updateContainerSync=function(c,f,y,M){return f.tag===0&&ir(),ac(f.current,2,c,f,y,M),2},We},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(mM)),mM.exports}var _R;function lG(){return _R||(_R=1,pM.exports=oG()),pM.exports}var uG=lG();const cG=EE(uG);var yM={exports:{}},_M={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR;function fG(){return xR||(xR=1,(function(i){function t(z,q){var j=z.length;z.push(q);t:for(;0<j;){var rt=j-1>>>1,k=z[rt];if(0<a(k,q))z[rt]=q,z[j]=k,j=rt;else break t}}function e(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var q=z[0],j=z.pop();if(j!==q){z[0]=j;t:for(var rt=0,k=z.length,nt=k>>>1;rt<nt;){var _t=2*(rt+1)-1,wt=z[_t],Rt=_t+1,qt=z[Rt];if(0>a(wt,j))Rt<k&&0>a(qt,wt)?(z[rt]=qt,z[Rt]=j,rt=Rt):(z[rt]=wt,z[_t]=j,rt=_t);else if(Rt<k&&0>a(qt,j))z[rt]=qt,z[Rt]=j,rt=Rt;else break t}}return q}function a(z,q){var j=z.sortIndex-q.sortIndex;return j!==0?j:z.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();i.unstable_now=function(){return o.now()-u}}var h=[],p=[],m=1,v=null,_=3,x=!1,T=!1,A=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(z){for(var q=e(p);q!==null;){if(q.callback===null)n(p);else if(q.startTime<=z)n(p),q.sortIndex=q.expirationTime,t(h,q);else break;q=e(p)}}function N(z){if(A=!1,D(z),!T)if(e(h)!==null)T=!0,ct();else{var q=e(p);q!==null&&ut(N,q.startTime-z)}}var U=!1,P=-1,F=5,V=-1;function L(){return!(i.unstable_now()-V<F)}function B(){if(U){var z=i.unstable_now();V=z;var q=!0;try{t:{T=!1,A&&(A=!1,b(P),P=-1),x=!0;var j=_;try{e:{for(D(z),v=e(h);v!==null&&!(v.expirationTime>z&&L());){var rt=v.callback;if(typeof rt=="function"){v.callback=null,_=v.priorityLevel;var k=rt(v.expirationTime<=z);if(z=i.unstable_now(),typeof k=="function"){v.callback=k,D(z),q=!0;break e}v===e(h)&&n(h),D(z)}else n(h);v=e(h)}if(v!==null)q=!0;else{var nt=e(p);nt!==null&&ut(N,nt.startTime-z),q=!1}}break t}finally{v=null,_=j,x=!1}q=void 0}}finally{q?W():U=!1}}}var W;if(typeof R=="function")W=function(){R(B)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,it=$.port2;$.port1.onmessage=B,W=function(){it.postMessage(null)}}else W=function(){E(B,0)};function ct(){U||(U=!0,W())}function ut(z,q){P=E(function(){z(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){T||x||(T=!0,ct())},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return e(h)},i.unstable_next=function(z){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var j=_;_=q;try{return z()}finally{_=j}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var j=_;_=z;try{return q()}finally{_=j}},i.unstable_scheduleCallback=function(z,q,j){var rt=i.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?rt+j:rt):j=rt,z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=j+k,z={id:m++,callback:q,priorityLevel:z,startTime:j,expirationTime:k,sortIndex:-1},j>rt?(z.sortIndex=j,t(p,z),e(h)===null&&z===e(p)&&(A?(b(P),P=-1):A=!0,ut(N,j-rt))):(z.sortIndex=k,t(h,z),T||x||(T=!0,ct())),z},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(z){var q=_;return function(){var j=_;_=q;try{return z.apply(this,arguments)}finally{_=j}}}})(_M)),_M}var SR;function hG(){return SR||(SR=1,yM.exports=fG()),yM.exports}var bR=hG();function xA(i,t,e){if(!i)return;if(e(i)===!0)return i;let n=t?i.return:i.child;for(;n;){const a=xA(n,t,e);if(a)return a;n=t?null:n.sibling}}function oU(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const SA=oU(et.createContext(null));let lU=class extends et.Component{render(){return et.createElement(SA.Provider,{value:this._reactInternals},this.props.children)}};function uU(){const i=et.useContext(SA);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=et.useId();return et.useMemo(()=>{for(const e of[i,i?.alternate]){if(!e)continue;const n=xA(e,!1,a=>{let s=a.memoizedState;for(;s;){if(s.memoizedState===t)return!0;s=s.next}});if(n)return n}},[i,t])}const dG=Symbol.for("react.context"),pG=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===dG;function mG(){const i=uU(),[t]=et.useState(()=>new Map);t.clear();let e=i;for(;e;){const n=e.type;pG(n)&&n!==SA&&!t.has(n)&&t.set(n,et.use(oU(n))),e=e.return}return t}function gG(){const i=mG();return et.useMemo(()=>Array.from(i.keys()).reduce((t,e)=>n=>et.createElement(t,null,et.createElement(e.Provider,{...n,value:i.get(e)})),t=>et.createElement(lU,{...t})),[i])}function cU(i){let t=i.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const fU=i=>i&&i.isOrthographicCamera,vG=i=>i&&i.hasOwnProperty("current"),yG=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),Tv=((i,t)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?et.useLayoutEffect:et.useEffect;function hU(i){const t=et.useRef(i);return Tv(()=>void(t.current=i),[i]),t}function _G(){const i=uU(),t=gG();return et.useMemo(()=>({children:e})=>{const a=!!xA(i,!0,s=>s.type===et.StrictMode)?et.StrictMode:et.Fragment;return yt.jsx(a,{children:yt.jsx(t,{children:e})})},[i,t])}function xG({set:i}){return Tv(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const SG=(i=>(i=class extends et.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function dU(i){var t;const e=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],e),i[1]):i}function Tp(i){var t;return(t=i.__r3f)==null?void 0:t.root.getState()}const li={obj:i=>i===Object(i)&&!li.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,t,{arrays:e="shallow",objects:n="reference",strict:a=!0}={}){if(typeof i!=typeof t||!!i!=!!t)return!1;if(li.str(i)||li.num(i)||li.boo(i))return i===t;const s=li.obj(i);if(s&&n==="reference")return i===t;const o=li.arr(i);if(o&&e==="reference")return i===t;if((o||s)&&i===t)return!0;let u;for(u in i)if(!(u in t))return!1;if(s&&e==="shallow"&&n==="shallow"){for(u in a?t:i)if(!li.equ(i[u],t[u],{strict:a,objects:"reference"}))return!1}else for(u in a?t:i)if(i[u]!==t[u])return!1;if(li.und(u)){if(o&&i.length===0&&t.length===0||s&&Object.keys(i).length===0&&Object.keys(t).length===0)return!0;if(i!==t)return!1}return!0}};function bG(i){const t={nodes:{},materials:{},meshes:{}};return i&&i.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}function MG(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const t in i){const e=i[t];e?.type!=="Scene"&&(e==null||e.dispose==null||e.dispose())}}const pU=["children","key","ref"];function TG(i){const t={};for(const e in i)pU.includes(e)||(t[e]=i[e]);return t}function p1(i,t,e,n){const a=i;let s=a?.__r3f;return s||(s={root:t,type:e,parent:null,children:[],props:TG(n),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=s)),s}function K0(i,t){let e=i[t];if(!t.includes("-"))return{root:i,key:t,target:e};e=i;for(const a of t.split("-")){var n;t=a,i=e,e=(n=e)==null?void 0:n[t]}return{root:i,key:t,target:e}}const MR=/-\d+$/;function m1(i,t){if(li.str(t.props.attach)){if(MR.test(t.props.attach)){const a=t.props.attach.replace(MR,""),{root:s,key:o}=K0(i.object,a);Array.isArray(s[o])||(s[o]=[])}const{root:e,key:n}=K0(i.object,t.props.attach);t.previousAttach=e[n],e[n]=t.object}else li.fun(t.props.attach)&&(t.previousAttach=t.props.attach(i.object,t.object))}function g1(i,t){if(li.str(t.props.attach)){const{root:e,key:n}=K0(i.object,t.props.attach),a=t.previousAttach;a===void 0?delete e[n]:e[n]=a}else t.previousAttach==null||t.previousAttach(i.object,t.object);delete t.previousAttach}const xT=[...pU,"args","dispose","attach","object","onUpdate","dispose"],TR=new Map;function EG(i){let t=TR.get(i.constructor);try{t||(t=new i.constructor,TR.set(i.constructor,t))}catch{}return t}function AG(i,t){const e={};for(const n in t)if(!xT.includes(n)&&!li.equ(t[n],i.props[n])){e[n]=t[n];for(const a in t)a.startsWith(`${n}-`)&&(e[a]=t[a])}for(const n in i.props){if(xT.includes(n)||t.hasOwnProperty(n))continue;const{root:a,key:s}=K0(i.object,n);if(a.constructor&&a.constructor.length===0){const o=EG(a);li.und(o)||(e[s]=o[s])}else e[s]=0}return e}const wG=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],CG=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function kc(i,t){var e;const n=i.__r3f,a=n&&cU(n).getState(),s=n?.eventCount;for(const u in t){let h=t[u];if(xT.includes(u))continue;if(n&&CG.test(u)){typeof h=="function"?n.handlers[u]=h:delete n.handlers[u],n.eventCount=Object.keys(n.handlers).length;continue}if(h===void 0)continue;let{root:p,key:m,target:v}=K0(i,u);if(v instanceof em&&h instanceof em)v.mask=h.mask;else if(v instanceof pe&&yG(h))v.set(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&h!=null&&h.constructor&&v.constructor===h.constructor)v.copy(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(h))typeof v.fromArray=="function"?v.fromArray(h):v.set(...h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof h=="number")typeof v.setScalar=="function"?v.setScalar(h):v.set(h);else{var o;p[m]=h,a&&!a.linear&&wG.includes(m)&&(o=p[m])!=null&&o.isTexture&&p[m].format===Za&&p[m].type===no&&(p[m].colorSpace=ja)}}if(n!=null&&n.parent&&a!=null&&a.internal&&(e=n.object)!=null&&e.isObject3D&&s!==n.eventCount){const u=n.object,h=a.internal.interaction.indexOf(u);h>-1&&a.internal.interaction.splice(h,1),n.eventCount&&u.raycast!==null&&a.internal.interaction.push(u)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&Mm(n),i}function Mm(i){var t;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const e=(t=i.root)==null||t.getState==null?void 0:t.getState();e&&e.internal.frames===0&&e.invalidate()}function RG(i,t){i.manual||(fU(i)?(i.left=t.width/-2,i.right=t.width/2,i.top=t.height/2,i.bottom=t.height/-2):i.aspect=t.width/t.height,i.updateProjectionMatrix())}const Ss=i=>i?.isObject3D;function $_(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function mU(i,t,e,n){const a=e.get(t);a&&(e.delete(t),e.size===0&&(i.delete(n),a.target.releasePointerCapture(n)))}function DG(i,t){const{internal:e}=i.getState();e.interaction=e.interaction.filter(n=>n!==t),e.initialHits=e.initialHits.filter(n=>n!==t),e.hovered.forEach((n,a)=>{(n.eventObject===t||n.object===t)&&e.hovered.delete(a)}),e.capturedMap.forEach((n,a)=>{mU(e.capturedMap,t,n,a)})}function NG(i){function t(h){const{internal:p}=i.getState(),m=h.offsetX-p.initialClick[0],v=h.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function e(h){return h.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function n(h,p){const m=i.getState(),v=new Set,_=[],x=p?p(m.internal.interaction):m.internal.interaction;for(let b=0;b<x.length;b++){const R=Tp(x[b]);R&&(R.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(h,m);function T(b){const R=Tp(b);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var D;R.events.compute==null||R.events.compute(h,R,(D=R.previousRoot)==null?void 0:D.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(b,!0):[]}let A=x.flatMap(T).sort((b,R)=>{const D=Tp(b.object),N=Tp(R.object);return!D||!N?b.distance-R.distance:N.events.priority-D.events.priority||b.distance-R.distance}).filter(b=>{const R=$_(b);return v.has(R)?!1:(v.add(R),!0)});m.events.filter&&(A=m.events.filter(A,m));for(const b of A){let R=b.object;for(;R;){var E;(E=R.__r3f)!=null&&E.eventCount&&_.push({...b,eventObject:R}),R=R.parent}}if("pointerId"in h&&m.internal.capturedMap.has(h.pointerId))for(let b of m.internal.capturedMap.get(h.pointerId).values())v.has($_(b.intersection))||_.push(b.intersection);return _}function a(h,p,m,v){if(h.length){const _={stopped:!1};for(const x of h){let T=Tp(x.object);if(T||x.object.traverseAncestors(A=>{const E=Tp(A);if(E)return T=E,!1}),T){const{raycaster:A,pointer:E,camera:b,internal:R}=T,D=new K(E.x,E.y,0).unproject(b),N=L=>{var B,W;return(B=(W=R.capturedMap.get(L))==null?void 0:W.has(x.eventObject))!=null?B:!1},U=L=>{const B={intersection:x,target:p.target};R.capturedMap.has(L)?R.capturedMap.get(L).set(x.eventObject,B):R.capturedMap.set(L,new Map([[x.eventObject,B]])),p.target.setPointerCapture(L)},P=L=>{const B=R.capturedMap.get(L);B&&mU(R.capturedMap,x.eventObject,B,L)};let F={};for(let L in p){let B=p[L];typeof B!="function"&&(F[L]=B)}let V={...x,...F,pointer:E,intersections:h,stopped:_.stopped,delta:m,unprojectedPoint:D,ray:A.ray,camera:b,stopPropagation(){const L="pointerId"in p&&R.capturedMap.get(p.pointerId);if((!L||L.has(x.eventObject))&&(V.stopped=_.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(B=>B.eventObject===x.eventObject))){const B=h.slice(0,h.indexOf(x));s([...B,x])}},target:{hasPointerCapture:N,setPointerCapture:U,releasePointerCapture:P},currentTarget:{hasPointerCapture:N,setPointerCapture:U,releasePointerCapture:P},nativeEvent:p};if(v(V),_.stopped===!0)break}}}return h}function s(h){const{internal:p}=i.getState();for(const m of p.hovered.values())if(!h.length||!h.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const _=m.eventObject.__r3f;if(p.hovered.delete($_(m)),_!=null&&_.eventCount){const x=_.handlers,T={...m,intersections:h};x.onPointerOut==null||x.onPointerOut(T),x.onPointerLeave==null||x.onPointerLeave(T)}}}function o(h,p){for(let m=0;m<p.length;m++){const v=p[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(h)}}function u(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return p=>{const{internal:m}=i.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),s([]))})}}return function(m){const{onPointerMissed:v,internal:_}=i.getState();_.lastEvent.current=m;const x=h==="onPointerMove",T=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",E=n(m,x?e:void 0),b=T?t(m):0;h==="onPointerDown"&&(_.initialClick=[m.offsetX,m.offsetY],_.initialHits=E.map(D=>D.eventObject)),T&&!E.length&&b<=2&&(o(m,_.interaction),v&&v(m)),x&&s(E);function R(D){const N=D.eventObject,U=N.__r3f;if(!(U!=null&&U.eventCount))return;const P=U.handlers;if(x){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const F=$_(D),V=_.hovered.get(F);V?V.stopped&&D.stopPropagation():(_.hovered.set(F,D),P.onPointerOver==null||P.onPointerOver(D),P.onPointerEnter==null||P.onPointerEnter(D))}P.onPointerMove==null||P.onPointerMove(D)}else{const F=P[h];F?(!T||_.initialHits.includes(N))&&(o(m,_.interaction.filter(V=>!_.initialHits.includes(V))),F(D)):T&&_.initialHits.includes(N)&&o(m,_.interaction.filter(V=>!_.initialHits.includes(V)))}}a(E,m,b,R)}}return{handlePointer:u}}const ER=i=>!!(i!=null&&i.render),gU=et.createContext(null),OG=(i,t)=>{const e=tG((u,h)=>{const p=new K,m=new K,v=new K;function _(b=h().camera,R=m,D=h().size){const{width:N,height:U,top:P,left:F}=D,V=N/U;R.isVector3?v.copy(R):v.set(...R);const L=b.getWorldPosition(p).distanceTo(v);if(fU(b))return{width:N/b.zoom,height:U/b.zoom,top:P,left:F,factor:1,distance:L,aspect:V};{const B=b.fov*Math.PI/180,W=2*Math.tan(B/2)*L,$=W*(N/U);return{width:$,height:W,top:P,left:F,factor:N/$,distance:L,aspect:V}}}let x;const T=b=>u(R=>({performance:{...R.performance,current:b}})),A=new Ht;return{set:u,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>i(h(),b),advance:(b,R)=>t(b,R,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new pA,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=h();x&&clearTimeout(x),b.performance.current!==b.performance.min&&T(b.performance.min),x=setTimeout(()=>T(h().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:b=>u(R=>({...R,events:{...R.events,...b}})),setSize:(b,R,D=0,N=0)=>{const U=h().camera,P={width:b,height:R,top:D,left:N};u(F=>({size:P,viewport:{...F.viewport,..._(U,m,P)}}))},setDpr:b=>u(R=>{const D=dU(b);return{viewport:{...R.viewport,dpr:D,initialDpr:R.viewport.initialDpr||D}}}),setFrameloop:(b="always")=>{const R=h().clock;R.stop(),R.elapsedTime=0,b!=="never"&&(R.start(),R.elapsedTime=0),u(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:et.createRef(),active:!1,frames:0,priority:0,subscribe:(b,R,D)=>{const N=h().internal;return N.priority=N.priority+(R>0?1:0),N.subscribers.push({ref:b,priority:R,store:D}),N.subscribers=N.subscribers.sort((U,P)=>U.priority-P.priority),()=>{const U=h().internal;U!=null&&U.subscribers&&(U.priority=U.priority-(R>0?1:0),U.subscribers=U.subscribers.filter(P=>P.ref!==b))}}}}}),n=e.getState();let a=n.size,s=n.viewport.dpr,o=n.camera;return e.subscribe(()=>{const{camera:u,size:h,viewport:p,gl:m,set:v}=e.getState();if(h.width!==a.width||h.height!==a.height||p.dpr!==s){a=h,s=p.dpr,RG(u,h),p.dpr>0&&m.setPixelRatio(p.dpr);const _=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(h.width,h.height,_)}u!==o&&(o=u,v(_=>({viewport:{..._.viewport,..._.viewport.getCurrentViewport(u)}})))}),e.subscribe(u=>i(u)),e};function UG(){const i=et.useContext(gU);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function LG(i,t=0){const e=UG(),n=e.getState().internal.subscribe,a=hU(i);return Tv(()=>n(a,t,e),[t,n,e]),null}const AR=new WeakMap,PG=i=>{var t;return typeof i=="function"&&(i==null||(t=i.prototype)==null?void 0:t.constructor)===i};function vU(i,t){return function(e,...n){let a;return PG(e)?(a=AR.get(e),a||(a=new e,AR.set(e,a))):a=e,i&&i(a),Promise.all(n.map(s=>new Promise((o,u)=>a.load(s,h=>{Ss(h?.scene)&&Object.assign(h,bG(h.scene)),o(h)},t,h=>u(new Error(`Could not load ${s}: ${h?.message}`))))))}}function bA(i,t,e,n){const a=Array.isArray(t)?t:[t],s=nG(vU(e,n),[i,...a],{equal:li.equ});return Array.isArray(t)?s:s[0]}bA.preload=function(i,t,e){const n=Array.isArray(t)?t:[t];return iG(vU(e),[i,...n])};bA.clear=function(i,t){const e=Array.isArray(t)?t:[t];return aG([i,...e])};function zG(i){const t=cG(i);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:et.version}),t}const yU=0,sm={},BG=/^three(?=[A-Z])/,gS=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let IG=0;const FG=i=>typeof i=="function";function VG(i){if(FG(i)){const t=`${IG++}`;return sm[t]=i,t}else Object.assign(sm,i)}function _U(i,t){const e=gS(i),n=sm[e];if(i!=="primitive"&&!n)throw new Error(`R3F: ${e} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function HG(i,t,e){var n;return i=gS(i)in sm?i:i.replace(BG,""),_U(i,t),i==="primitive"&&(n=t.object)!=null&&n.__r3f&&delete t.object.__r3f,p1(t.object,e,i,t)}function GG(i){if(!i.isHidden){var t;i.props.attach&&(t=i.parent)!=null&&t.object?g1(i.parent,i):Ss(i.object)&&(i.object.visible=!1),i.isHidden=!0,Mm(i)}}function xU(i){if(i.isHidden){var t;i.props.attach&&(t=i.parent)!=null&&t.object?m1(i.parent,i):Ss(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,Mm(i)}}function MA(i,t,e){const n=t.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!t.object){var a,s;const o=sm[gS(t.type)];t.object=(a=t.props.object)!=null?a:new o(...(s=t.props.args)!=null?s:[]),t.object.__r3f=t}if(kc(t.object,t.props),t.props.attach)m1(i,t);else if(Ss(t.object)&&Ss(i.object)){const o=i.object.children.indexOf(e?.object);if(e&&o!==-1){const u=i.object.children.indexOf(t.object);if(u!==-1){i.object.children.splice(u,1);const h=u<o?o-1:o;i.object.children.splice(h,0,t.object)}else t.object.parent=i.object,i.object.children.splice(o,0,t.object),t.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:t.object})}else i.object.add(t.object)}for(const o of t.children)MA(t,o);Mm(t)}}function xM(i,t){t&&(t.parent=i,i.children.push(t),MA(i,t))}function wR(i,t,e){if(!t||!e)return;t.parent=i;const n=i.children.indexOf(e);n!==-1?i.children.splice(n,0,t):i.children.push(t),MA(i,t,e)}function SU(i){if(typeof i.dispose=="function"){const t=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():bR.unstable_scheduleCallback(bR.unstable_IdlePriority,t)}}function ST(i,t,e){if(!t)return;t.parent=null;const n=i.children.indexOf(t);n!==-1&&i.children.splice(n,1),t.props.attach?g1(i,t):Ss(t.object)&&Ss(i.object)&&(i.object.remove(t.object),DG(cU(t),t.object));const a=t.props.dispose!==null&&e!==!1;for(let s=t.children.length-1;s>=0;s--){const o=t.children[s];ST(t,o,a)}t.children.length=0,delete t.object.__r3f,a&&t.type!=="primitive"&&t.object.type!=="Scene"&&SU(t.object),e===void 0&&Mm(t)}function kG(i,t){for(const e of[i,i.alternate])if(e!==null)if(typeof e.ref=="function"){e.refCleanup==null||e.refCleanup();const n=e.ref(t);typeof n=="function"&&(e.refCleanup=n)}else e.ref&&(e.ref.current=t)}const px=[];function XG(){for(const[e]of px){const n=e.parent;if(n){e.props.attach?g1(n,e):Ss(e.object)&&Ss(n.object)&&n.object.remove(e.object);for(const a of e.children)a.props.attach?g1(e,a):Ss(a.object)&&Ss(e.object)&&e.object.remove(a.object)}e.isHidden&&xU(e),e.object.__r3f&&delete e.object.__r3f,e.type!=="primitive"&&SU(e.object)}for(const[e,n,a]of px){e.props=n;const s=e.parent;if(s){var i,t;const o=sm[gS(e.type)];e.object=(i=e.props.object)!=null?i:new o(...(t=e.props.args)!=null?t:[]),e.object.__r3f=e,kG(a,e.object),kc(e.object,e.props),e.props.attach?m1(s,e):Ss(e.object)&&Ss(s.object)&&s.object.add(e.object);for(const u of e.children)u.props.attach?m1(e,u):Ss(u.object)&&Ss(e.object)&&e.object.add(u.object);Mm(e)}}px.length=0}const SM=()=>{},CR={};let tx=yU;const qG=0,YG=4,bT=zG({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:HG,removeChild:ST,appendChild:xM,appendInitialChild:xM,insertBefore:wR,appendChildToContainer(i,t){const e=i.getState().scene.__r3f;!t||!e||xM(e,t)},removeChildFromContainer(i,t){const e=i.getState().scene.__r3f;!t||!e||ST(e,t)},insertInContainerBefore(i,t,e){const n=i.getState().scene.__r3f;!t||!e||!n||wR(n,t,e)},getRootHostContext:()=>CR,getChildHostContext:()=>CR,commitUpdate(i,t,e,n,a){var s,o,u;_U(t,n);let h=!1;if((i.type==="primitive"&&e.object!==n.object||((s=n.args)==null?void 0:s.length)!==((o=e.args)==null?void 0:o.length)||(u=n.args)!=null&&u.some((m,v)=>{var _;return m!==((_=e.args)==null?void 0:_[v])}))&&(h=!0),h)px.push([i,{...n},a]);else{const m=AG(i,n);Object.keys(m).length&&(Object.assign(i.props,m),kc(i.object,m))}(a.sibling===null||(a.flags&YG)===qG)&&XG()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i?.object,prepareForCommit:()=>null,preparePortalMount:i=>p1(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:GG,unhideInstance:xU,createTextInstance:SM,hideTextInstance:SM,unhideTextInstance:SM,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:et.createContext(null),setCurrentUpdatePriority(i){tx=i},getCurrentUpdatePriority(){return tx},resolveUpdatePriority(){var i;if(tx!==yU)return tx;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return cx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return cx.ContinuousEventPriority;default:return cx.DefaultEventPriority}},resetFormInstance(){}}),jh=new Map,Ep={objects:"shallow",strict:!1};function jG(i,t){if(!t&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:e,height:n,top:a,left:s}=i.parentElement.getBoundingClientRect();return{width:e,height:n,top:a,left:s}}else if(!t&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function WG(i){const t=jh.get(i),e=t?.fiber,n=t?.store;t&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,s=n||OG(ET,DR),o=e||bT.createContainer(s,cx.ConcurrentRoot,null,!1,null,"",a,a,a,null);t||jh.set(i,{fiber:o,store:s});let u,h,p=!1,m=null;return{async configure(v={}){let _;m=new Promise(nt=>_=nt);let{gl:x,size:T,scene:A,events:E,onCreated:b,shadows:R=!1,linear:D=!1,flat:N=!1,legacy:U=!1,orthographic:P=!1,frameloop:F="always",dpr:V=[1,2],performance:L,raycaster:B,camera:W,onPointerMissed:$}=v,it=s.getState(),ct=it.gl;if(!it.gl){const nt={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},_t=typeof x=="function"?await x(nt):x;ER(_t)?ct=_t:ct=new aU({...nt,...x}),it.set({gl:ct})}let ut=it.raycaster;ut||it.set({raycaster:ut=new KO});const{params:z,...q}=B||{};if(li.equ(q,ut,Ep)||kc(ut,{...q}),li.equ(z,ut.params,Ep)||kc(ut,{params:{...ut.params,...z}}),!it.camera||it.camera===h&&!li.equ(h,W,Ep)){h=W;const nt=W?.isCamera,_t=nt?W:P?new Mv(0,0,0,0,.1,1e3):new _a(75,0,.1,1e3);nt||(_t.position.z=5,W&&(kc(_t,W),_t.manual||("aspect"in W||"left"in W||"right"in W||"bottom"in W||"top"in W)&&(_t.manual=!0,_t.updateProjectionMatrix())),!it.camera&&!(W!=null&&W.rotation)&&_t.lookAt(0,0,0)),it.set({camera:_t}),ut.camera=_t}if(!it.scene){let nt;A!=null&&A.isScene?(nt=A,p1(nt,s,"",{})):(nt=new jE,p1(nt,s,"",{}),A&&kc(nt,A)),it.set({scene:nt})}E&&!it.events.handlers&&it.set({events:E(s)});const j=jG(i,T);if(li.equ(j,it.size,Ep)||it.setSize(j.width,j.height,j.top,j.left),V&&it.viewport.dpr!==dU(V)&&it.setDpr(V),it.frameloop!==F&&it.setFrameloop(F),it.onPointerMissed||it.set({onPointerMissed:$}),L&&!li.equ(L,it.performance,Ep)&&it.set(nt=>({performance:{...nt.performance,...L}})),!it.xr){var rt;const nt=(Rt,qt)=>{const mt=s.getState();mt.frameloop!=="never"&&DR(Rt,!0,mt,qt)},_t=()=>{const Rt=s.getState();Rt.gl.xr.enabled=Rt.gl.xr.isPresenting,Rt.gl.xr.setAnimationLoop(Rt.gl.xr.isPresenting?nt:null),Rt.gl.xr.isPresenting||ET(Rt)},wt={connect(){const Rt=s.getState().gl;Rt.xr.addEventListener("sessionstart",_t),Rt.xr.addEventListener("sessionend",_t)},disconnect(){const Rt=s.getState().gl;Rt.xr.removeEventListener("sessionstart",_t),Rt.xr.removeEventListener("sessionend",_t)}};typeof((rt=ct.xr)==null?void 0:rt.addEventListener)=="function"&&wt.connect(),it.set({xr:wt})}if(ct.shadowMap){const nt=ct.shadowMap.enabled,_t=ct.shadowMap.type;if(ct.shadowMap.enabled=!!R,li.boo(R))ct.shadowMap.type=h0;else if(li.str(R)){var k;const wt={basic:sN,percentage:B1,soft:h0,variance:Lo};ct.shadowMap.type=(k=wt[R])!=null?k:h0}else li.obj(R)&&Object.assign(ct.shadowMap,R);(nt!==ct.shadowMap.enabled||_t!==ct.shadowMap.type)&&(ct.shadowMap.needsUpdate=!0)}return _n.enabled=!U,p||(ct.outputColorSpace=D?Qc:ja,ct.toneMapping=N?Nl:OE),it.legacy!==U&&it.set(()=>({legacy:U})),it.linear!==D&&it.set(()=>({linear:D})),it.flat!==N&&it.set(()=>({flat:N})),x&&!li.fun(x)&&!ER(x)&&!li.equ(x,ct,Ep)&&kc(ct,x),u=b,p=!0,_(),this},render(v){return!p&&!m&&this.configure(),m.then(()=>{bT.updateContainer(yt.jsx(ZG,{store:s,children:v,onCreated:u,rootElement:i}),o,null,()=>{})}),s},unmount(){bU(i)}}}function ZG({store:i,children:t,onCreated:e,rootElement:n}){return Tv(()=>{const a=i.getState();a.set(s=>({internal:{...s.internal,active:!0}})),e&&e(a),i.getState().events.connected||a.events.connect==null||a.events.connect(n)},[]),yt.jsx(gU.Provider,{value:i,children:t})}function bU(i,t){const e=jh.get(i),n=e?.fiber;if(n){const a=e?.store.getState();a&&(a.internal.active=!1),bT.updateContainer(null,n,null,()=>{a&&setTimeout(()=>{try{var s,o,u,h;a.events.disconnect==null||a.events.disconnect(),(s=a.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(u=a.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(h=a.gl)!=null&&h.xr&&a.xr.disconnect(),MG(a.scene),jh.delete(i)}catch{}},500)})}}const KG=new Set,QG=new Set,JG=new Set;function bM(i,t){if(i.size)for(const{callback:e}of i.values())e(t)}function S0(i,t){switch(i){case"before":return bM(KG,t);case"after":return bM(QG,t);case"tail":return bM(JG,t)}}let MM,TM;function MT(i,t,e){let n=t.clock.getDelta();t.frameloop==="never"&&typeof i=="number"&&(n=i-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=i),MM=t.internal.subscribers;for(let a=0;a<MM.length;a++)TM=MM[a],TM.ref.current(TM.store.getState(),n,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let v1=!1,TT=!1,EM,RR,Ap;function MU(i){RR=requestAnimationFrame(MU),v1=!0,EM=0,S0("before",i),TT=!0;for(const e of jh.values()){var t;Ap=e.store.getState(),Ap.internal.active&&(Ap.frameloop==="always"||Ap.internal.frames>0)&&!((t=Ap.gl.xr)!=null&&t.isPresenting)&&(EM+=MT(i,Ap))}if(TT=!1,S0("after",i),EM===0)return S0("tail",i),v1=!1,cancelAnimationFrame(RR)}function ET(i,t=1){var e;if(!i)return jh.forEach(n=>ET(n.store.getState(),t));(e=i.gl.xr)!=null&&e.isPresenting||!i.internal.active||i.frameloop==="never"||(t>1?i.internal.frames=Math.min(60,i.internal.frames+t):TT?i.internal.frames=2:i.internal.frames=1,v1||(v1=!0,requestAnimationFrame(MU)))}function DR(i,t=!0,e,n){if(t&&S0("before",i),e)MT(i,e,n);else for(const a of jh.values())MT(i,a.store.getState());t&&S0("after",i)}const AM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function $G(i){const{handlePointer:t}=NG(i);return{priority:1,enabled:!0,compute(e,n,a){n.pointer.set(e.offsetX/n.size.width*2-1,-(e.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(AM).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var e;const{events:n,internal:a}=i.getState();(e=a.lastEvent)!=null&&e.current&&n.handlers&&n.handlers.onPointerMove(a.lastEvent.current)},connect:e=>{const{set:n,events:a}=i.getState();if(a.disconnect==null||a.disconnect(),n(s=>({events:{...s.events,connected:e}})),a.handlers)for(const s in a.handlers){const o=a.handlers[s],[u,h]=AM[s];e.addEventListener(u,o,{passive:h})}},disconnect:()=>{const{set:e,events:n}=i.getState();if(n.connected){if(n.handlers)for(const a in n.handlers){const s=n.handlers[a],[o]=AM[a];n.connected.removeEventListener(o,s)}e(a=>({events:{...a.events,connected:void 0}}))}}}}function NR(i,t){let e;return(...n)=>{window.clearTimeout(e),e=window.setTimeout(()=>i(...n),t)}}function tk({debounce:i,scroll:t,polyfill:e,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const a=e||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=et.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=et.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),h=i?typeof i=="number"?i:i.scroll:null,p=i?typeof i=="number"?i:i.resize:null,m=et.useRef(!1);et.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,_,x]=et.useMemo(()=>{const b=()=>{if(!u.current.element)return;const{left:R,top:D,width:N,height:U,bottom:P,right:F,x:V,y:L}=u.current.element.getBoundingClientRect(),B={left:R,top:D,width:N,height:U,bottom:P,right:F,x:V,y:L};u.current.element instanceof HTMLElement&&n&&(B.height=u.current.element.offsetHeight,B.width=u.current.element.offsetWidth),Object.freeze(B),m.current&&!ak(u.current.lastBounds,B)&&o(u.current.lastBounds=B)};return[b,p?NR(b,p):b,h?NR(b,h):b]},[o,n,h,p]);function T(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",x,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function A(){u.current.element&&(u.current.resizeObserver=new a(x),u.current.resizeObserver.observe(u.current.element),t&&u.current.scrollContainers&&u.current.scrollContainers.forEach(b=>b.addEventListener("scroll",x,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const E=b=>{!b||b===u.current.element||(T(),u.current.element=b,u.current.scrollContainers=TU(b),A())};return nk(x,!!t),ek(_),et.useEffect(()=>{T(),A()},[t,x,_]),et.useEffect(()=>T,[]),[E,s,v]}function ek(i){et.useEffect(()=>{const t=i;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[i])}function nk(i,t){et.useEffect(()=>{if(t){const e=i;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[i,t])}function TU(i){const t=[];if(!i||i===document.body)return t;const{overflow:e,overflowX:n,overflowY:a}=window.getComputedStyle(i);return[e,n,a].some(s=>s==="auto"||s==="scroll")&&t.push(i),[...t,...TU(i.parentElement)]}const ik=["x","y","top","bottom","left","right","width","height"],ak=(i,t)=>ik.every(e=>i[e]===t[e]);function sk({ref:i,children:t,fallback:e,resize:n,style:a,gl:s,events:o=$G,eventSource:u,eventPrefix:h,shadows:p,linear:m,flat:v,legacy:_,orthographic:x,frameloop:T,dpr:A,performance:E,raycaster:b,camera:R,scene:D,onPointerMissed:N,onCreated:U,...P}){et.useMemo(()=>VG(k9),[]);const F=_G(),[V,L]=tk({scroll:!0,debounce:{scroll:50,resize:0},...n}),B=et.useRef(null),W=et.useRef(null);et.useImperativeHandle(i,()=>B.current);const $=hU(N),[it,ct]=et.useState(!1),[ut,z]=et.useState(!1);if(it)throw it;if(ut)throw ut;const q=et.useRef(null);Tv(()=>{const rt=B.current;if(L.width>0&&L.height>0&&rt){q.current||(q.current=WG(rt));async function k(){await q.current.configure({gl:s,scene:D,events:o,shadows:p,linear:m,flat:v,legacy:_,orthographic:x,frameloop:T,dpr:A,performance:E,raycaster:b,camera:R,size:L,onPointerMissed:(...nt)=>$.current==null?void 0:$.current(...nt),onCreated:nt=>{nt.events.connect==null||nt.events.connect(u?vG(u)?u.current:u:W.current),h&&nt.setEvents({compute:(_t,wt)=>{const Rt=_t[h+"X"],qt=_t[h+"Y"];wt.pointer.set(Rt/wt.size.width*2-1,-(qt/wt.size.height)*2+1),wt.raycaster.setFromCamera(wt.pointer,wt.camera)}}),U?.(nt)}}),q.current.render(yt.jsx(F,{children:yt.jsx(SG,{set:z,children:yt.jsx(et.Suspense,{fallback:yt.jsx(xG,{set:ct}),children:t??null})})}))}k()}}),et.useEffect(()=>{const rt=B.current;if(rt)return()=>bU(rt)},[]);const j=u?"none":"auto";return yt.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...a},...P,children:yt.jsx("div",{ref:V,style:{width:"100%",height:"100%"},children:yt.jsx("canvas",{ref:B,style:{display:"block"},children:e})})})}function AT(i){return yt.jsx(lU,{children:yt.jsx(sk,{...i})})}function rk({title:i,text:t,className:e}){return yt.jsxs("div",{className:`${e||""} `,children:[yt.jsx("h1",{children:i}),Array.isArray(t)?t.map((n,a)=>yt.jsx("div",{children:n},a)):yt.jsx("p",{children:t})]})}const OR="/personalpage/assets/logo2-Dr6M0oG8.jpg";function xu(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function EU(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Sr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},rm={duration:.5,overwrite:!1,delay:0},TA,Ua,ui,Qr=1e8,Qn=1/Qr,wT=Math.PI*2,ok=wT/4,lk=0,AU=Math.sqrt,uk=Math.cos,ck=Math.sin,xa=function(t){return typeof t=="string"},Ci=function(t){return typeof t=="function"},Ou=function(t){return typeof t=="number"},EA=function(t){return typeof t>"u"},Bl=function(t){return typeof t=="object"},Zs=function(t){return t!==!1},AA=function(){return typeof window<"u"},ex=function(t){return Ci(t)||xa(t)},wU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ja=Array.isArray,CT=/(?:-?\.?\d|\.)+/gi,CU=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Lp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,wM=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,RU=/[+-]=-?[.\d]+/,DU=/[^,'"\[\]\s]+/gi,fk=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,gi,Tl,RT,wA,Mr={},y1={},NU,OU=function(t){return(y1=om(t,Mr))&&$s},CA=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Q0=function(t,e){return!e&&console.warn(t)},UU=function(t,e){return t&&(Mr[t]=e)&&y1&&(y1[t]=e)||Mr},J0=function(){return 0},hk={suppressEvents:!0,isStart:!0,kill:!1},mx={suppressEvents:!0,kill:!1},dk={suppressEvents:!0},RA={},Wc=[],DT={},LU,gr={},CM={},UR=30,gx=[],DA="",NA=function(t){var e=t[0],n,a;if(Bl(e)||Ci(e)||(t=[t]),!(n=(e._gsap||{}).harness)){for(a=gx.length;a--&&!gx[a].targetTest(e););n=gx[a]}for(a=t.length;a--;)t[a]&&(t[a]._gsap||(t[a]._gsap=new aL(t[a],n)))||t.splice(a,1);return t},Ih=function(t){return t._gsap||NA(Jr(t))[0]._gsap},PU=function(t,e,n){return(n=t[e])&&Ci(n)?t[e]():EA(n)&&t.getAttribute&&t.getAttribute(e)||n},Ks=function(t,e){return(t=t.split(",")).forEach(e)||t},Fi=function(t){return Math.round(t*1e5)/1e5||0},Wi=function(t){return Math.round(t*1e7)/1e7||0},Xp=function(t,e){var n=e.charAt(0),a=parseFloat(e.substr(2));return t=parseFloat(t),n==="+"?t+a:n==="-"?t-a:n==="*"?t*a:t/a},pk=function(t,e){for(var n=e.length,a=0;t.indexOf(e[a])<0&&++a<n;);return a<n},_1=function(){var t=Wc.length,e=Wc.slice(0),n,a;for(DT={},Wc.length=0,n=0;n<t;n++)a=e[n],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},OA=function(t){return!!(t._initted||t._startAt||t.add)},zU=function(t,e,n,a){Wc.length&&!Ua&&_1(),t.render(e,n,!!(Ua&&e<0&&OA(t))),Wc.length&&!Ua&&_1()},BU=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(DU).length<2?e:xa(t)?t.trim():t},IU=function(t){return t},Tr=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},mk=function(t){return function(e,n){for(var a in n)a in e||a==="duration"&&t||a==="ease"||(e[a]=n[a])}},om=function(t,e){for(var n in e)t[n]=e[n];return t},LR=function i(t,e){for(var n in e)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(t[n]=Bl(e[n])?i(t[n]||(t[n]={}),e[n]):e[n]);return t},x1=function(t,e){var n={},a;for(a in t)a in e||(n[a]=t[a]);return n},b0=function(t){var e=t.parent||gi,n=t.keyframes?mk(Ja(t.keyframes)):Tr;if(Zs(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},gk=function(t,e){for(var n=t.length,a=n===e.length;a&&n--&&t[n]===e[n];);return n<0},FU=function(t,e,n,a,s){var o=t[a],u;if(s)for(u=e[s];o&&o[s]>u;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[a]=e,e._prev=o,e.parent=e._dp=t,e},vS=function(t,e,n,a){n===void 0&&(n="_first"),a===void 0&&(a="_last");var s=e._prev,o=e._next;s?s._next=o:t[n]===e&&(t[n]=o),o?o._prev=s:t[a]===e&&(t[a]=s),e._next=e._prev=e.parent=null},$c=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Fh=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},vk=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},NT=function(t,e,n,a){return t._startAt&&(Ua?t._startAt.revert(mx):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,a))},yk=function i(t){return!t||t._ts&&i(t.parent)},PR=function(t){return t._repeat?lm(t._tTime,t=t.duration()+t._rDelay)*t:0},lm=function(t,e){var n=Math.floor(t=Wi(t/e));return t&&n===t?n-1:n},S1=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},yS=function(t){return t._end=Wi(t._start+(t._tDur/Math.abs(t._ts||t._rts||Qn)||0))},_S=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=Wi(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),yS(t),n._dirty||Fh(n,t)),t},VU=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=S1(t.rawTime(),e),(!e._dur||Ev(0,e.totalDuration(),n)-e._tTime>Qn)&&e.render(n,!0)),Fh(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-Qn}},Al=function(t,e,n,a){return e.parent&&$c(e),e._start=Wi((Ou(n)?n:n||t!==gi?Wr(t,n,e):t._time)+e._delay),e._end=Wi(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),FU(t,e,"_first","_last",t._sort?"_start":0),OT(e)||(t._recent=e),a||VU(t,e),t._ts<0&&_S(t,t._tTime),t},HU=function(t,e){return(Mr.ScrollTrigger||CA("scrollTrigger",e))&&Mr.ScrollTrigger.create(e,t)},GU=function(t,e,n,a,s){if(LA(t,e,s),!t._initted)return 1;if(!n&&t._pt&&!Ua&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&LU!==vr.frame)return Wc.push(t),t._lazy=[s,a],1},_k=function i(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||i(e))},OT=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},xk=function(t,e,n,a){var s=t.ratio,o=e<0||!e&&(!t._start&&_k(t)&&!(!t._initted&&OT(t))||(t._ts<0||t._dp._ts<0)&&!OT(t))?0:1,u=t._rDelay,h=0,p,m,v;if(u&&t._repeat&&(h=Ev(0,t._tDur,e),m=lm(h,u),t._yoyo&&m&1&&(o=1-o),m!==lm(t._tTime,u)&&(s=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==s||Ua||a||t._zTime===Qn||!e&&t._zTime){if(!t._initted&&GU(t,e,a,n,h))return;for(v=t._zTime,t._zTime=e||(n?Qn:0),n||(n=e&&!v),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=h,p=t._pt;p;)p.r(o,p.d),p=p._next;e<0&&NT(t,e,n,!0),t._onUpdate&&!n&&_r(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&_r(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&$c(t,1),!n&&!Ua&&(_r(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},Sk=function(t,e,n){var a;if(n>e)for(a=t._first;a&&a._start<=n;){if(a.data==="isPause"&&a._start>e)return a;a=a._next}else for(a=t._last;a&&a._start>=n;){if(a.data==="isPause"&&a._start<e)return a;a=a._prev}},um=function(t,e,n,a){var s=t._repeat,o=Wi(e)||0,u=t._tTime/t._tDur;return u&&!a&&(t._time*=o/t._dur),t._dur=o,t._tDur=s?s<0?1e10:Wi(o*(s+1)+t._rDelay*s):o,u>0&&!a&&_S(t,t._tTime=t._tDur*u),t.parent&&yS(t),n||Fh(t.parent,t),t},zR=function(t){return t instanceof Ms?Fh(t):um(t,t._dur)},bk={_start:0,endTime:J0,totalDuration:J0},Wr=function i(t,e,n){var a=t.labels,s=t._recent||bk,o=t.duration()>=Qr?s.endTime(!1):t._dur,u,h,p;return xa(e)&&(isNaN(e)||e in a)?(h=e.charAt(0),p=e.substr(-1)==="%",u=e.indexOf("="),h==="<"||h===">"?(u>=0&&(e=e.replace(/=/,"")),(h==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(e.substr(1))||0)*(p?(u<0?s:n).totalDuration()/100:1)):u<0?(e in a||(a[e]=o),a[e]):(h=parseFloat(e.charAt(u-1)+e.substr(u+1)),p&&n&&(h=h/100*(Ja(n)?n[0]:n).totalDuration()),u>1?i(t,e.substr(0,u-1),n)+h:o+h)):e==null?o:+e},M0=function(t,e,n){var a=Ou(e[1]),s=(a?2:1)+(t<2?0:1),o=e[s],u,h;if(a&&(o.duration=e[1]),o.parent=n,t){for(u=o,h=n;h&&!("immediateRender"in u);)u=h.vars.defaults||{},h=Zs(h.vars.inherit)&&h.parent;o.immediateRender=Zs(u.immediateRender),t<2?o.runBackwards=1:o.startAt=e[s-1]}return new ji(e[0],o,e[s+1])},ff=function(t,e){return t||t===0?e(t):e},Ev=function(t,e,n){return n<t?t:n>e?e:n},Wa=function(t,e){return!xa(t)||!(e=fk.exec(t))?"":e[1]},Mk=function(t,e,n){return ff(n,function(a){return Ev(t,e,a)})},UT=[].slice,kU=function(t,e){return t&&Bl(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Bl(t[0]))&&!t.nodeType&&t!==Tl},Tk=function(t,e,n){return n===void 0&&(n=[]),t.forEach(function(a){var s;return xa(a)&&!e||kU(a,1)?(s=n).push.apply(s,Jr(a)):n.push(a)})||n},Jr=function(t,e,n){return ui&&!e&&ui.selector?ui.selector(t):xa(t)&&!n&&(RT||!cm())?UT.call((e||wA).querySelectorAll(t),0):Ja(t)?Tk(t,n):kU(t)?UT.call(t,0):t?[t]:[]},LT=function(t){return t=Jr(t)[0]||Q0("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return Jr(e,n.querySelectorAll?n:n===t?Q0("Invalid scope")||wA.createElement("div"):t)}},XU=function(t){return t.sort(function(){return .5-Math.random()})},qU=function(t){if(Ci(t))return t;var e=Bl(t)?t:{each:t},n=Vh(e.ease),a=e.from||0,s=parseFloat(e.base)||0,o={},u=a>0&&a<1,h=isNaN(a)||u,p=e.axis,m=a,v=a;return xa(a)?m=v={center:.5,edges:.5,end:1}[a]||0:!u&&h&&(m=a[0],v=a[1]),function(_,x,T){var A=(T||e).length,E=o[A],b,R,D,N,U,P,F,V,L;if(!E){if(L=e.grid==="auto"?0:(e.grid||[1,Qr])[1],!L){for(F=-Qr;F<(F=T[L++].getBoundingClientRect().left)&&L<A;);L<A&&L--}for(E=o[A]=[],b=h?Math.min(L,A)*m-.5:a%L,R=L===Qr?0:h?A*v/L-.5:a/L|0,F=0,V=Qr,P=0;P<A;P++)D=P%L-b,N=R-(P/L|0),E[P]=U=p?Math.abs(p==="y"?N:D):AU(D*D+N*N),U>F&&(F=U),U<V&&(V=U);a==="random"&&XU(E),E.max=F-V,E.min=V,E.v=A=(parseFloat(e.amount)||parseFloat(e.each)*(L>A?A-1:p?p==="y"?A/L:L:Math.max(L,A/L))||0)*(a==="edges"?-1:1),E.b=A<0?s-A:s,E.u=Wa(e.amount||e.each)||0,n=n&&A<0?eL(n):n}return A=(E[_]-E.min)/E.max||0,Wi(E.b+(n?n(A):A)*E.v)+E.u}},PT=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var a=Wi(Math.round(parseFloat(n)/t)*t*e);return(a-a%1)/e+(Ou(n)?0:Wa(n))}},YU=function(t,e){var n=Ja(t),a,s;return!n&&Bl(t)&&(a=n=t.radius||Qr,t.values?(t=Jr(t.values),(s=!Ou(t[0]))&&(a*=a)):t=PT(t.increment)),ff(e,n?Ci(t)?function(o){return s=t(o),Math.abs(s-o)<=a?s:o}:function(o){for(var u=parseFloat(s?o.x:o),h=parseFloat(s?o.y:0),p=Qr,m=0,v=t.length,_,x;v--;)s?(_=t[v].x-u,x=t[v].y-h,_=_*_+x*x):_=Math.abs(t[v]-u),_<p&&(p=_,m=v);return m=!a||p<=a?t[m]:o,s||m===o||Ou(o)?m:m+Wa(o)}:PT(t))},jU=function(t,e,n,a){return ff(Ja(t)?!e:n===!0?!!(n=0):!a,function(){return Ja(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(a=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+n*.99))/n)*n*a)/a})},Ek=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(a){return e.reduce(function(s,o){return o(s)},a)}},Ak=function(t,e){return function(n){return t(parseFloat(n))+(e||Wa(n))}},wk=function(t,e,n){return ZU(t,e,0,1,n)},WU=function(t,e,n){return ff(n,function(a){return t[~~e(a)]})},Ck=function i(t,e,n){var a=e-t;return Ja(t)?WU(t,i(0,t.length),e):ff(n,function(s){return(a+(s-t)%a)%a+t})},Rk=function i(t,e,n){var a=e-t,s=a*2;return Ja(t)?WU(t,i(0,t.length-1),e):ff(n,function(o){return o=(s+(o-t)%s)%s||0,t+(o>a?s-o:o)})},$0=function(t){for(var e=0,n="",a,s,o,u;~(a=t.indexOf("random(",e));)o=t.indexOf(")",a),u=t.charAt(a+7)==="[",s=t.substr(a+7,o-a-7).match(u?DU:CT),n+=t.substr(e,a-e)+jU(u?s:+s[0],u?0:+s[1],+s[2]||1e-5),e=o+1;return n+t.substr(e,t.length-e)},ZU=function(t,e,n,a,s){var o=e-t,u=a-n;return ff(s,function(h){return n+((h-t)/o*u||0)})},Dk=function i(t,e,n,a){var s=isNaN(t+e)?0:function(x){return(1-x)*t+x*e};if(!s){var o=xa(t),u={},h,p,m,v,_;if(n===!0&&(a=1)&&(n=null),o)t={p:t},e={p:e};else if(Ja(t)&&!Ja(e)){for(m=[],v=t.length,_=v-2,p=1;p<v;p++)m.push(i(t[p-1],t[p]));v--,s=function(T){T*=v;var A=Math.min(_,~~T);return m[A](T-A)},n=e}else a||(t=om(Ja(t)?[]:{},t));if(!m){for(h in e)UA.call(u,t,h,"get",e[h]);s=function(T){return BA(T,u)||(o?t.p:t)}}}return ff(n,s)},BR=function(t,e,n){var a=t.labels,s=Qr,o,u,h;for(o in a)u=a[o]-e,u<0==!!n&&u&&s>(u=Math.abs(u))&&(h=o,s=u);return h},_r=function(t,e,n){var a=t.vars,s=a[e],o=ui,u=t._ctx,h,p,m;if(s)return h=a[e+"Params"],p=a.callbackScope||t,n&&Wc.length&&_1(),u&&(ui=u),m=h?s.apply(p,h):s.call(p),ui=o,m},o0=function(t){return $c(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Ua),t.progress()<1&&_r(t,"onInterrupt"),t},Pp,KU=[],QU=function(t){if(t)if(t=!t.name&&t.default||t,AA()||t.headless){var e=t.name,n=Ci(t),a=e&&!n&&t.init?function(){this._props=[]}:t,s={init:J0,render:BA,add:UA,kill:Yk,modifier:qk,rawVars:0},o={targetTest:0,get:0,getSetter:zA,aliases:{},register:0};if(cm(),t!==a){if(gr[e])return;Tr(a,Tr(x1(t,s),o)),om(a.prototype,om(s,x1(t,o))),gr[a.prop=e]=a,t.targetTest&&(gx.push(a),RA[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}UU(e,a),t.register&&t.register($s,a,Qs)}else KU.push(t)},Kn=255,l0={aqua:[0,Kn,Kn],lime:[0,Kn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Kn],navy:[0,0,128],white:[Kn,Kn,Kn],olive:[128,128,0],yellow:[Kn,Kn,0],orange:[Kn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Kn,0,0],pink:[Kn,192,203],cyan:[0,Kn,Kn],transparent:[Kn,Kn,Kn,0]},RM=function(t,e,n){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(n-e)*t*6:t<.5?n:t*3<2?e+(n-e)*(2/3-t)*6:e)*Kn+.5|0},JU=function(t,e,n){var a=t?Ou(t)?[t>>16,t>>8&Kn,t&Kn]:0:l0.black,s,o,u,h,p,m,v,_,x,T;if(!a){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),l0[t])a=l0[t];else if(t.charAt(0)==="#"){if(t.length<6&&(s=t.charAt(1),o=t.charAt(2),u=t.charAt(3),t="#"+s+s+o+o+u+u+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return a=parseInt(t.substr(1,6),16),[a>>16,a>>8&Kn,a&Kn,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),a=[t>>16,t>>8&Kn,t&Kn]}else if(t.substr(0,3)==="hsl"){if(a=T=t.match(CT),!e)h=+a[0]%360/360,p=+a[1]/100,m=+a[2]/100,o=m<=.5?m*(p+1):m+p-m*p,s=m*2-o,a.length>3&&(a[3]*=1),a[0]=RM(h+1/3,s,o),a[1]=RM(h,s,o),a[2]=RM(h-1/3,s,o);else if(~t.indexOf("="))return a=t.match(CU),n&&a.length<4&&(a[3]=1),a}else a=t.match(CT)||l0.transparent;a=a.map(Number)}return e&&!T&&(s=a[0]/Kn,o=a[1]/Kn,u=a[2]/Kn,v=Math.max(s,o,u),_=Math.min(s,o,u),m=(v+_)/2,v===_?h=p=0:(x=v-_,p=m>.5?x/(2-v-_):x/(v+_),h=v===s?(o-u)/x+(o<u?6:0):v===o?(u-s)/x+2:(s-o)/x+4,h*=60),a[0]=~~(h+.5),a[1]=~~(p*100+.5),a[2]=~~(m*100+.5)),n&&a.length<4&&(a[3]=1),a},$U=function(t){var e=[],n=[],a=-1;return t.split(Zc).forEach(function(s){var o=s.match(Lp)||[];e.push.apply(e,o),n.push(a+=o.length+1)}),e.c=n,e},IR=function(t,e,n){var a="",s=(t+a).match(Zc),o=e?"hsla(":"rgba(",u=0,h,p,m,v;if(!s)return t;if(s=s.map(function(_){return(_=JU(_,e,1))&&o+(e?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),n&&(m=$U(t),h=n.c,h.join(a)!==m.c.join(a)))for(p=t.replace(Zc,"1").split(Lp),v=p.length-1;u<v;u++)a+=p[u]+(~h.indexOf(u)?s.shift()||o+"0,0,0,0)":(m.length?m:s.length?s:n).shift());if(!p)for(p=t.split(Zc),v=p.length-1;u<v;u++)a+=p[u]+s[u];return a+p[v]},Zc=(function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in l0)i+="|"+t+"\\b";return new RegExp(i+")","gi")})(),Nk=/hsl[a]?\(/,tL=function(t){var e=t.join(" "),n;if(Zc.lastIndex=0,Zc.test(e))return n=Nk.test(e),t[1]=IR(t[1],n),t[0]=IR(t[0],n,$U(t[1])),!0},tv,vr=(function(){var i=Date.now,t=500,e=33,n=i(),a=n,s=1e3/240,o=s,u=[],h,p,m,v,_,x,T=function A(E){var b=i()-a,R=E===!0,D,N,U,P;if((b>t||b<0)&&(n+=b-e),a+=b,U=a-n,D=U-o,(D>0||R)&&(P=++v.frame,_=U-v.time*1e3,v.time=U=U/1e3,o+=D+(D>=s?4:s-D),N=1),R||(h=p(A)),N)for(x=0;x<u.length;x++)u[x](U,_,P,E)};return v={time:0,frame:0,tick:function(){T(!0)},deltaRatio:function(E){return _/(1e3/(E||60))},wake:function(){NU&&(!RT&&AA()&&(Tl=RT=window,wA=Tl.document||{},Mr.gsap=$s,(Tl.gsapVersions||(Tl.gsapVersions=[])).push($s.version),OU(y1||Tl.GreenSockGlobals||!Tl.gsap&&Tl||{}),KU.forEach(QU)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&v.sleep(),p=m||function(E){return setTimeout(E,o-v.time*1e3+1|0)},tv=1,T(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(h),tv=0,p=J0},lagSmoothing:function(E,b){t=E||1/0,e=Math.min(b||33,t)},fps:function(E){s=1e3/(E||240),o=v.time*1e3+s},add:function(E,b,R){var D=b?function(N,U,P,F){E(N,U,P,F),v.remove(D)}:E;return v.remove(E),u[R?"unshift":"push"](D),cm(),D},remove:function(E,b){~(b=u.indexOf(E))&&u.splice(b,1)&&x>=b&&x--},_listeners:u},v})(),cm=function(){return!tv&&vr.wake()},xn={},Ok=/^[\d.\-M][\d.\-,\s]/,Uk=/["']/g,Lk=function(t){for(var e={},n=t.substr(1,t.length-3).split(":"),a=n[0],s=1,o=n.length,u,h,p;s<o;s++)h=n[s],u=s!==o-1?h.lastIndexOf(","):h.length,p=h.substr(0,u),e[a]=isNaN(p)?p.replace(Uk,"").trim():+p,a=h.substr(u+1).trim();return e},Pk=function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),a=t.indexOf("(",e);return t.substring(e,~a&&a<n?t.indexOf(")",n+1):n)},zk=function(t){var e=(t+"").split("("),n=xn[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[Lk(e[1])]:Pk(t).split(",").map(BU)):xn._CE&&Ok.test(t)?xn._CE("",t):n},eL=function(t){return function(e){return 1-t(1-e)}},nL=function i(t,e){for(var n=t._first,a;n;)n instanceof Ms?i(n,e):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==e&&(n.timeline?i(n.timeline,e):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=e)),n=n._next},Vh=function(t,e){return t&&(Ci(t)?t:xn[t]||zk(t))||e},ed=function(t,e,n,a){n===void 0&&(n=function(h){return 1-e(1-h)}),a===void 0&&(a=function(h){return h<.5?e(h*2)/2:1-e((1-h)*2)/2});var s={easeIn:e,easeOut:n,easeInOut:a},o;return Ks(t,function(u){xn[u]=Mr[u]=s,xn[o=u.toLowerCase()]=n;for(var h in s)xn[o+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=xn[u+"."+h]=s[h]}),s},iL=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},DM=function i(t,e,n){var a=e>=1?e:1,s=(n||(t?.3:.45))/(e<1?e:1),o=s/wT*(Math.asin(1/a)||0),u=function(m){return m===1?1:a*Math.pow(2,-10*m)*ck((m-o)*s)+1},h=t==="out"?u:t==="in"?function(p){return 1-u(1-p)}:iL(u);return s=wT/s,h.config=function(p,m){return i(t,p,m)},h},NM=function i(t,e){e===void 0&&(e=1.70158);var n=function(o){return o?--o*o*((e+1)*o+e)+1:0},a=t==="out"?n:t==="in"?function(s){return 1-n(1-s)}:iL(n);return a.config=function(s){return i(t,s)},a};Ks("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,t){var e=t<5?t+1:t;ed(i+",Power"+(e-1),t?function(n){return Math.pow(n,e)}:function(n){return n},function(n){return 1-Math.pow(1-n,e)},function(n){return n<.5?Math.pow(n*2,e)/2:1-Math.pow((1-n)*2,e)/2})});xn.Linear.easeNone=xn.none=xn.Linear.easeIn;ed("Elastic",DM("in"),DM("out"),DM());(function(i,t){var e=1/t,n=2*e,a=2.5*e,s=function(u){return u<e?i*u*u:u<n?i*Math.pow(u-1.5/t,2)+.75:u<a?i*(u-=2.25/t)*u+.9375:i*Math.pow(u-2.625/t,2)+.984375};ed("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);ed("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});ed("Circ",function(i){return-(AU(1-i*i)-1)});ed("Sine",function(i){return i===1?1:-uk(i*ok)+1});ed("Back",NM("in"),NM("out"),NM());xn.SteppedEase=xn.steps=Mr.SteppedEase={config:function(t,e){t===void 0&&(t=1);var n=1/t,a=t+(e?0:1),s=e?1:0,o=1-Qn;return function(u){return((a*Ev(0,o,u)|0)+s)*n}}};rm.ease=xn["quad.out"];Ks("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return DA+=i+","+i+"Params,"});var aL=function(t,e){this.id=lk++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:PU,this.set=e?e.getSetter:zA},ev=(function(){function i(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,um(this,+e.duration,1,1),this.data=e.data,ui&&(this._ctx=ui,ui.data.push(this)),tv||vr.wake()}var t=i.prototype;return t.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},t.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},t.totalDuration=function(n){return arguments.length?(this._dirty=0,um(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(n,a){if(cm(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(_S(this,n),!s._dp||s.parent||VU(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Al(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Qn||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),zU(this,n,a)),this},t.time=function(n,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+PR(this))%(this._dur+this._rDelay)||(n?this._dur:0),a):this._time},t.totalProgress=function(n,a){return arguments.length?this.totalTime(this.totalDuration()*n,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(n,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+PR(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(n,a){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,a):this._repeat?lm(this._tTime,s)+1:1},t.timeScale=function(n,a){if(!arguments.length)return this._rts===-Qn?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?S1(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Qn?0:this._rts,this.totalTime(Ev(-Math.abs(this._delay),this.totalDuration(),s),a!==!1),yS(this),vk(this)},t.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(cm(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Qn&&(this._tTime-=Qn)))),this):this._ps},t.startTime=function(n){if(arguments.length){this._start=n;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Al(a,this,n-this._delay),this}return this._start},t.endTime=function(n){return this._start+(Zs(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(n){var a=this.parent||this._dp;return a?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?S1(a.rawTime(n),this):this._tTime:this._tTime},t.revert=function(n){n===void 0&&(n=dk);var a=Ua;return Ua=n,OA(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Ua=a,this},t.globalTime=function(n){for(var a=this,s=arguments.length?n:a.rawTime();a;)s=a._start+s/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},t.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,zR(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(n){if(arguments.length){var a=this._time;return this._rDelay=n,zR(this),a?this.time(a):this}return this._rDelay},t.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},t.seek=function(n,a){return this.totalTime(Wr(this,n),Zs(a))},t.restart=function(n,a){return this.play().totalTime(n?-this._delay:0,Zs(a)),this._dur||(this._zTime=-Qn),this},t.play=function(n,a){return n!=null&&this.seek(n,a),this.reversed(!1).paused(!1)},t.reverse=function(n,a){return n!=null&&this.seek(n||this.totalDuration(),a),this.reversed(!0).paused(!1)},t.pause=function(n,a){return n!=null&&this.seek(n,a),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Qn:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Qn,this},t.isActive=function(){var n=this.parent||this._dp,a=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=a&&s<this.endTime(!0)-Qn)},t.eventCallback=function(n,a,s){var o=this.vars;return arguments.length>1?(a?(o[n]=a,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=a)):delete o[n],this):o[n]},t.then=function(n){var a=this;return new Promise(function(s){var o=Ci(n)?n:IU,u=function(){var p=a.then;a.then=null,Ci(o)&&(o=o(a))&&(o.then||o===a)&&(a.then=p),s(o),a.then=p};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?u():a._prom=u})},t.kill=function(){o0(this)},i})();Tr(ev.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Qn,_prom:0,_ps:!1,_rts:1});var Ms=(function(i){EU(t,i);function t(n,a){var s;return n===void 0&&(n={}),s=i.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Zs(n.sortChildren),gi&&Al(n.parent||gi,xu(s),a),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&HU(xu(s),n.scrollTrigger),s}var e=t.prototype;return e.to=function(a,s,o){return M0(0,arguments,this),this},e.from=function(a,s,o){return M0(1,arguments,this),this},e.fromTo=function(a,s,o,u){return M0(2,arguments,this),this},e.set=function(a,s,o){return s.duration=0,s.parent=this,b0(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new ji(a,s,Wr(this,o),1),this},e.call=function(a,s,o){return Al(this,ji.delayedCall(0,a,s),o)},e.staggerTo=function(a,s,o,u,h,p,m){return o.duration=s,o.stagger=o.stagger||u,o.onComplete=p,o.onCompleteParams=m,o.parent=this,new ji(a,o,Wr(this,h)),this},e.staggerFrom=function(a,s,o,u,h,p,m){return o.runBackwards=1,b0(o).immediateRender=Zs(o.immediateRender),this.staggerTo(a,s,o,u,h,p,m)},e.staggerFromTo=function(a,s,o,u,h,p,m,v){return u.startAt=o,b0(u).immediateRender=Zs(u.immediateRender),this.staggerTo(a,s,u,h,p,m,v)},e.render=function(a,s,o){var u=this._time,h=this._dirty?this.totalDuration():this._tDur,p=this._dur,m=a<=0?0:Wi(a),v=this._zTime<0!=a<0&&(this._initted||!p),_,x,T,A,E,b,R,D,N,U,P,F;if(this!==gi&&m>h&&a>=0&&(m=h),m!==this._tTime||o||v){if(u!==this._time&&p&&(m+=this._time-u,a+=this._time-u),_=m,N=this._start,D=this._ts,b=!D,v&&(p||(u=this._zTime),(a||!s)&&(this._zTime=a)),this._repeat){if(P=this._yoyo,E=p+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(E*100+a,s,o);if(_=Wi(m%E),m===h?(A=this._repeat,_=p):(U=Wi(m/E),A=~~U,A&&A===U&&(_=p,A--),_>p&&(_=p)),U=lm(this._tTime,E),!u&&this._tTime&&U!==A&&this._tTime-U*E-this._dur<=0&&(U=A),P&&A&1&&(_=p-_,F=1),A!==U&&!this._lock){var V=P&&U&1,L=V===(P&&A&1);if(A<U&&(V=!V),u=V?0:m%p?p:m,this._lock=1,this.render(u||(F?0:Wi(A*E)),s,!p)._lock=0,this._tTime=m,!s&&this.parent&&_r(this,"onRepeat"),this.vars.repeatRefresh&&!F&&(this.invalidate()._lock=1),u&&u!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,h=this._tDur,L&&(this._lock=2,u=V?p:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!F&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;nL(this,F)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(R=Sk(this,Wi(u),Wi(_)),R&&(m-=_-(_=R._start))),this._tTime=m,this._time=_,this._act=!D,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,u=0),!u&&m&&!s&&!U&&(_r(this,"onStart"),this._tTime!==m))return this;if(_>=u&&a>=0)for(x=this._first;x;){if(T=x._next,(x._act||_>=x._start)&&x._ts&&R!==x){if(x.parent!==this)return this.render(a,s,o);if(x.render(x._ts>0?(_-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(_-x._start)*x._ts,s,o),_!==this._time||!this._ts&&!b){R=0,T&&(m+=this._zTime=-Qn);break}}x=T}else{x=this._last;for(var B=a<0?a:_;x;){if(T=x._prev,(x._act||B<=x._end)&&x._ts&&R!==x){if(x.parent!==this)return this.render(a,s,o);if(x.render(x._ts>0?(B-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(B-x._start)*x._ts,s,o||Ua&&OA(x)),_!==this._time||!this._ts&&!b){R=0,T&&(m+=this._zTime=B?-Qn:Qn);break}}x=T}}if(R&&!s&&(this.pause(),R.render(_>=u?0:-Qn)._zTime=_>=u?1:-1,this._ts))return this._start=N,yS(this),this.render(a,s,o);this._onUpdate&&!s&&_r(this,"onUpdate",!0),(m===h&&this._tTime>=this.totalDuration()||!m&&u)&&(N===this._start||Math.abs(D)!==Math.abs(this._ts))&&(this._lock||((a||!p)&&(m===h&&this._ts>0||!m&&this._ts<0)&&$c(this,1),!s&&!(a<0&&!u)&&(m||u||!h)&&(_r(this,m===h&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<h&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(a,s){var o=this;if(Ou(s)||(s=Wr(this,s,a)),!(a instanceof ev)){if(Ja(a))return a.forEach(function(u){return o.add(u,s)}),this;if(xa(a))return this.addLabel(a,s);if(Ci(a))a=ji.delayedCall(0,a);else return this}return this!==a?Al(this,a,s):this},e.getChildren=function(a,s,o,u){a===void 0&&(a=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),u===void 0&&(u=-Qr);for(var h=[],p=this._first;p;)p._start>=u&&(p instanceof ji?s&&h.push(p):(o&&h.push(p),a&&h.push.apply(h,p.getChildren(!0,s,o)))),p=p._next;return h},e.getById=function(a){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===a)return s[o]},e.remove=function(a){return xa(a)?this.removeLabel(a):Ci(a)?this.killTweensOf(a):(a.parent===this&&vS(this,a),a===this._recent&&(this._recent=this._last),Fh(this))},e.totalTime=function(a,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Wi(vr.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),i.prototype.totalTime.call(this,a,s),this._forcing=0,this):this._tTime},e.addLabel=function(a,s){return this.labels[a]=Wr(this,s),this},e.removeLabel=function(a){return delete this.labels[a],this},e.addPause=function(a,s,o){var u=ji.delayedCall(0,s||J0,o);return u.data="isPause",this._hasPause=1,Al(this,u,Wr(this,a))},e.removePause=function(a){var s=this._first;for(a=Wr(this,a);s;)s._start===a&&s.data==="isPause"&&$c(s),s=s._next},e.killTweensOf=function(a,s,o){for(var u=this.getTweensOf(a,o),h=u.length;h--;)qc!==u[h]&&u[h].kill(a,s);return this},e.getTweensOf=function(a,s){for(var o=[],u=Jr(a),h=this._first,p=Ou(s),m;h;)h instanceof ji?pk(h._targets,u)&&(p?(!qc||h._initted&&h._ts)&&h.globalTime(0)<=s&&h.globalTime(h.totalDuration())>s:!s||h.isActive())&&o.push(h):(m=h.getTweensOf(u,s)).length&&o.push.apply(o,m),h=h._next;return o},e.tweenTo=function(a,s){s=s||{};var o=this,u=Wr(o,a),h=s,p=h.startAt,m=h.onStart,v=h.onStartParams,_=h.immediateRender,x,T=ji.to(o,Tr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:s.duration||Math.abs((u-(p&&"time"in p?p.time:o._time))/o.timeScale())||Qn,onStart:function(){if(o.pause(),!x){var E=s.duration||Math.abs((u-(p&&"time"in p?p.time:o._time))/o.timeScale());T._dur!==E&&um(T,E,0,1).render(T._time,!0,!0),x=1}m&&m.apply(T,v||[])}},s));return _?T.render(0):T},e.tweenFromTo=function(a,s,o){return this.tweenTo(s,Tr({startAt:{time:Wr(this,a)}},o))},e.recent=function(){return this._recent},e.nextLabel=function(a){return a===void 0&&(a=this._time),BR(this,Wr(this,a))},e.previousLabel=function(a){return a===void 0&&(a=this._time),BR(this,Wr(this,a),1)},e.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Qn)},e.shiftChildren=function(a,s,o){o===void 0&&(o=0);for(var u=this._first,h=this.labels,p;u;)u._start>=o&&(u._start+=a,u._end+=a),u=u._next;if(s)for(p in h)h[p]>=o&&(h[p]+=a);return Fh(this)},e.invalidate=function(a){var s=this._first;for(this._lock=0;s;)s.invalidate(a),s=s._next;return i.prototype.invalidate.call(this,a)},e.clear=function(a){a===void 0&&(a=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Fh(this)},e.totalDuration=function(a){var s=0,o=this,u=o._last,h=Qr,p,m,v;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-a:a));if(o._dirty){for(v=o.parent;u;)p=u._prev,u._dirty&&u.totalDuration(),m=u._start,m>h&&o._sort&&u._ts&&!o._lock?(o._lock=1,Al(o,u,m-u._delay,1)._lock=0):h=m,m<0&&u._ts&&(s-=m,(!v&&!o._dp||v&&v.smoothChildTiming)&&(o._start+=m/o._ts,o._time-=m,o._tTime-=m),o.shiftChildren(-m,!1,-1/0),h=0),u._end>s&&u._ts&&(s=u._end),u=p;um(o,o===gi&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(a){if(gi._ts&&(zU(gi,S1(a,gi)),LU=vr.frame),vr.frame>=UR){UR+=Sr.autoSleep||120;var s=gi._first;if((!s||!s._ts)&&Sr.autoSleep&&vr._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||vr.sleep()}}},t})(ev);Tr(Ms.prototype,{_lock:0,_hasPause:0,_forcing:0});var Bk=function(t,e,n,a,s,o,u){var h=new Qs(this._pt,t,e,0,1,cL,null,s),p=0,m=0,v,_,x,T,A,E,b,R;for(h.b=n,h.e=a,n+="",a+="",(b=~a.indexOf("random("))&&(a=$0(a)),o&&(R=[n,a],o(R,t,e),n=R[0],a=R[1]),_=n.match(wM)||[];v=wM.exec(a);)T=v[0],A=a.substring(p,v.index),x?x=(x+1)%5:A.substr(-5)==="rgba("&&(x=1),T!==_[m++]&&(E=parseFloat(_[m-1])||0,h._pt={_next:h._pt,p:A||m===1?A:",",s:E,c:T.charAt(1)==="="?Xp(E,T)-E:parseFloat(T)-E,m:x&&x<4?Math.round:0},p=wM.lastIndex);return h.c=p<a.length?a.substring(p,a.length):"",h.fp=u,(RU.test(a)||b)&&(h.e=0),this._pt=h,h},UA=function(t,e,n,a,s,o,u,h,p,m){Ci(a)&&(a=a(s||0,t,o));var v=t[e],_=n!=="get"?n:Ci(v)?p?t[e.indexOf("set")||!Ci(t["get"+e.substr(3)])?e:"get"+e.substr(3)](p):t[e]():v,x=Ci(v)?p?Gk:lL:PA,T;if(xa(a)&&(~a.indexOf("random(")&&(a=$0(a)),a.charAt(1)==="="&&(T=Xp(_,a)+(Wa(_)||0),(T||T===0)&&(a=T))),!m||_!==a||zT)return!isNaN(_*a)&&a!==""?(T=new Qs(this._pt,t,e,+_||0,a-(_||0),typeof v=="boolean"?Xk:uL,0,x),p&&(T.fp=p),u&&T.modifier(u,this,t),this._pt=T):(!v&&!(e in t)&&CA(e,a),Bk.call(this,t,e,_,a,x,h||Sr.stringFilter,p))},Ik=function(t,e,n,a,s){if(Ci(t)&&(t=T0(t,s,e,n,a)),!Bl(t)||t.style&&t.nodeType||Ja(t)||wU(t))return xa(t)?T0(t,s,e,n,a):t;var o={},u;for(u in t)o[u]=T0(t[u],s,e,n,a);return o},sL=function(t,e,n,a,s,o){var u,h,p,m;if(gr[t]&&(u=new gr[t]).init(s,u.rawVars?e[t]:Ik(e[t],a,s,o,n),n,a,o)!==!1&&(n._pt=h=new Qs(n._pt,s,t,0,1,u.render,u,0,u.priority),n!==Pp))for(p=n._ptLookup[n._targets.indexOf(s)],m=u._props.length;m--;)p[u._props[m]]=h;return u},qc,zT,LA=function i(t,e,n){var a=t.vars,s=a.ease,o=a.startAt,u=a.immediateRender,h=a.lazy,p=a.onUpdate,m=a.runBackwards,v=a.yoyoEase,_=a.keyframes,x=a.autoRevert,T=t._dur,A=t._startAt,E=t._targets,b=t.parent,R=b&&b.data==="nested"?b.vars.targets:E,D=t._overwrite==="auto"&&!TA,N=t.timeline,U,P,F,V,L,B,W,$,it,ct,ut,z,q;if(N&&(!_||!s)&&(s="none"),t._ease=Vh(s,rm.ease),t._yEase=v?eL(Vh(v===!0?s:v,rm.ease)):0,v&&t._yoyo&&!t._repeat&&(v=t._yEase,t._yEase=t._ease,t._ease=v),t._from=!N&&!!a.runBackwards,!N||_&&!a.stagger){if($=E[0]?Ih(E[0]).harness:0,z=$&&a[$.prop],U=x1(a,RA),A&&(A._zTime<0&&A.progress(1),e<0&&m&&u&&!x?A.render(-1,!0):A.revert(m&&T?mx:hk),A._lazy=0),o){if($c(t._startAt=ji.set(E,Tr({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!A&&Zs(h),startAt:null,delay:0,onUpdate:p&&function(){return _r(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(Ua||!u&&!x)&&t._startAt.revert(mx),u&&T&&e<=0&&n<=0){e&&(t._zTime=e);return}}else if(m&&T&&!A){if(e&&(u=!1),F=Tr({overwrite:!1,data:"isFromStart",lazy:u&&!A&&Zs(h),immediateRender:u,stagger:0,parent:b},U),z&&(F[$.prop]=z),$c(t._startAt=ji.set(E,F)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(Ua?t._startAt.revert(mx):t._startAt.render(-1,!0)),t._zTime=e,!u)i(t._startAt,Qn,Qn);else if(!e)return}for(t._pt=t._ptCache=0,h=T&&Zs(h)||h&&!T,P=0;P<E.length;P++){if(L=E[P],W=L._gsap||NA(E)[P]._gsap,t._ptLookup[P]=ct={},DT[W.id]&&Wc.length&&_1(),ut=R===E?P:R.indexOf(L),$&&(it=new $).init(L,z||U,t,ut,R)!==!1&&(t._pt=V=new Qs(t._pt,L,it.name,0,1,it.render,it,0,it.priority),it._props.forEach(function(j){ct[j]=V}),it.priority&&(B=1)),!$||z)for(F in U)gr[F]&&(it=sL(F,U,t,ut,L,R))?it.priority&&(B=1):ct[F]=V=UA.call(t,L,F,"get",U[F],ut,R,0,a.stringFilter);t._op&&t._op[P]&&t.kill(L,t._op[P]),D&&t._pt&&(qc=t,gi.killTweensOf(L,ct,t.globalTime(e)),q=!t.parent,qc=0),t._pt&&h&&(DT[W.id]=1)}B&&fL(t),t._onInit&&t._onInit(t)}t._onUpdate=p,t._initted=(!t._op||t._pt)&&!q,_&&e<=0&&N.render(Qr,!0,!0)},Fk=function(t,e,n,a,s,o,u,h){var p=(t._pt&&t._ptCache||(t._ptCache={}))[e],m,v,_,x;if(!p)for(p=t._ptCache[e]=[],_=t._ptLookup,x=t._targets.length;x--;){if(m=_[x][e],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==e&&m.fp!==e;)m=m._next;if(!m)return zT=1,t.vars[e]="+=0",LA(t,u),zT=0,h?Q0(e+" not eligible for reset"):1;p.push(m)}for(x=p.length;x--;)v=p[x],m=v._pt||v,m.s=(a||a===0)&&!s?a:m.s+(a||0)+o*m.c,m.c=n-m.s,v.e&&(v.e=Fi(n)+Wa(v.e)),v.b&&(v.b=m.s+Wa(v.b))},Vk=function(t,e){var n=t[0]?Ih(t[0]).harness:0,a=n&&n.aliases,s,o,u,h;if(!a)return e;s=om({},e);for(o in a)if(o in s)for(h=a[o].split(","),u=h.length;u--;)s[h[u]]=s[o];return s},Hk=function(t,e,n,a){var s=e.ease||a||"power1.inOut",o,u;if(Ja(e))u=n[t]||(n[t]=[]),e.forEach(function(h,p){return u.push({t:p/(e.length-1)*100,v:h,e:s})});else for(o in e)u=n[o]||(n[o]=[]),o==="ease"||u.push({t:parseFloat(t),v:e[o],e:s})},T0=function(t,e,n,a,s){return Ci(t)?t.call(e,n,a,s):xa(t)&&~t.indexOf("random(")?$0(t):t},rL=DA+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",oL={};Ks(rL+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return oL[i]=1});var ji=(function(i){EU(t,i);function t(n,a,s,o){var u;typeof a=="number"&&(s.duration=a,a=s,s=null),u=i.call(this,o?a:b0(a))||this;var h=u.vars,p=h.duration,m=h.delay,v=h.immediateRender,_=h.stagger,x=h.overwrite,T=h.keyframes,A=h.defaults,E=h.scrollTrigger,b=h.yoyoEase,R=a.parent||gi,D=(Ja(n)||wU(n)?Ou(n[0]):"length"in a)?[n]:Jr(n),N,U,P,F,V,L,B,W;if(u._targets=D.length?NA(D):Q0("GSAP target "+n+" not found. https://gsap.com",!Sr.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=x,T||_||ex(p)||ex(m)){if(a=u.vars,N=u.timeline=new Ms({data:"nested",defaults:A||{},targets:R&&R.data==="nested"?R.vars.targets:D}),N.kill(),N.parent=N._dp=xu(u),N._start=0,_||ex(p)||ex(m)){if(F=D.length,B=_&&qU(_),Bl(_))for(V in _)~rL.indexOf(V)&&(W||(W={}),W[V]=_[V]);for(U=0;U<F;U++)P=x1(a,oL),P.stagger=0,b&&(P.yoyoEase=b),W&&om(P,W),L=D[U],P.duration=+T0(p,xu(u),U,L,D),P.delay=(+T0(m,xu(u),U,L,D)||0)-u._delay,!_&&F===1&&P.delay&&(u._delay=m=P.delay,u._start+=m,P.delay=0),N.to(L,P,B?B(U,L,D):0),N._ease=xn.none;N.duration()?p=m=0:u.timeline=0}else if(T){b0(Tr(N.vars.defaults,{ease:"none"})),N._ease=Vh(T.ease||a.ease||"none");var $=0,it,ct,ut;if(Ja(T))T.forEach(function(z){return N.to(D,z,">")}),N.duration();else{P={};for(V in T)V==="ease"||V==="easeEach"||Hk(V,T[V],P,T.easeEach);for(V in P)for(it=P[V].sort(function(z,q){return z.t-q.t}),$=0,U=0;U<it.length;U++)ct=it[U],ut={ease:ct.e,duration:(ct.t-(U?it[U-1].t:0))/100*p},ut[V]=ct.v,N.to(D,ut,$),$+=ut.duration;N.duration()<p&&N.to({},{duration:p-N.duration()})}}p||u.duration(p=N.duration())}else u.timeline=0;return x===!0&&!TA&&(qc=xu(u),gi.killTweensOf(D),qc=0),Al(R,xu(u),s),a.reversed&&u.reverse(),a.paused&&u.paused(!0),(v||!p&&!T&&u._start===Wi(R._time)&&Zs(v)&&yk(xu(u))&&R.data!=="nested")&&(u._tTime=-Qn,u.render(Math.max(0,-m)||0)),E&&HU(xu(u),E),u}var e=t.prototype;return e.render=function(a,s,o){var u=this._time,h=this._tDur,p=this._dur,m=a<0,v=a>h-Qn&&!m?h:a<Qn?0:a,_,x,T,A,E,b,R,D,N;if(!p)xk(this,a,s,o);else if(v!==this._tTime||!a||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(_=v,D=this.timeline,this._repeat){if(A=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(A*100+a,s,o);if(_=Wi(v%A),v===h?(T=this._repeat,_=p):(E=Wi(v/A),T=~~E,T&&T===E?(_=p,T--):_>p&&(_=p)),b=this._yoyo&&T&1,b&&(N=this._yEase,_=p-_),E=lm(this._tTime,A),_===u&&!o&&this._initted&&T===E)return this._tTime=v,this;T!==E&&(D&&this._yEase&&nL(D,b),this.vars.repeatRefresh&&!b&&!this._lock&&_!==A&&this._initted&&(this._lock=o=1,this.render(Wi(A*T),!0).invalidate()._lock=0))}if(!this._initted){if(GU(this,m?a:_,o,s,v))return this._tTime=0,this;if(u!==this._time&&!(o&&this.vars.repeatRefresh&&T!==E))return this;if(p!==this._dur)return this.render(a,s,o)}if(this._tTime=v,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=R=(N||this._ease)(_/p),this._from&&(this.ratio=R=1-R),!u&&v&&!s&&!E&&(_r(this,"onStart"),this._tTime!==v))return this;for(x=this._pt;x;)x.r(R,x.d),x=x._next;D&&D.render(a<0?a:D._dur*D._ease(_/this._dur),s,o)||this._startAt&&(this._zTime=a),this._onUpdate&&!s&&(m&&NT(this,a,s,o),_r(this,"onUpdate")),this._repeat&&T!==E&&this.vars.onRepeat&&!s&&this.parent&&_r(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(m&&!this._onUpdate&&NT(this,a,!0,!0),(a||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&$c(this,1),!s&&!(m&&!u)&&(v||u||b)&&(_r(this,v===h?"onComplete":"onReverseComplete",!0),this._prom&&!(v<h&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),i.prototype.invalidate.call(this,a)},e.resetTo=function(a,s,o,u,h){tv||vr.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||LA(this,p),m=this._ease(p/this._dur),Fk(this,a,s,o,u,m,p,h)?this.resetTo(a,s,o,u,1):(_S(this,0),this.parent||FU(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(a,s){if(s===void 0&&(s="all"),!a&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?o0(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ua),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(a,s,qc&&qc.vars.overwrite!==!0)._first||o0(this),this.parent&&o!==this.timeline.totalDuration()&&um(this,this._dur*this.timeline._tDur/o,0,1),this}var u=this._targets,h=a?Jr(a):u,p=this._ptLookup,m=this._pt,v,_,x,T,A,E,b;if((!s||s==="all")&&gk(u,h))return s==="all"&&(this._pt=0),o0(this);for(v=this._op=this._op||[],s!=="all"&&(xa(s)&&(A={},Ks(s,function(R){return A[R]=1}),s=A),s=Vk(u,s)),b=u.length;b--;)if(~h.indexOf(u[b])){_=p[b],s==="all"?(v[b]=s,T=_,x={}):(x=v[b]=v[b]||{},T=s);for(A in T)E=_&&_[A],E&&((!("kill"in E.d)||E.d.kill(A)===!0)&&vS(this,E,"_pt"),delete _[A]),x!=="all"&&(x[A]=1)}return this._initted&&!this._pt&&m&&o0(this),this},t.to=function(a,s){return new t(a,s,arguments[2])},t.from=function(a,s){return M0(1,arguments)},t.delayedCall=function(a,s,o,u){return new t(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:u})},t.fromTo=function(a,s,o){return M0(2,arguments)},t.set=function(a,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new t(a,s)},t.killTweensOf=function(a,s,o){return gi.killTweensOf(a,s,o)},t})(ev);Tr(ji.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ks("staggerTo,staggerFrom,staggerFromTo",function(i){ji[i]=function(){var t=new Ms,e=UT.call(arguments,0);return e.splice(i==="staggerFromTo"?5:4,0,0),t[i].apply(t,e)}});var PA=function(t,e,n){return t[e]=n},lL=function(t,e,n){return t[e](n)},Gk=function(t,e,n,a){return t[e](a.fp,n)},kk=function(t,e,n){return t.setAttribute(e,n)},zA=function(t,e){return Ci(t[e])?lL:EA(t[e])&&t.setAttribute?kk:PA},uL=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},Xk=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},cL=function(t,e){var n=e._pt,a="";if(!t&&e.b)a=e.b;else if(t===1&&e.e)a=e.e;else{for(;n;)a=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+a,n=n._next;a+=e.c}e.set(e.t,e.p,a,e)},BA=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},qk=function(t,e,n,a){for(var s=this._pt,o;s;)o=s._next,s.p===a&&s.modifier(t,e,n),s=o},Yk=function(t){for(var e=this._pt,n,a;e;)a=e._next,e.p===t&&!e.op||e.op===t?vS(this,e,"_pt"):e.dep||(n=1),e=a;return!n},jk=function(t,e,n,a){a.mSet(t,e,a.m.call(a.tween,n,a.mt),a)},fL=function(t){for(var e=t._pt,n,a,s,o;e;){for(n=e._next,a=s;a&&a.pr>e.pr;)a=a._next;(e._prev=a?a._prev:o)?e._prev._next=e:s=e,(e._next=a)?a._prev=e:o=e,e=n}t._pt=s},Qs=(function(){function i(e,n,a,s,o,u,h,p,m){this.t=n,this.s=s,this.c=o,this.p=a,this.r=u||uL,this.d=h||this,this.set=p||PA,this.pr=m||0,this._next=e,e&&(e._prev=this)}var t=i.prototype;return t.modifier=function(n,a,s){this.mSet=this.mSet||this.set,this.set=jk,this.m=n,this.mt=s,this.tween=a},i})();Ks(DA+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return RA[i]=1});Mr.TweenMax=Mr.TweenLite=ji;Mr.TimelineLite=Mr.TimelineMax=Ms;gi=new Ms({sortChildren:!1,defaults:rm,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Sr.stringFilter=tL;var Hh=[],vx={},Wk=[],FR=0,Zk=0,OM=function(t){return(vx[t]||Wk).map(function(e){return e()})},BT=function(){var t=Date.now(),e=[];t-FR>2&&(OM("matchMediaInit"),Hh.forEach(function(n){var a=n.queries,s=n.conditions,o,u,h,p;for(u in a)o=Tl.matchMedia(a[u]).matches,o&&(h=1),o!==s[u]&&(s[u]=o,p=1);p&&(n.revert(),h&&e.push(n))}),OM("matchMediaRevert"),e.forEach(function(n){return n.onMatch(n,function(a){return n.add(null,a)})}),FR=t,OM("matchMedia"))},hL=(function(){function i(e,n){this.selector=n&&LT(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Zk++,e&&this.add(e)}var t=i.prototype;return t.add=function(n,a,s){Ci(n)&&(s=a,a=n,n=Ci);var o=this,u=function(){var p=ui,m=o.selector,v;return p&&p!==o&&p.data.push(o),s&&(o.selector=LT(s)),ui=o,v=a.apply(o,arguments),Ci(v)&&o._r.push(v),ui=p,o.selector=m,o.isReverted=!1,v};return o.last=u,n===Ci?u(o,function(h){return o.add(null,h)}):n?o[n]=u:u},t.ignore=function(n){var a=ui;ui=null,n(this),ui=a},t.getTweens=function(){var n=[];return this.data.forEach(function(a){return a instanceof i?n.push.apply(n,a.getTweens()):a instanceof ji&&!(a.parent&&a.parent.data==="nested")&&n.push(a)}),n},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(n,a){var s=this;if(n?(function(){for(var u=s.getTweens(),h=s.data.length,p;h--;)p=s.data[h],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(m){return u.splice(u.indexOf(m),1)}));for(u.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,v){return v.g-m.g||-1/0}).forEach(function(m){return m.t.revert(n)}),h=s.data.length;h--;)p=s.data[h],p instanceof Ms?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof ji)&&p.revert&&p.revert(n);s._r.forEach(function(m){return m(n,s)}),s.isReverted=!0})():this.data.forEach(function(u){return u.kill&&u.kill()}),this.clear(),a)for(var o=Hh.length;o--;)Hh[o].id===this.id&&Hh.splice(o,1)},t.revert=function(n){this.kill(n||{})},i})(),Kk=(function(){function i(e){this.contexts=[],this.scope=e,ui&&ui.data.push(this)}var t=i.prototype;return t.add=function(n,a,s){Bl(n)||(n={matches:n});var o=new hL(0,s||this.scope),u=o.conditions={},h,p,m;ui&&!o.selector&&(o.selector=ui.selector),this.contexts.push(o),a=o.add("onMatch",a),o.queries=n;for(p in n)p==="all"?m=1:(h=Tl.matchMedia(n[p]),h&&(Hh.indexOf(o)<0&&Hh.push(o),(u[p]=h.matches)&&(m=1),h.addListener?h.addListener(BT):h.addEventListener("change",BT)));return m&&a(o,function(v){return o.add(null,v)}),this},t.revert=function(n){this.kill(n||{})},t.kill=function(n){this.contexts.forEach(function(a){return a.kill(n,!0)})},i})(),b1={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(a){return QU(a)})},timeline:function(t){return new Ms(t)},getTweensOf:function(t,e){return gi.getTweensOf(t,e)},getProperty:function(t,e,n,a){xa(t)&&(t=Jr(t)[0]);var s=Ih(t||{}).get,o=n?IU:BU;return n==="native"&&(n=""),t&&(e?o((gr[e]&&gr[e].get||s)(t,e,n,a)):function(u,h,p){return o((gr[u]&&gr[u].get||s)(t,u,h,p))})},quickSetter:function(t,e,n){if(t=Jr(t),t.length>1){var a=t.map(function(m){return $s.quickSetter(m,e,n)}),s=a.length;return function(m){for(var v=s;v--;)a[v](m)}}t=t[0]||{};var o=gr[e],u=Ih(t),h=u.harness&&(u.harness.aliases||{})[e]||e,p=o?function(m){var v=new o;Pp._pt=0,v.init(t,n?m+n:m,Pp,0,[t]),v.render(1,v),Pp._pt&&BA(1,Pp)}:u.set(t,h);return o?p:function(m){return p(t,h,n?m+n:m,u,1)}},quickTo:function(t,e,n){var a,s=$s.to(t,Tr((a={},a[e]="+=0.1",a.paused=!0,a.stagger=0,a),n||{})),o=function(h,p,m){return s.resetTo(e,h,p,m)};return o.tween=s,o},isTweening:function(t){return gi.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Vh(t.ease,rm.ease)),LR(rm,t||{})},config:function(t){return LR(Sr,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,a=t.plugins,s=t.defaults,o=t.extendTimeline;(a||"").split(",").forEach(function(u){return u&&!gr[u]&&!Mr[u]&&Q0(e+" effect requires "+u+" plugin.")}),CM[e]=function(u,h,p){return n(Jr(u),Tr(h||{},s),p)},o&&(Ms.prototype[e]=function(u,h,p){return this.add(CM[e](u,Bl(h)?h:(p=h)&&{},this),p)})},registerEase:function(t,e){xn[t]=Vh(e)},parseEase:function(t,e){return arguments.length?Vh(t,e):xn},getById:function(t){return gi.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var n=new Ms(t),a,s;for(n.smoothChildTiming=Zs(t.smoothChildTiming),gi.remove(n),n._dp=0,n._time=n._tTime=gi._time,a=gi._first;a;)s=a._next,(e||!(!a._dur&&a instanceof ji&&a.vars.onComplete===a._targets[0]))&&Al(n,a,a._start-a._delay),a=s;return Al(gi,n,0),n},context:function(t,e){return t?new hL(t,e):ui},matchMedia:function(t){return new Kk(t)},matchMediaRefresh:function(){return Hh.forEach(function(t){var e=t.conditions,n,a;for(a in e)e[a]&&(e[a]=!1,n=1);n&&t.revert()})||BT()},addEventListener:function(t,e){var n=vx[t]||(vx[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=vx[t],a=n&&n.indexOf(e);a>=0&&n.splice(a,1)},utils:{wrap:Ck,wrapYoyo:Rk,distribute:qU,random:jU,snap:YU,normalize:wk,getUnit:Wa,clamp:Mk,splitColor:JU,toArray:Jr,selector:LT,mapRange:ZU,pipe:Ek,unitize:Ak,interpolate:Dk,shuffle:XU},install:OU,effects:CM,ticker:vr,updateRoot:Ms.updateRoot,plugins:gr,globalTimeline:gi,core:{PropTween:Qs,globals:UU,Tween:ji,Timeline:Ms,Animation:ev,getCache:Ih,_removeLinkedListItem:vS,reverting:function(){return Ua},context:function(t){return t&&ui&&(ui.data.push(t),t._ctx=ui),ui},suppressOverwrites:function(t){return TA=t}}};Ks("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return b1[i]=ji[i]});vr.add(Ms.updateRoot);Pp=b1.to({},{duration:0});var Qk=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},Jk=function(t,e){var n=t._targets,a,s,o;for(a in e)for(s=n.length;s--;)o=t._ptLookup[s][a],o&&(o=o.d)&&(o._pt&&(o=Qk(o,a)),o&&o.modifier&&o.modifier(e[a],t,n[s],a))},UM=function(t,e){return{name:t,headless:1,rawVars:1,init:function(a,s,o){o._onInit=function(u){var h,p;if(xa(s)&&(h={},Ks(s,function(m){return h[m]=1}),s=h),e){h={};for(p in s)h[p]=e(s[p]);s=h}Jk(u,s)}}}},$s=b1.registerPlugin({name:"attr",init:function(t,e,n,a,s){var o,u,h;this.tween=n;for(o in e)h=t.getAttribute(o)||"",u=this.add(t,"setAttribute",(h||0)+"",e[o],a,s,0,0,o),u.op=o,u.b=h,this._props.push(o)},render:function(t,e){for(var n=e._pt;n;)Ua?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},UM("roundProps",PT),UM("modifiers"),UM("snap",YU))||b1;ji.version=Ms.version=$s.version="3.13.0";NU=1;AA()&&cm();xn.Power0;xn.Power1;xn.Power2;xn.Power3;xn.Power4;xn.Linear;xn.Quad;xn.Cubic;xn.Quart;xn.Quint;xn.Strong;xn.Elastic;xn.Back;xn.SteppedEase;xn.Bounce;xn.Sine;xn.Expo;xn.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var VR,Yc,qp,IA,Nh,HR,FA,$k=function(){return typeof window<"u"},Uu={},Th=180/Math.PI,Yp=Math.PI/180,wp=Math.atan2,GR=1e8,VA=/([A-Z])/g,tX=/(left|right|width|margin|padding|x)/i,eX=/[\s,\(]\S/,Rl={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},IT=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},nX=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},iX=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},aX=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},dL=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},pL=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},sX=function(t,e,n){return t.style[e]=n},rX=function(t,e,n){return t.style.setProperty(e,n)},oX=function(t,e,n){return t._gsap[e]=n},lX=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},uX=function(t,e,n,a,s){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},cX=function(t,e,n,a,s){var o=t._gsap;o[e]=n,o.renderTransform(s,o)},yi="transform",Js=yi+"Origin",fX=function i(t,e){var n=this,a=this.target,s=a.style,o=a._gsap;if(t in Uu&&s){if(this.tfm=this.tfm||{},t!=="transform")t=Rl[t]||t,~t.indexOf(",")?t.split(",").forEach(function(u){return n.tfm[u]=Su(a,u)}):this.tfm[t]=o.x?o[t]:Su(a,t),t===Js&&(this.tfm.zOrigin=o.zOrigin);else return Rl.transform.split(",").forEach(function(u){return i.call(n,u,e)});if(this.props.indexOf(yi)>=0)return;o.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(Js,e,"")),t=yi}(s||e)&&this.props.push(t,e,s[t])},mL=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},hX=function(){var t=this.props,e=this.target,n=e.style,a=e._gsap,s,o;for(s=0;s<t.length;s+=3)t[s+1]?t[s+1]===2?e[t[s]](t[s+2]):e[t[s]]=t[s+2]:t[s+2]?n[t[s]]=t[s+2]:n.removeProperty(t[s].substr(0,2)==="--"?t[s]:t[s].replace(VA,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)a[o]=this.tfm[o];a.svg&&(a.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),s=FA(),(!s||!s.isStart)&&!n[yi]&&(mL(n),a.zOrigin&&n[Js]&&(n[Js]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},gL=function(t,e){var n={target:t,props:[],revert:hX,save:fX};return t._gsap||$s.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(a){return n.save(a)}),n},vL,FT=function(t,e){var n=Yc.createElementNS?Yc.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Yc.createElement(t);return n&&n.style?n:Yc.createElement(t)},$r=function i(t,e,n){var a=getComputedStyle(t);return a[e]||a.getPropertyValue(e.replace(VA,"-$1").toLowerCase())||a.getPropertyValue(e)||!n&&i(t,fm(e)||e,1)||""},kR="O,Moz,ms,Ms,Webkit".split(","),fm=function(t,e,n){var a=e||Nh,s=a.style,o=5;if(t in s&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(kR[o]+t in s););return o<0?null:(o===3?"ms":o>=0?kR[o]:"")+t},VT=function(){$k()&&window.document&&(VR=window,Yc=VR.document,qp=Yc.documentElement,Nh=FT("div")||{style:{}},FT("div"),yi=fm(yi),Js=yi+"Origin",Nh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",vL=!!fm("perspective"),FA=$s.core.reverting,IA=1)},XR=function(t){var e=t.ownerSVGElement,n=FT("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=t.cloneNode(!0),s;a.style.display="block",n.appendChild(a),qp.appendChild(n);try{s=a.getBBox()}catch{}return n.removeChild(a),qp.removeChild(n),s},qR=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},yL=function(t){var e,n;try{e=t.getBBox()}catch{e=XR(t),n=1}return e&&(e.width||e.height)||n||(e=XR(t)),e&&!e.width&&!e.x&&!e.y?{x:+qR(t,["x","cx","x1"])||0,y:+qR(t,["y","cy","y1"])||0,width:0,height:0}:e},_L=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&yL(t))},Wh=function(t,e){if(e){var n=t.style,a;e in Uu&&e!==Js&&(e=yi),n.removeProperty?(a=e.substr(0,2),(a==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),n.removeProperty(a==="--"?e:e.replace(VA,"-$1").toLowerCase())):n.removeAttribute(e)}},jc=function(t,e,n,a,s,o){var u=new Qs(t._pt,e,n,0,1,o?pL:dL);return t._pt=u,u.b=a,u.e=s,t._props.push(n),u},YR={deg:1,rad:1,turn:1},dX={grid:1,flex:1},tf=function i(t,e,n,a){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",u=Nh.style,h=tX.test(e),p=t.tagName.toLowerCase()==="svg",m=(p?"client":"offset")+(h?"Width":"Height"),v=100,_=a==="px",x=a==="%",T,A,E,b;if(a===o||!s||YR[a]||YR[o])return s;if(o!=="px"&&!_&&(s=i(t,e,n,"px")),b=t.getCTM&&_L(t),(x||o==="%")&&(Uu[e]||~e.indexOf("adius")))return T=b?t.getBBox()[h?"width":"height"]:t[m],Fi(x?s/T*v:s/100*T);if(u[h?"width":"height"]=v+(_?o:a),A=a!=="rem"&&~e.indexOf("adius")||a==="em"&&t.appendChild&&!p?t:t.parentNode,b&&(A=(t.ownerSVGElement||{}).parentNode),(!A||A===Yc||!A.appendChild)&&(A=Yc.body),E=A._gsap,E&&x&&E.width&&h&&E.time===vr.time&&!E.uncache)return Fi(s/E.width*v);if(x&&(e==="height"||e==="width")){var R=t.style[e];t.style[e]=v+a,T=t[m],R?t.style[e]=R:Wh(t,e)}else(x||o==="%")&&!dX[$r(A,"display")]&&(u.position=$r(t,"position")),A===t&&(u.position="static"),A.appendChild(Nh),T=Nh[m],A.removeChild(Nh),u.position="absolute";return h&&x&&(E=Ih(A),E.time=vr.time,E.width=A[m]),Fi(_?T*s/v:T&&s?v/T*s:0)},Su=function(t,e,n,a){var s;return IA||VT(),e in Rl&&e!=="transform"&&(e=Rl[e],~e.indexOf(",")&&(e=e.split(",")[0])),Uu[e]&&e!=="transform"?(s=iv(t,a),s=e!=="transformOrigin"?s[e]:s.svg?s.origin:T1($r(t,Js))+" "+s.zOrigin+"px"):(s=t.style[e],(!s||s==="auto"||a||~(s+"").indexOf("calc("))&&(s=M1[e]&&M1[e](t,e,n)||$r(t,e)||PU(t,e)||(e==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?tf(t,e,s,n)+n:s},pX=function(t,e,n,a){if(!n||n==="none"){var s=fm(e,t,1),o=s&&$r(t,s,1);o&&o!==n?(e=s,n=o):e==="borderColor"&&(n=$r(t,"borderTopColor"))}var u=new Qs(this._pt,t.style,e,0,1,cL),h=0,p=0,m,v,_,x,T,A,E,b,R,D,N,U;if(u.b=n,u.e=a,n+="",a+="",a.substring(0,6)==="var(--"&&(a=$r(t,a.substring(4,a.indexOf(")")))),a==="auto"&&(A=t.style[e],t.style[e]=a,a=$r(t,e)||a,A?t.style[e]=A:Wh(t,e)),m=[n,a],tL(m),n=m[0],a=m[1],_=n.match(Lp)||[],U=a.match(Lp)||[],U.length){for(;v=Lp.exec(a);)E=v[0],R=a.substring(h,v.index),T?T=(T+1)%5:(R.substr(-5)==="rgba("||R.substr(-5)==="hsla(")&&(T=1),E!==(A=_[p++]||"")&&(x=parseFloat(A)||0,N=A.substr((x+"").length),E.charAt(1)==="="&&(E=Xp(x,E)+N),b=parseFloat(E),D=E.substr((b+"").length),h=Lp.lastIndex-D.length,D||(D=D||Sr.units[e]||N,h===a.length&&(a+=D,u.e+=D)),N!==D&&(x=tf(t,e,A,D)||0),u._pt={_next:u._pt,p:R||p===1?R:",",s:x,c:b-x,m:T&&T<4||e==="zIndex"?Math.round:0});u.c=h<a.length?a.substring(h,a.length):""}else u.r=e==="display"&&a==="none"?pL:dL;return RU.test(a)&&(u.e=0),this._pt=u,u},jR={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},mX=function(t){var e=t.split(" "),n=e[0],a=e[1]||"50%";return(n==="top"||n==="bottom"||a==="left"||a==="right")&&(t=n,n=a,a=t),e[0]=jR[n]||n,e[1]=jR[a]||a,e.join(" ")},gX=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n=e.t,a=n.style,s=e.u,o=n._gsap,u,h,p;if(s==="all"||s===!0)a.cssText="",h=1;else for(s=s.split(","),p=s.length;--p>-1;)u=s[p],Uu[u]&&(h=1,u=u==="transformOrigin"?Js:yi),Wh(n,u);h&&(Wh(n,yi),o&&(o.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",iv(n,1),o.uncache=1,mL(a)))}},M1={clearProps:function(t,e,n,a,s){if(s.data!=="isFromStart"){var o=t._pt=new Qs(t._pt,e,n,0,0,gX);return o.u=a,o.pr=-10,o.tween=s,t._props.push(n),1}}},nv=[1,0,0,1,0,0],xL={},SL=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},WR=function(t){var e=$r(t,yi);return SL(e)?nv:e.substr(7).match(CU).map(Fi)},HA=function(t,e){var n=t._gsap||Ih(t),a=t.style,s=WR(t),o,u,h,p;return n.svg&&t.getAttribute("transform")?(h=t.transform.baseVal.consolidate().matrix,s=[h.a,h.b,h.c,h.d,h.e,h.f],s.join(",")==="1,0,0,1,0,0"?nv:s):(s===nv&&!t.offsetParent&&t!==qp&&!n.svg&&(h=a.display,a.display="block",o=t.parentNode,(!o||!t.offsetParent&&!t.getBoundingClientRect().width)&&(p=1,u=t.nextElementSibling,qp.appendChild(t)),s=WR(t),h?a.display=h:Wh(t,"display"),p&&(u?o.insertBefore(t,u):o?o.appendChild(t):qp.removeChild(t))),e&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},HT=function(t,e,n,a,s,o){var u=t._gsap,h=s||HA(t,!0),p=u.xOrigin||0,m=u.yOrigin||0,v=u.xOffset||0,_=u.yOffset||0,x=h[0],T=h[1],A=h[2],E=h[3],b=h[4],R=h[5],D=e.split(" "),N=parseFloat(D[0])||0,U=parseFloat(D[1])||0,P,F,V,L;n?h!==nv&&(F=x*E-T*A)&&(V=N*(E/F)+U*(-A/F)+(A*R-E*b)/F,L=N*(-T/F)+U*(x/F)-(x*R-T*b)/F,N=V,U=L):(P=yL(t),N=P.x+(~D[0].indexOf("%")?N/100*P.width:N),U=P.y+(~(D[1]||D[0]).indexOf("%")?U/100*P.height:U)),a||a!==!1&&u.smooth?(b=N-p,R=U-m,u.xOffset=v+(b*x+R*A)-b,u.yOffset=_+(b*T+R*E)-R):u.xOffset=u.yOffset=0,u.xOrigin=N,u.yOrigin=U,u.smooth=!!a,u.origin=e,u.originIsAbsolute=!!n,t.style[Js]="0px 0px",o&&(jc(o,u,"xOrigin",p,N),jc(o,u,"yOrigin",m,U),jc(o,u,"xOffset",v,u.xOffset),jc(o,u,"yOffset",_,u.yOffset)),t.setAttribute("data-svg-origin",N+" "+U)},iv=function(t,e){var n=t._gsap||new aL(t);if("x"in n&&!e&&!n.uncache)return n;var a=t.style,s=n.scaleX<0,o="px",u="deg",h=getComputedStyle(t),p=$r(t,Js)||"0",m,v,_,x,T,A,E,b,R,D,N,U,P,F,V,L,B,W,$,it,ct,ut,z,q,j,rt,k,nt,_t,wt,Rt,qt;return m=v=_=A=E=b=R=D=N=0,x=T=1,n.svg=!!(t.getCTM&&_L(t)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(a[yi]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[yi]!=="none"?h[yi]:"")),a.scale=a.rotate=a.translate="none"),F=HA(t,n.svg),n.svg&&(n.uncache?(j=t.getBBox(),p=n.xOrigin-j.x+"px "+(n.yOrigin-j.y)+"px",q=""):q=!e&&t.getAttribute("data-svg-origin"),HT(t,q||p,!!q||n.originIsAbsolute,n.smooth!==!1,F)),U=n.xOrigin||0,P=n.yOrigin||0,F!==nv&&(W=F[0],$=F[1],it=F[2],ct=F[3],m=ut=F[4],v=z=F[5],F.length===6?(x=Math.sqrt(W*W+$*$),T=Math.sqrt(ct*ct+it*it),A=W||$?wp($,W)*Th:0,R=it||ct?wp(it,ct)*Th+A:0,R&&(T*=Math.abs(Math.cos(R*Yp))),n.svg&&(m-=U-(U*W+P*it),v-=P-(U*$+P*ct))):(qt=F[6],wt=F[7],k=F[8],nt=F[9],_t=F[10],Rt=F[11],m=F[12],v=F[13],_=F[14],V=wp(qt,_t),E=V*Th,V&&(L=Math.cos(-V),B=Math.sin(-V),q=ut*L+k*B,j=z*L+nt*B,rt=qt*L+_t*B,k=ut*-B+k*L,nt=z*-B+nt*L,_t=qt*-B+_t*L,Rt=wt*-B+Rt*L,ut=q,z=j,qt=rt),V=wp(-it,_t),b=V*Th,V&&(L=Math.cos(-V),B=Math.sin(-V),q=W*L-k*B,j=$*L-nt*B,rt=it*L-_t*B,Rt=ct*B+Rt*L,W=q,$=j,it=rt),V=wp($,W),A=V*Th,V&&(L=Math.cos(V),B=Math.sin(V),q=W*L+$*B,j=ut*L+z*B,$=$*L-W*B,z=z*L-ut*B,W=q,ut=j),E&&Math.abs(E)+Math.abs(A)>359.9&&(E=A=0,b=180-b),x=Fi(Math.sqrt(W*W+$*$+it*it)),T=Fi(Math.sqrt(z*z+qt*qt)),V=wp(ut,z),R=Math.abs(V)>2e-4?V*Th:0,N=Rt?1/(Rt<0?-Rt:Rt):0),n.svg&&(q=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!SL($r(t,yi)),q&&t.setAttribute("transform",q))),Math.abs(R)>90&&Math.abs(R)<270&&(s?(x*=-1,R+=A<=0?180:-180,A+=A<=0?180:-180):(T*=-1,R+=R<=0?180:-180)),e=e||n.uncache,n.x=m-((n.xPercent=m&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-m)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+o,n.y=v-((n.yPercent=v&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-v)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+o,n.z=_+o,n.scaleX=Fi(x),n.scaleY=Fi(T),n.rotation=Fi(A)+u,n.rotationX=Fi(E)+u,n.rotationY=Fi(b)+u,n.skewX=R+u,n.skewY=D+u,n.transformPerspective=N+o,(n.zOrigin=parseFloat(p.split(" ")[2])||!e&&n.zOrigin||0)&&(a[Js]=T1(p)),n.xOffset=n.yOffset=0,n.force3D=Sr.force3D,n.renderTransform=n.svg?yX:vL?bL:vX,n.uncache=0,n},T1=function(t){return(t=t.split(" "))[0]+" "+t[1]},LM=function(t,e,n){var a=Wa(e);return Fi(parseFloat(e)+parseFloat(tf(t,"x",n+"px",a)))+a},vX=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,bL(t,e)},_h="0deg",n0="0px",xh=") ",bL=function(t,e){var n=e||this,a=n.xPercent,s=n.yPercent,o=n.x,u=n.y,h=n.z,p=n.rotation,m=n.rotationY,v=n.rotationX,_=n.skewX,x=n.skewY,T=n.scaleX,A=n.scaleY,E=n.transformPerspective,b=n.force3D,R=n.target,D=n.zOrigin,N="",U=b==="auto"&&t&&t!==1||b===!0;if(D&&(v!==_h||m!==_h)){var P=parseFloat(m)*Yp,F=Math.sin(P),V=Math.cos(P),L;P=parseFloat(v)*Yp,L=Math.cos(P),o=LM(R,o,F*L*-D),u=LM(R,u,-Math.sin(P)*-D),h=LM(R,h,V*L*-D+D)}E!==n0&&(N+="perspective("+E+xh),(a||s)&&(N+="translate("+a+"%, "+s+"%) "),(U||o!==n0||u!==n0||h!==n0)&&(N+=h!==n0||U?"translate3d("+o+", "+u+", "+h+") ":"translate("+o+", "+u+xh),p!==_h&&(N+="rotate("+p+xh),m!==_h&&(N+="rotateY("+m+xh),v!==_h&&(N+="rotateX("+v+xh),(_!==_h||x!==_h)&&(N+="skew("+_+", "+x+xh),(T!==1||A!==1)&&(N+="scale("+T+", "+A+xh),R.style[yi]=N||"translate(0, 0)"},yX=function(t,e){var n=e||this,a=n.xPercent,s=n.yPercent,o=n.x,u=n.y,h=n.rotation,p=n.skewX,m=n.skewY,v=n.scaleX,_=n.scaleY,x=n.target,T=n.xOrigin,A=n.yOrigin,E=n.xOffset,b=n.yOffset,R=n.forceCSS,D=parseFloat(o),N=parseFloat(u),U,P,F,V,L;h=parseFloat(h),p=parseFloat(p),m=parseFloat(m),m&&(m=parseFloat(m),p+=m,h+=m),h||p?(h*=Yp,p*=Yp,U=Math.cos(h)*v,P=Math.sin(h)*v,F=Math.sin(h-p)*-_,V=Math.cos(h-p)*_,p&&(m*=Yp,L=Math.tan(p-m),L=Math.sqrt(1+L*L),F*=L,V*=L,m&&(L=Math.tan(m),L=Math.sqrt(1+L*L),U*=L,P*=L)),U=Fi(U),P=Fi(P),F=Fi(F),V=Fi(V)):(U=v,V=_,P=F=0),(D&&!~(o+"").indexOf("px")||N&&!~(u+"").indexOf("px"))&&(D=tf(x,"x",o,"px"),N=tf(x,"y",u,"px")),(T||A||E||b)&&(D=Fi(D+T-(T*U+A*F)+E),N=Fi(N+A-(T*P+A*V)+b)),(a||s)&&(L=x.getBBox(),D=Fi(D+a/100*L.width),N=Fi(N+s/100*L.height)),L="matrix("+U+","+P+","+F+","+V+","+D+","+N+")",x.setAttribute("transform",L),R&&(x.style[yi]=L)},_X=function(t,e,n,a,s){var o=360,u=xa(s),h=parseFloat(s)*(u&&~s.indexOf("rad")?Th:1),p=h-a,m=a+p+"deg",v,_;return u&&(v=s.split("_")[1],v==="short"&&(p%=o,p!==p%(o/2)&&(p+=p<0?o:-o)),v==="cw"&&p<0?p=(p+o*GR)%o-~~(p/o)*o:v==="ccw"&&p>0&&(p=(p-o*GR)%o-~~(p/o)*o)),t._pt=_=new Qs(t._pt,e,n,a,p,nX),_.e=m,_.u="deg",t._props.push(n),_},ZR=function(t,e){for(var n in e)t[n]=e[n];return t},xX=function(t,e,n){var a=ZR({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,u,h,p,m,v,_,x,T;a.svg?(p=n.getAttribute("transform"),n.setAttribute("transform",""),o[yi]=e,u=iv(n,1),Wh(n,yi),n.setAttribute("transform",p)):(p=getComputedStyle(n)[yi],o[yi]=e,u=iv(n,1),o[yi]=p);for(h in Uu)p=a[h],m=u[h],p!==m&&s.indexOf(h)<0&&(x=Wa(p),T=Wa(m),v=x!==T?tf(n,h,p,T):parseFloat(p),_=parseFloat(m),t._pt=new Qs(t._pt,u,h,v,_-v,IT),t._pt.u=T||0,t._props.push(h));ZR(u,a)};Ks("padding,margin,Width,Radius",function(i,t){var e="Top",n="Right",a="Bottom",s="Left",o=(t<3?[e,n,a,s]:[e+s,e+n,a+n,a+s]).map(function(u){return t<2?i+u:"border"+u+i});M1[t>1?"border"+i:i]=function(u,h,p,m,v){var _,x;if(arguments.length<4)return _=o.map(function(T){return Su(u,T,p)}),x=_.join(" "),x.split(_[0]).length===5?_[0]:x;_=(m+"").split(" "),x={},o.forEach(function(T,A){return x[T]=_[A]=_[A]||_[(A-1)/2|0]}),u.init(h,x,v)}});var ML={name:"css",register:VT,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,a,s){var o=this._props,u=t.style,h=n.vars.startAt,p,m,v,_,x,T,A,E,b,R,D,N,U,P,F,V;IA||VT(),this.styles=this.styles||gL(t),V=this.styles.props,this.tween=n;for(A in e)if(A!=="autoRound"&&(m=e[A],!(gr[A]&&sL(A,e,n,a,t,s)))){if(x=typeof m,T=M1[A],x==="function"&&(m=m.call(n,a,t,s),x=typeof m),x==="string"&&~m.indexOf("random(")&&(m=$0(m)),T)T(this,t,A,m,n)&&(F=1);else if(A.substr(0,2)==="--")p=(getComputedStyle(t).getPropertyValue(A)+"").trim(),m+="",Zc.lastIndex=0,Zc.test(p)||(E=Wa(p),b=Wa(m)),b?E!==b&&(p=tf(t,A,p,b)+b):E&&(m+=E),this.add(u,"setProperty",p,m,a,s,0,0,A),o.push(A),V.push(A,0,u[A]);else if(x!=="undefined"){if(h&&A in h?(p=typeof h[A]=="function"?h[A].call(n,a,t,s):h[A],xa(p)&&~p.indexOf("random(")&&(p=$0(p)),Wa(p+"")||p==="auto"||(p+=Sr.units[A]||Wa(Su(t,A))||""),(p+"").charAt(1)==="="&&(p=Su(t,A))):p=Su(t,A),_=parseFloat(p),R=x==="string"&&m.charAt(1)==="="&&m.substr(0,2),R&&(m=m.substr(2)),v=parseFloat(m),A in Rl&&(A==="autoAlpha"&&(_===1&&Su(t,"visibility")==="hidden"&&v&&(_=0),V.push("visibility",0,u.visibility),jc(this,u,"visibility",_?"inherit":"hidden",v?"inherit":"hidden",!v)),A!=="scale"&&A!=="transform"&&(A=Rl[A],~A.indexOf(",")&&(A=A.split(",")[0]))),D=A in Uu,D){if(this.styles.save(A),x==="string"&&m.substring(0,6)==="var(--"&&(m=$r(t,m.substring(4,m.indexOf(")"))),v=parseFloat(m)),N||(U=t._gsap,U.renderTransform&&!e.parseTransform||iv(t,e.parseTransform),P=e.smoothOrigin!==!1&&U.smooth,N=this._pt=new Qs(this._pt,u,yi,0,1,U.renderTransform,U,0,-1),N.dep=1),A==="scale")this._pt=new Qs(this._pt,U,"scaleY",U.scaleY,(R?Xp(U.scaleY,R+v):v)-U.scaleY||0,IT),this._pt.u=0,o.push("scaleY",A),A+="X";else if(A==="transformOrigin"){V.push(Js,0,u[Js]),m=mX(m),U.svg?HT(t,m,0,P,0,this):(b=parseFloat(m.split(" ")[2])||0,b!==U.zOrigin&&jc(this,U,"zOrigin",U.zOrigin,b),jc(this,u,A,T1(p),T1(m)));continue}else if(A==="svgOrigin"){HT(t,m,1,P,0,this);continue}else if(A in xL){_X(this,U,A,_,R?Xp(_,R+m):m);continue}else if(A==="smoothOrigin"){jc(this,U,"smooth",U.smooth,m);continue}else if(A==="force3D"){U[A]=m;continue}else if(A==="transform"){xX(this,m,t);continue}}else A in u||(A=fm(A)||A);if(D||(v||v===0)&&(_||_===0)&&!eX.test(m)&&A in u)E=(p+"").substr((_+"").length),v||(v=0),b=Wa(m)||(A in Sr.units?Sr.units[A]:E),E!==b&&(_=tf(t,A,p,b)),this._pt=new Qs(this._pt,D?U:u,A,_,(R?Xp(_,R+v):v)-_,!D&&(b==="px"||A==="zIndex")&&e.autoRound!==!1?aX:IT),this._pt.u=b||0,E!==b&&b!=="%"&&(this._pt.b=p,this._pt.r=iX);else if(A in u)pX.call(this,t,A,p,R?R+m:m);else if(A in t)this.add(t,A,p||t[A],R?R+m:m,a,s);else if(A!=="parseTransform"){CA(A,m);continue}D||(A in u?V.push(A,0,u[A]):typeof t[A]=="function"?V.push(A,2,t[A]()):V.push(A,1,p||t[A])),o.push(A)}}F&&fL(this)},render:function(t,e){if(e.tween._time||!FA())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:Su,aliases:Rl,getSetter:function(t,e,n){var a=Rl[e];return a&&a.indexOf(",")<0&&(e=a),e in Uu&&e!==Js&&(t._gsap.x||Su(t,"x"))?n&&HR===n?e==="scale"?lX:oX:(HR=n||{})&&(e==="scale"?uX:cX):t.style&&!EA(t.style[e])?sX:~e.indexOf("-")?rX:zA(t,e)},core:{_removeProperty:Wh,_getMatrix:HA}};$s.utils.checkPrefix=fm;$s.core.getStyleSaver=gL;(function(i,t,e,n){var a=Ks(i+","+t+","+e,function(s){Uu[s]=1});Ks(t,function(s){Sr.units[s]="deg",xL[s]=1}),Rl[a[13]]=i+","+t,Ks(n,function(s){var o=s.split(":");Rl[o[1]]=a[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ks("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){Sr.units[i]="px"});$s.registerPlugin(ML);var Bi=$s.registerPlugin(ML)||$s;Bi.core.Tween;const SX=({logo:i,logoAlt:t="Logo",items:e,activeHref:n,className:a="",ease:s="power3.easeOut",baseColor:o="#fff",pillColor:u="#060010",hoveredPillTextColor:h="#060010",pillTextColor:p,onMobileMenuClick:m,initialLoadAnimation:v=!0,onNavClick:_})=>{const x=p??o,[T,A]=et.useState(!1),E=et.useRef([]),b=et.useRef([]),R=et.useRef([]),D=et.useRef(null),N=et.useRef(null),U=et.useRef(null),P=et.useRef(null),F=et.useRef(null),V=et.useRef(null);et.useEffect(()=>{const z=()=>{E.current.forEach(j=>{if(!j?.parentElement)return;const rt=j.parentElement,k=rt.getBoundingClientRect(),{width:nt,height:_t}=k,wt=(nt*nt/4+_t*_t)/(2*_t),Rt=Math.ceil(2*wt)+2,qt=Math.ceil(wt-Math.sqrt(Math.max(0,wt*wt-nt*nt/4)))+1,mt=Rt-qt;j.style.width=`${Rt}px`,j.style.height=`${Rt}px`,j.style.bottom=`-${qt}px`,Bi.set(j,{xPercent:-50,scale:0,transformOrigin:`50% ${mt}px`});const Nt=rt.querySelector(".pill-label"),kt=rt.querySelector(".pill-label-hover");Nt&&Bi.set(Nt,{y:0}),kt&&Bi.set(kt,{y:_t+12,opacity:0});const he=E.current.indexOf(j);if(he===-1)return;b.current[he]?.kill();const ce=Bi.timeline({paused:!0});ce.to(j,{scale:1.2,xPercent:-50,duration:2,ease:s,overwrite:"auto"},0),Nt&&ce.to(Nt,{y:-(_t+8),duration:2,ease:s,overwrite:"auto"},0),kt&&(Bi.set(kt,{y:Math.ceil(_t+100),opacity:0}),ce.to(kt,{y:0,opacity:1,duration:2,ease:s,overwrite:"auto"},0)),b.current[he]=ce})};z();const q=()=>z();if(window.addEventListener("resize",q),document.fonts?.ready&&document.fonts.ready.then(z).catch(()=>{}),v){const j=V.current,rt=F.current;j&&(Bi.set(j,{scale:0}),Bi.to(j,{scale:1,duration:.6,ease:s})),rt&&(Bi.set(rt,{width:0,overflow:"hidden"}),Bi.to(rt,{width:"auto",duration:.6,ease:s}))}return()=>window.removeEventListener("resize",q)},[e,s,v]);const L=z=>{const q=b.current[z];q&&(R.current[z]?.kill(),R.current[z]=q.tweenTo(q.duration(),{duration:.3,ease:s,overwrite:"auto"}))},B=z=>{const q=b.current[z];q&&(R.current[z]?.kill(),R.current[z]=q.tweenTo(0,{duration:.2,ease:s,overwrite:"auto"}))},W=()=>{const z=D.current;z&&(N.current?.kill(),Bi.set(z,{rotate:0}),N.current=Bi.to(z,{rotate:360,duration:.2,ease:s,overwrite:"auto"}))},$=()=>{const z=!T;A(z);const q=U.current,j=P.current;if(j&&Bi.set(j,{visibility:"hidden",opacity:0,scaleY:1}),q){const rt=q.querySelectorAll(".hamburger-line");z?(Bi.to(rt[0],{rotation:45,y:3,duration:.3,ease:s}),Bi.to(rt[1],{rotation:-45,y:-3,duration:.3,ease:s})):(Bi.to(rt[0],{rotation:0,y:0,duration:.3,ease:s}),Bi.to(rt[1],{rotation:0,y:0,duration:.3,ease:s}))}j&&(z?(Bi.set(j,{visibility:"visible"}),Bi.fromTo(j,{opacity:0,y:10,scaleY:1},{opacity:1,y:0,scaleY:1,duration:.3,ease:s,transformOrigin:"top center"})):Bi.to(j,{opacity:0,y:10,scaleY:1,duration:.2,ease:s,transformOrigin:"top center",onComplete:()=>{Bi.set(j,{visibility:"hidden"})}})),m?.()},it=z=>z.startsWith("http://")||z.startsWith("https://")||z.startsWith("//")||z.startsWith("mailto:")||z.startsWith("tel:")||z.startsWith("#"),ct=z=>z&&!it(z),ut={"--base":o,"--pill-bg":u,"--hover-text":h,"--pill-text":x};return yt.jsxs("div",{className:"pill-nav-container",children:[yt.jsxs("nav",{className:`pill-nav ${a}`,"aria-label":"Primary",style:ut,children:[ct(e?.[0]?.href)?yt.jsx(f0,{className:"pill-logo",to:e[0].href,"aria-label":"Home",onMouseEnter:W,role:"menuitem",ref:z=>{V.current=z},children:yt.jsx("img",{src:i,alt:t,ref:D})}):yt.jsx("a",{className:"pill-logo",href:e?.[0]?.href||"#","aria-label":"Home",onMouseEnter:W,ref:z=>{V.current=z},children:yt.jsx("img",{src:i,alt:t,ref:D})}),yt.jsx("div",{className:"pill-nav-items desktop-only",ref:F,children:yt.jsx("ul",{className:"pill-list",role:"menubar",children:e.map((z,q)=>yt.jsx("li",{role:"none",children:ct(z.href)?yt.jsxs(f0,{role:"menuitem",to:z.href,className:`pill${n===z.href?" is-active":""}`,"aria-label":z.ariaLabel||z.label,onMouseEnter:()=>L(q),onMouseLeave:()=>B(q),onClick:j=>{j.preventDefault(),_?.(z.id)},children:[yt.jsx("span",{className:"hover-circle","aria-hidden":"true",ref:j=>{E.current[q]=j}}),yt.jsxs("span",{className:"label-stack",children:[yt.jsx("span",{className:"pill-label",children:z.label}),yt.jsx("span",{className:"pill-label-hover","aria-hidden":"true",children:z.label})]})]}):yt.jsxs("a",{role:"menuitem",href:z.href,className:`pill${n===z.href?" is-active":""}`,"aria-label":z.ariaLabel||z.label,onMouseEnter:()=>L(q),onClick:j=>{j.preventDefault(),_?.(z.id)},children:[yt.jsx("span",{className:"hover-circle","aria-hidden":"true",ref:j=>{E.current[q]=j}}),yt.jsxs("span",{className:"label-stack",children:[yt.jsx("span",{className:"pill-label",children:z.label}),yt.jsx("span",{className:"pill-label-hover","aria-hidden":"true",children:z.label})]})]})},z.href||`item-${q}`))})}),yt.jsxs("button",{className:"mobile-menu-button mobile-only",onClick:$,"aria-label":"Toggle menu",ref:U,children:[yt.jsx("span",{className:"hamburger-line"}),yt.jsx("span",{className:"hamburger-line"})]})]}),yt.jsx("div",{className:"mobile-menu-popover mobile-only",ref:P,style:ut,children:yt.jsx("ul",{className:"mobile-menu-list",children:e.map((z,q)=>yt.jsx("li",{children:ct(z.href)?yt.jsx(f0,{to:z.href,className:`mobile-menu-link${n===z.href?" is-active":""}`,onClick:j=>{j.preventDefault(),_?.(z.id),A(!1),$()},children:z.label}):yt.jsx("a",{href:z.href,className:`mobile-menu-link${n===z.href?" is-active":""}`,onClick:j=>{j.preventDefault(),_?.(z.id),A(!1),$()},children:z.label})},z.href||`mobile-item-${q}`))})})]})};function GT({size:i=1,position:t=[0,0,0],textureUrl:e}){const n=et.useRef(),a=bA(PO,e);return LG(()=>{n.current&&(n.current.rotation.y+=.002)}),yt.jsxs("mesh",{ref:n,position:t,children:[yt.jsx("sphereGeometry",{args:[i,64,64]}),yt.jsx("meshStandardMaterial",{map:a})]})}const GA=et.createContext({});function kA(i){const t=et.useRef(null);return t.current===null&&(t.current=i()),t.current}const XA=typeof window<"u",TL=XA?et.useLayoutEffect:et.useEffect,xS=et.createContext(null);function qA(i,t){i.indexOf(t)===-1&&i.push(t)}function YA(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Lu=(i,t,e)=>e>t?t:e<i?i:e;let jA=()=>{};const Pu={},EL=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function AL(i){return typeof i=="object"&&i!==null}const wL=i=>/^0[^.\s]+$/u.test(i);function WA(i){let t;return()=>(t===void 0&&(t=i()),t)}const eo=i=>i,bX=(i,t)=>e=>t(i(e)),Av=(...i)=>i.reduce(bX),av=(i,t,e)=>{const n=t-i;return n===0?1:(e-i)/n};class ZA{constructor(){this.subscriptions=[]}add(t){return qA(this.subscriptions,t),()=>YA(this.subscriptions,t)}notify(t,e,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,n);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ul=i=>i*1e3,to=i=>i/1e3;function CL(i,t){return t?i*(1e3/t):0}const RL=(i,t,e)=>(((1-3*e+3*t)*i+(3*e-6*t))*i+3*t)*i,MX=1e-7,TX=12;function EX(i,t,e,n,a){let s,o,u=0;do o=t+(e-t)/2,s=RL(o,n,a)-i,s>0?e=o:t=o;while(Math.abs(s)>MX&&++u<TX);return o}function wv(i,t,e,n){if(i===t&&e===n)return eo;const a=s=>EX(s,0,1,i,e);return s=>s===0||s===1?s:RL(a(s),t,n)}const DL=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,NL=i=>t=>1-i(1-t),OL=wv(.33,1.53,.69,.99),KA=NL(OL),UL=DL(KA),LL=i=>(i*=2)<1?.5*KA(i):.5*(2-Math.pow(2,-10*(i-1))),QA=i=>1-Math.sin(Math.acos(i)),PL=NL(QA),zL=DL(QA),AX=wv(.42,0,1,1),wX=wv(0,0,.58,1),BL=wv(.42,0,.58,1),CX=i=>Array.isArray(i)&&typeof i[0]!="number",IL=i=>Array.isArray(i)&&typeof i[0]=="number",RX={linear:eo,easeIn:AX,easeInOut:BL,easeOut:wX,circIn:QA,circInOut:zL,circOut:PL,backIn:KA,backInOut:UL,backOut:OL,anticipate:LL},DX=i=>typeof i=="string",KR=i=>{if(IL(i)){jA(i.length===4);const[t,e,n,a]=i;return wv(t,e,n,a)}else if(DX(i))return RX[i];return i},nx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function NX(i,t){let e=new Set,n=new Set,a=!1,s=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){o.has(m)&&(p.schedule(m),i()),m(u)}const p={schedule:(m,v=!1,_=!1)=>{const T=_&&a?e:n;return v&&o.add(m),T.has(m)||T.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(u=m,a){s=!0;return}a=!0,[e,n]=[n,e],e.forEach(h),e.clear(),a=!1,s&&(s=!1,p.process(m))}};return p}const OX=40;function FL(i,t){let e=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>e=!0,o=nx.reduce((D,N)=>(D[N]=NX(s),D),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:m,update:v,preRender:_,render:x,postRender:T}=o,A=()=>{const D=Pu.useManualTiming?a.timestamp:performance.now();e=!1,Pu.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(D-a.timestamp,OX),1)),a.timestamp=D,a.isProcessing=!0,u.process(a),h.process(a),p.process(a),m.process(a),v.process(a),_.process(a),x.process(a),T.process(a),a.isProcessing=!1,e&&t&&(n=!1,i(A))},E=()=>{e=!0,n=!0,a.isProcessing||i(A)};return{schedule:nx.reduce((D,N)=>{const U=o[N];return D[N]=(P,F=!1,V=!1)=>(e||E(),U.schedule(P,F,V)),D},{}),cancel:D=>{for(let N=0;N<nx.length;N++)o[nx[N]].cancel(D)},state:a,steps:o}}const{schedule:ci,cancel:ef,state:Da,steps:PM}=FL(typeof requestAnimationFrame<"u"?requestAnimationFrame:eo,!0);let yx;function UX(){yx=void 0}const js={now:()=>(yx===void 0&&js.set(Da.isProcessing||Pu.useManualTiming?Da.timestamp:performance.now()),yx),set:i=>{yx=i,queueMicrotask(UX)}},VL=i=>t=>typeof t=="string"&&t.startsWith(i),JA=VL("--"),LX=VL("var(--"),$A=i=>LX(i)?PX.test(i.split("/*")[0].trim()):!1,PX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tm={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},sv={...Tm,transform:i=>Lu(0,1,i)},ix={...Tm,default:1},E0=i=>Math.round(i*1e5)/1e5,t2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zX(i){return i==null}const BX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e2=(i,t)=>e=>!!(typeof e=="string"&&BX.test(e)&&e.startsWith(i)||t&&!zX(e)&&Object.prototype.hasOwnProperty.call(e,t)),HL=(i,t,e)=>n=>{if(typeof n!="string")return n;const[a,s,o,u]=n.match(t2);return{[i]:parseFloat(a),[t]:parseFloat(s),[e]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},IX=i=>Lu(0,255,i),zM={...Tm,transform:i=>Math.round(IX(i))},Oh={test:e2("rgb","red"),parse:HL("red","green","blue"),transform:({red:i,green:t,blue:e,alpha:n=1})=>"rgba("+zM.transform(i)+", "+zM.transform(t)+", "+zM.transform(e)+", "+E0(sv.transform(n))+")"};function FX(i){let t="",e="",n="",a="";return i.length>5?(t=i.substring(1,3),e=i.substring(3,5),n=i.substring(5,7),a=i.substring(7,9)):(t=i.substring(1,2),e=i.substring(2,3),n=i.substring(3,4),a=i.substring(4,5),t+=t,e+=e,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const kT={test:e2("#"),parse:FX,transform:Oh.transform},Cv=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),Vc=Cv("deg"),Ll=Cv("%"),Ge=Cv("px"),VX=Cv("vh"),HX=Cv("vw"),QR={...Ll,parse:i=>Ll.parse(i)/100,transform:i=>Ll.transform(i*100)},zp={test:e2("hsl","hue"),parse:HL("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:e,alpha:n=1})=>"hsla("+Math.round(i)+", "+Ll.transform(E0(t))+", "+Ll.transform(E0(e))+", "+E0(sv.transform(n))+")"},Yi={test:i=>Oh.test(i)||kT.test(i)||zp.test(i),parse:i=>Oh.test(i)?Oh.parse(i):zp.test(i)?zp.parse(i):kT.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Oh.transform(i):zp.transform(i),getAnimatableNone:i=>{const t=Yi.parse(i);return t.alpha=0,Yi.transform(t)}},GX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kX(i){return isNaN(i)&&typeof i=="string"&&(i.match(t2)?.length||0)+(i.match(GX)?.length||0)>0}const GL="number",kL="color",XX="var",qX="var(",JR="${}",YX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rv(i){const t=i.toString(),e=[],n={color:[],number:[],var:[]},a=[];let s=0;const u=t.replace(YX,h=>(Yi.test(h)?(n.color.push(s),a.push(kL),e.push(Yi.parse(h))):h.startsWith(qX)?(n.var.push(s),a.push(XX),e.push(h)):(n.number.push(s),a.push(GL),e.push(parseFloat(h))),++s,JR)).split(JR);return{values:e,split:u,indexes:n,types:a}}function XL(i){return rv(i).values}function qL(i){const{split:t,types:e}=rv(i),n=t.length;return a=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],a[o]!==void 0){const u=e[o];u===GL?s+=E0(a[o]):u===kL?s+=Yi.transform(a[o]):s+=a[o]}return s}}const jX=i=>typeof i=="number"?0:Yi.test(i)?Yi.getAnimatableNone(i):i;function WX(i){const t=XL(i);return qL(i)(t.map(jX))}const nf={test:kX,parse:XL,createTransformer:qL,getAnimatableNone:WX};function BM(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*(2/3-e)*6:i}function ZX({hue:i,saturation:t,lightness:e,alpha:n}){i/=360,t/=100,e/=100;let a=0,s=0,o=0;if(!t)a=s=o=e;else{const u=e<.5?e*(1+t):e+t-e*t,h=2*e-u;a=BM(h,u,i+1/3),s=BM(h,u,i),o=BM(h,u,i-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function E1(i,t){return e=>e>0?t:i}const _i=(i,t,e)=>i+(t-i)*e,IM=(i,t,e)=>{const n=i*i,a=e*(t*t-n)+n;return a<0?0:Math.sqrt(a)},KX=[kT,Oh,zp],QX=i=>KX.find(t=>t.test(i));function $R(i){const t=QX(i);if(!t)return!1;let e=t.parse(i);return t===zp&&(e=ZX(e)),e}const t3=(i,t)=>{const e=$R(i),n=$R(t);if(!e||!n)return E1(i,t);const a={...e};return s=>(a.red=IM(e.red,n.red,s),a.green=IM(e.green,n.green,s),a.blue=IM(e.blue,n.blue,s),a.alpha=_i(e.alpha,n.alpha,s),Oh.transform(a))},XT=new Set(["none","hidden"]);function JX(i,t){return XT.has(i)?e=>e<=0?i:t:e=>e>=1?t:i}function $X(i,t){return e=>_i(i,t,e)}function n2(i){return typeof i=="number"?$X:typeof i=="string"?$A(i)?E1:Yi.test(i)?t3:nq:Array.isArray(i)?YL:typeof i=="object"?Yi.test(i)?t3:tq:E1}function YL(i,t){const e=[...i],n=e.length,a=i.map((s,o)=>n2(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)e[o]=a[o](s);return e}}function tq(i,t){const e={...i,...t},n={};for(const a in e)i[a]!==void 0&&t[a]!==void 0&&(n[a]=n2(i[a])(i[a],t[a]));return a=>{for(const s in n)e[s]=n[s](a);return e}}function eq(i,t){const e=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],o=i.indexes[s][n[s]],u=i.values[o]??0;e[a]=u,n[s]++}return e}const nq=(i,t)=>{const e=nf.createTransformer(t),n=rv(i),a=rv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?XT.has(i)&&!a.values.length||XT.has(t)&&!n.values.length?JX(i,t):Av(YL(eq(n,a),a.values),e):E1(i,t)};function jL(i,t,e){return typeof i=="number"&&typeof t=="number"&&typeof e=="number"?_i(i,t,e):n2(i)(i,t)}const iq=i=>{const t=({timestamp:e})=>i(e);return{start:(e=!0)=>ci.update(t,e),stop:()=>ef(t),now:()=>Da.isProcessing?Da.timestamp:js.now()}},WL=(i,t,e=10)=>{let n="";const a=Math.max(Math.round(t/e),2);for(let s=0;s<a;s++)n+=Math.round(i(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},A1=2e4;function i2(i){let t=0;const e=50;let n=i.next(t);for(;!n.done&&t<A1;)t+=e,n=i.next(t);return t>=A1?1/0:t}function aq(i,t=100,e){const n=e({...i,keyframes:[0,t]}),a=Math.min(i2(n),A1);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:to(a)}}const sq=5;function ZL(i,t,e){const n=Math.max(t-sq,0);return CL(e-i(n),t-n)}const wi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},FM=.001;function rq({duration:i=wi.duration,bounce:t=wi.bounce,velocity:e=wi.velocity,mass:n=wi.mass}){let a,s,o=1-t;o=Lu(wi.minDamping,wi.maxDamping,o),i=Lu(wi.minDuration,wi.maxDuration,to(i)),o<1?(a=p=>{const m=p*o,v=m*i,_=m-e,x=qT(p,o),T=Math.exp(-v);return FM-_/x*T},s=p=>{const v=p*o*i,_=v*e+e,x=Math.pow(o,2)*Math.pow(p,2)*i,T=Math.exp(-v),A=qT(Math.pow(p,2),o);return(-a(p)+FM>0?-1:1)*((_-x)*T)/A}):(a=p=>{const m=Math.exp(-p*i),v=(p-e)*i+1;return-FM+m*v},s=p=>{const m=Math.exp(-p*i),v=(e-p)*(i*i);return m*v});const u=5/i,h=lq(a,s,u);if(i=Ul(i),isNaN(h))return{stiffness:wi.stiffness,damping:wi.damping,duration:i};{const p=Math.pow(h,2)*n;return{stiffness:p,damping:o*2*Math.sqrt(n*p),duration:i}}}const oq=12;function lq(i,t,e){let n=e;for(let a=1;a<oq;a++)n=n-i(n)/t(n);return n}function qT(i,t){return i*Math.sqrt(1-t*t)}const uq=["duration","bounce"],cq=["stiffness","damping","mass"];function e3(i,t){return t.some(e=>i[e]!==void 0)}function fq(i){let t={velocity:wi.velocity,stiffness:wi.stiffness,damping:wi.damping,mass:wi.mass,isResolvedFromDuration:!1,...i};if(!e3(i,cq)&&e3(i,uq))if(i.visualDuration){const e=i.visualDuration,n=2*Math.PI/(e*1.2),a=n*n,s=2*Lu(.05,1,1-(i.bounce||0))*Math.sqrt(a);t={...t,mass:wi.mass,stiffness:a,damping:s}}else{const e=rq(i);t={...t,...e,mass:wi.mass},t.isResolvedFromDuration=!0}return t}function w1(i=wi.visualDuration,t=wi.bounce){const e=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:n,restDelta:a}=e;const s=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],u={done:!1,value:s},{stiffness:h,damping:p,mass:m,duration:v,velocity:_,isResolvedFromDuration:x}=fq({...e,velocity:-to(e.velocity||0)}),T=_||0,A=p/(2*Math.sqrt(h*m)),E=o-s,b=to(Math.sqrt(h/m)),R=Math.abs(E)<5;n||(n=R?wi.restSpeed.granular:wi.restSpeed.default),a||(a=R?wi.restDelta.granular:wi.restDelta.default);let D;if(A<1){const U=qT(b,A);D=P=>{const F=Math.exp(-A*b*P);return o-F*((T+A*b*E)/U*Math.sin(U*P)+E*Math.cos(U*P))}}else if(A===1)D=U=>o-Math.exp(-b*U)*(E+(T+b*E)*U);else{const U=b*Math.sqrt(A*A-1);D=P=>{const F=Math.exp(-A*b*P),V=Math.min(U*P,300);return o-F*((T+A*b*E)*Math.sinh(V)+U*E*Math.cosh(V))/U}}const N={calculatedDuration:x&&v||null,next:U=>{const P=D(U);if(x)u.done=U>=v;else{let F=U===0?T:0;A<1&&(F=U===0?Ul(T):ZL(D,U,P));const V=Math.abs(F)<=n,L=Math.abs(o-P)<=a;u.done=V&&L}return u.value=u.done?o:P,u},toString:()=>{const U=Math.min(i2(N),A1),P=WL(F=>N.next(U*F).value,U,30);return U+"ms "+P},toTransition:()=>{}};return N}w1.applyToOptions=i=>{const t=aq(i,100,w1);return i.ease=t.ease,i.duration=Ul(t.duration),i.type="keyframes",i};function YT({keyframes:i,velocity:t=0,power:e=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:u,max:h,restDelta:p=.5,restSpeed:m}){const v=i[0],_={done:!1,value:v},x=V=>u!==void 0&&V<u||h!==void 0&&V>h,T=V=>u===void 0?h:h===void 0||Math.abs(u-V)<Math.abs(h-V)?u:h;let A=e*t;const E=v+A,b=o===void 0?E:o(E);b!==E&&(A=b-v);const R=V=>-A*Math.exp(-V/n),D=V=>b+R(V),N=V=>{const L=R(V),B=D(V);_.done=Math.abs(L)<=p,_.value=_.done?b:B};let U,P;const F=V=>{x(_.value)&&(U=V,P=w1({keyframes:[_.value,T(_.value)],velocity:ZL(D,V,_.value),damping:a,stiffness:s,restDelta:p,restSpeed:m}))};return F(0),{calculatedDuration:null,next:V=>{let L=!1;return!P&&U===void 0&&(L=!0,N(V),F(V)),U!==void 0&&V>=U?P.next(V-U):(!L&&N(V),_)}}}function hq(i,t,e){const n=[],a=e||Pu.mix||jL,s=i.length-1;for(let o=0;o<s;o++){let u=a(i[o],i[o+1]);if(t){const h=Array.isArray(t)?t[o]||eo:t;u=Av(h,u)}n.push(u)}return n}function dq(i,t,{clamp:e=!0,ease:n,mixer:a}={}){const s=i.length;if(jA(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=i[0]===i[1];i[0]>i[s-1]&&(i=[...i].reverse(),t=[...t].reverse());const u=hq(t,n,a),h=u.length,p=m=>{if(o&&m<i[0])return t[0];let v=0;if(h>1)for(;v<i.length-2&&!(m<i[v+1]);v++);const _=av(i[v],i[v+1],m);return u[v](_)};return e?m=>p(Lu(i[0],i[s-1],m)):p}function pq(i,t){const e=i[i.length-1];for(let n=1;n<=t;n++){const a=av(0,t,n);i.push(_i(e,1,a))}}function mq(i){const t=[0];return pq(t,i.length-1),t}function gq(i,t){return i.map(e=>e*t)}function vq(i,t){return i.map(()=>t||BL).splice(0,i.length-1)}function A0({duration:i=300,keyframes:t,times:e,ease:n="easeInOut"}){const a=CX(n)?n.map(KR):KR(n),s={done:!1,value:t[0]},o=gq(e&&e.length===t.length?e:mq(t),i),u=dq(o,t,{ease:Array.isArray(a)?a:vq(t,a)});return{calculatedDuration:i,next:h=>(s.value=u(h),s.done=h>=i,s)}}const yq=i=>i!==null;function a2(i,{repeat:t,repeatType:e="loop"},n,a=1){const s=i.filter(yq),u=a<0||t&&e!=="loop"&&t%2===1?0:s.length-1;return!u||n===void 0?s[u]:n}const _q={decay:YT,inertia:YT,tween:A0,keyframes:A0,spring:w1};function KL(i){typeof i.type=="string"&&(i.type=_q[i.type])}class s2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const xq=i=>i/100;class r2 extends s2{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==js.now()&&this.tick(js.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;KL(t);const{type:e=A0,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=t;let{keyframes:u}=t;const h=e||A0;h!==A0&&typeof u[0]!="number"&&(this.mixKeyframes=Av(xq,jL(u[0],u[1])),u=[0,100]);const p=h({...t,keyframes:u});s==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-o})),p.calculatedDuration===null&&(p.calculatedDuration=i2(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return n.next(0);const{delay:p=0,keyframes:m,repeat:v,repeatType:_,repeatDelay:x,type:T,onUpdate:A,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const b=this.currentTime-p*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?b<0:b>a;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let D=this.currentTime,N=n;if(v){const V=Math.min(this.currentTime,a)/u;let L=Math.floor(V),B=V%1;!B&&V>=1&&(B=1),B===1&&L--,L=Math.min(L,v+1),!!(L%2)&&(_==="reverse"?(B=1-B,x&&(B-=x/u)):_==="mirror"&&(N=o)),D=Lu(0,1,B)*u}const U=R?{done:!1,value:m[0]}:N.next(D);s&&(U.value=s(U.value));let{done:P}=U;!R&&h!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return F&&T!==YT&&(U.value=a2(m,this.options,E,this.speed)),A&&A(U.value),F&&this.finish(),U}then(t,e){return this.finished.then(t,e)}get duration(){return to(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+to(t)}get time(){return to(this.currentTime)}set time(t){t=Ul(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(js.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=to(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=iq,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=e??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(js.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Sq(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const Uh=i=>i*180/Math.PI,jT=i=>{const t=Uh(Math.atan2(i[1],i[0]));return WT(t)},bq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:jT,rotateZ:jT,skewX:i=>Uh(Math.atan(i[1])),skewY:i=>Uh(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},WT=i=>(i=i%360,i<0&&(i+=360),i),n3=jT,i3=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),a3=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),Mq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i3,scaleY:a3,scale:i=>(i3(i)+a3(i))/2,rotateX:i=>WT(Uh(Math.atan2(i[6],i[5]))),rotateY:i=>WT(Uh(Math.atan2(-i[2],i[0]))),rotateZ:n3,rotate:n3,skewX:i=>Uh(Math.atan(i[4])),skewY:i=>Uh(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function ZT(i){return i.includes("scale")?1:0}function KT(i,t){if(!i||i==="none")return ZT(t);const e=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(e)n=Mq,a=e;else{const u=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=bq,a=u}if(!a)return ZT(t);const s=n[t],o=a[1].split(",").map(Eq);return typeof s=="function"?s(o):o[s]}const Tq=(i,t)=>{const{transform:e="none"}=getComputedStyle(i);return KT(e,t)};function Eq(i){return parseFloat(i.trim())}const Em=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Am=new Set(Em),s3=i=>i===Tm||i===Ge,Aq=new Set(["x","y","z"]),wq=Em.filter(i=>!Aq.has(i));function Cq(i){const t=[];return wq.forEach(e=>{const n=i.getValue(e);n!==void 0&&(t.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),t}const Gh={width:({x:i},{paddingLeft:t="0",paddingRight:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),height:({y:i},{paddingTop:t="0",paddingBottom:e="0"})=>i.max-i.min-parseFloat(t)-parseFloat(e),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>KT(t,"x"),y:(i,{transform:t})=>KT(t,"y")};Gh.translateX=Gh.x;Gh.translateY=Gh.y;const kh=new Set;let QT=!1,JT=!1,$T=!1;function QL(){if(JT){const i=Array.from(kh).filter(n=>n.needsMeasurement),t=new Set(i.map(n=>n.element)),e=new Map;t.forEach(n=>{const a=Cq(n);a.length&&(e.set(n,a),n.render())}),i.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=e.get(n);a&&a.forEach(([s,o])=>{n.getValue(s)?.set(o)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}JT=!1,QT=!1,kh.forEach(i=>i.complete($T)),kh.clear()}function JL(){kh.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(JT=!0)})}function Rq(){$T=!0,JL(),QL(),$T=!1}class o2{constructor(t,e,n,a,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=a,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(kh.add(this),QT||(QT=!0,ci.read(JL),ci.resolveKeyframes(QL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:a}=this;if(t[0]===null){const s=a?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&e){const u=n.readValue(e,o);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=o),a&&s===void 0&&a.set(t[0])}Sq(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),kh.delete(this)}cancel(){this.state==="scheduled"&&(kh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Dq=i=>i.startsWith("--");function Nq(i,t,e){Dq(t)?i.style.setProperty(t,e):i.style[t]=e}const Oq=WA(()=>window.ScrollTimeline!==void 0),Uq={};function Lq(i,t){const e=WA(i);return()=>Uq[t]??e()}const $L=Lq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),u0=([i,t,e,n])=>`cubic-bezier(${i}, ${t}, ${e}, ${n})`,r3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:u0([0,.65,.55,1]),circOut:u0([.55,0,1,.45]),backIn:u0([.31,.01,.66,-.59]),backOut:u0([.33,1.53,.69,.99])};function t4(i,t){if(i)return typeof i=="function"?$L()?WL(i,t):"ease-out":IL(i)?u0(i):Array.isArray(i)?i.map(e=>t4(e,t)||r3.easeOut):r3[i]}function Pq(i,t,e,{delay:n=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:u="easeOut",times:h}={},p=void 0){const m={[t]:e};h&&(m.offset=h);const v=t4(u,a);Array.isArray(v)&&(m.easing=v);const _={delay:n,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),i.animate(m,_)}function e4(i){return typeof i=="function"&&"applyToOptions"in i}function zq({type:i,...t}){return e4(i)&&$L()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Bq extends s2{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:n,keyframes:a,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,jA(typeof t.type!="string");const p=zq(t);this.animation=Pq(e,n,a,p,s),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const m=a2(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):Nq(e,n,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return to(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+to(t)}get time(){return to(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ul(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Oq()?(this.animation.timeline=t,eo):e(this)}}const n4={anticipate:LL,backInOut:UL,circInOut:zL};function Iq(i){return i in n4}function Fq(i){typeof i.ease=="string"&&Iq(i.ease)&&(i.ease=n4[i.ease])}const o3=10;class Vq extends Bq{constructor(t){Fq(t),KL(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:n,onComplete:a,element:s,...o}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new r2({...o,autoplay:!1}),h=Ul(this.finishedTime??this.time);e.setWithVelocity(u.sample(h-o3).value,u.sample(h).value,o3),u.stop()}}const l3=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(nf.test(i)||i==="0")&&!i.startsWith("url("));function Hq(i){const t=i[0];if(i.length===1)return!0;for(let e=0;e<i.length;e++)if(i[e]!==t)return!0}function Gq(i,t,e,n){const a=i[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=i[i.length-1],o=l3(a,t),u=l3(s,t);return!o||!u?!1:Hq(i)||(e==="spring"||e4(e))&&n}function tE(i){i.duration=0,i.type="keyframes"}const kq=new Set(["opacity","clipPath","filter","transform"]),Xq=WA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qq(i){const{motionValue:t,name:e,repeatDelay:n,repeatType:a,damping:s,type:o}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=t.owner.getProps();return Xq()&&e&&kq.has(e)&&(e!=="transform"||!p)&&!h&&!n&&a!=="mirror"&&s!==0&&o!=="inertia"}const Yq=40;class jq extends s2{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",keyframes:u,name:h,motionValue:p,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=js.now();const _={autoplay:t,delay:e,type:n,repeat:a,repeatDelay:s,repeatType:o,name:h,motionValue:p,element:m,...v},x=m?.KeyframeResolver||o2;this.keyframeResolver=new x(u,(T,A,E)=>this.onKeyframesResolved(T,A,_,!E),h,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,n,a){this.keyframeResolver=void 0;const{name:s,type:o,velocity:u,delay:h,isHandoff:p,onUpdate:m}=n;this.resolvedAt=js.now(),Gq(t,s,o,u)||((Pu.instantAnimations||!h)&&m?.(a2(t,n,e)),t[0]=t[t.length-1],tE(n),n.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Yq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...n,keyframes:t},x=!p&&qq(_)?new Vq({..._,element:_.motionValue.owner.current}):new r2(_);x.finished.then(()=>this.notifyFinished()).catch(eo),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Rq()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Wq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Zq(i){const t=Wq.exec(i);if(!t)return[,];const[,e,n,a]=t;return[`--${e??n}`,a]}function i4(i,t,e=1){const[n,a]=Zq(i);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return EL(o)?parseFloat(o):o}return $A(a)?i4(a,t,e+1):a}function l2(i,t){return i?.[t]??i?.default??i}const a4=new Set(["width","height","top","left","right","bottom",...Em]),Kq={test:i=>i==="auto",parse:i=>i},s4=i=>t=>t.test(i),r4=[Tm,Ge,Ll,Vc,HX,VX,Kq],u3=i=>r4.find(s4(i));function Qq(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||wL(i):!0}const Jq=new Set(["brightness","contrast","saturate","opacity"]);function $q(i){const[t,e]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[n]=e.match(t2)||[];if(!n)return i;const a=e.replace(n,"");let s=Jq.has(t)?1:0;return n!==e&&(s*=100),t+"("+s+a+")"}const tY=/\b([a-z-]*)\(.*?\)/gu,eE={...nf,getAnimatableNone:i=>{const t=i.match(tY);return t?t.map($q).join(" "):i}},c3={...Tm,transform:Math.round},eY={rotate:Vc,rotateX:Vc,rotateY:Vc,rotateZ:Vc,scale:ix,scaleX:ix,scaleY:ix,scaleZ:ix,skew:Vc,skewX:Vc,skewY:Vc,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:sv,originX:QR,originY:QR,originZ:Ge},u2={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge,...eY,zIndex:c3,fillOpacity:sv,strokeOpacity:sv,numOctaves:c3},nY={...u2,color:Yi,backgroundColor:Yi,outlineColor:Yi,fill:Yi,stroke:Yi,borderColor:Yi,borderTopColor:Yi,borderRightColor:Yi,borderBottomColor:Yi,borderLeftColor:Yi,filter:eE,WebkitFilter:eE},o4=i=>nY[i];function l4(i,t){let e=o4(i);return e!==eE&&(e=nf),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const iY=new Set(["auto","none","0"]);function aY(i,t,e){let n=0,a;for(;n<i.length&&!a;){const s=i[n];typeof s=="string"&&!iY.has(s)&&rv(s).values.length&&(a=i[n]),n++}if(a&&e)for(const s of t)i[s]=l4(e,a)}class sY extends o2{constructor(t,e,n,a,s){super(t,e,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let p=t[h];if(typeof p=="string"&&(p=p.trim(),$A(p))){const m=i4(p,e.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!a4.has(n)||t.length!==2)return;const[a,s]=t,o=u3(a),u=u3(s);if(o!==u)if(s3(o)&&s3(u))for(let h=0;h<t.length;h++){const p=t[h];typeof p=="string"&&(t[h]=parseFloat(p))}else Gh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Qq(t[a]))&&n.push(a);n.length&&aY(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=Gh[e](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{t.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function rY(i,t,e){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let n=document;const a=e?.[i]??n.querySelectorAll(i);return a?Array.from(a):[]}return Array.from(i)}const u4=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function c4(i){return AL(i)&&"offsetHeight"in i}const f3=30,oY=i=>!isNaN(parseFloat(i));class lY{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=js.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=js.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=oY(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new ZA);const n=this.events[t].add(e);return t==="change"?()=>{n(),ci.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>f3)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,f3);return CL(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hm(i,t){return new lY(i,t)}const{schedule:c2}=FL(queueMicrotask,!1),Uo={x:!1,y:!1};function f4(){return Uo.x||Uo.y}function uY(i){return i==="x"||i==="y"?Uo[i]?null:(Uo[i]=!0,()=>{Uo[i]=!1}):Uo.x||Uo.y?null:(Uo.x=Uo.y=!0,()=>{Uo.x=Uo.y=!1})}function h4(i,t){const e=rY(i),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[e,a,()=>n.abort()]}function h3(i){return!(i.pointerType==="touch"||f4())}function cY(i,t,e={}){const[n,a,s]=h4(i,e),o=u=>{if(!h3(u))return;const{target:h}=u,p=t(h,u);if(typeof p!="function"||!h)return;const m=v=>{h3(v)&&(p(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,a)};return n.forEach(u=>{u.addEventListener("pointerenter",o,a)}),s}const d4=(i,t)=>t?i===t?!0:d4(i,t.parentElement):!1,f2=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,fY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hY(i){return fY.has(i.tagName)||i.tabIndex!==-1}const _x=new WeakSet;function d3(i){return t=>{t.key==="Enter"&&i(t)}}function VM(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const dY=(i,t)=>{const e=i.currentTarget;if(!e)return;const n=d3(()=>{if(_x.has(e))return;VM(e,"down");const a=d3(()=>{VM(e,"up")}),s=()=>VM(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",s,t)});e.addEventListener("keydown",n,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),t)};function p3(i){return f2(i)&&!f4()}function pY(i,t,e={}){const[n,a,s]=h4(i,e),o=u=>{const h=u.currentTarget;if(!p3(u))return;_x.add(h);const p=t(h,u),m=(x,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),_x.has(h)&&_x.delete(h),p3(x)&&typeof p=="function"&&p(x,{success:T})},v=x=>{m(x,h===window||h===document||e.useGlobalTarget||d4(h,x.target))},_=x=>{m(x,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",_,a)};return n.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",o,a),c4(u)&&(u.addEventListener("focus",p=>dY(p,a)),!hY(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),s}function p4(i){return AL(i)&&"ownerSVGElement"in i}function mY(i){return p4(i)&&i.tagName==="svg"}const Ka=i=>!!(i&&i.getVelocity),gY=[...r4,Yi,nf],vY=i=>gY.find(s4(i)),h2=et.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function m3(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function yY(...i){return t=>{let e=!1;const n=i.map(a=>{const s=m3(a,t);return!e&&typeof s=="function"&&(e=!0),s});if(e)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():m3(i[a],null)}}}}function _Y(...i){return et.useCallback(yY(...i),i)}class xY extends et.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const n=e.offsetParent,a=c4(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=e.offsetHeight||0,s.width=e.offsetWidth||0,s.top=e.offsetTop,s.left=e.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function SY({children:i,isPresent:t,anchorX:e,root:n}){const a=et.useId(),s=et.useRef(null),o=et.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=et.useContext(h2),h=_Y(s,i?.ref);return et.useInsertionEffect(()=>{const{width:p,height:m,top:v,left:_,right:x}=o.current;if(t||!s.current||!p||!m)return;const T=e==="left"?`left: ${_}`:`right: ${x}`;s.current.dataset.motionPopId=a;const A=document.createElement("style");u&&(A.nonce=u);const E=n??document.head;return E.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${T}px !important;
            top: ${v}px !important;
          }
        `),()=>{E.contains(A)&&E.removeChild(A)}},[t]),yt.jsx(xY,{isPresent:t,childRef:s,sizeRef:o,children:et.cloneElement(i,{ref:h})})}const bY=({children:i,initial:t,isPresent:e,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:o,anchorX:u,root:h})=>{const p=kA(MY),m=et.useId();let v=!0,_=et.useMemo(()=>(v=!1,{id:m,initial:t,isPresent:e,custom:a,onExitComplete:x=>{p.set(x,!0);for(const T of p.values())if(!T)return;n&&n()},register:x=>(p.set(x,!1),()=>p.delete(x))}),[e,p,n]);return s&&v&&(_={..._}),et.useMemo(()=>{p.forEach((x,T)=>p.set(T,!1))},[e]),et.useEffect(()=>{!e&&!p.size&&n&&n()},[e]),o==="popLayout"&&(i=yt.jsx(SY,{isPresent:e,anchorX:u,root:h,children:i})),yt.jsx(xS.Provider,{value:_,children:i})};function MY(){return new Map}function m4(i=!0){const t=et.useContext(xS);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:a}=t,s=et.useId();et.useEffect(()=>{if(i)return a(s)},[i]);const o=et.useCallback(()=>i&&n&&n(s),[s,n,i]);return!e&&n?[!1,o]:[!0]}const ax=i=>i.key||"";function g3(i){const t=[];return et.Children.forEach(i,e=>{et.isValidElement(e)&&t.push(e)}),t}const g4=({children:i,custom:t,initial:e=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:o=!1,anchorX:u="left",root:h})=>{const[p,m]=m4(o),v=et.useMemo(()=>g3(i),[i]),_=o&&!p?[]:v.map(ax),x=et.useRef(!0),T=et.useRef(v),A=kA(()=>new Map),[E,b]=et.useState(v),[R,D]=et.useState(v);TL(()=>{x.current=!1,T.current=v;for(let P=0;P<R.length;P++){const F=ax(R[P]);_.includes(F)?A.delete(F):A.get(F)!==!0&&A.set(F,!1)}},[R,_.length,_.join("-")]);const N=[];if(v!==E){let P=[...v];for(let F=0;F<R.length;F++){const V=R[F],L=ax(V);_.includes(L)||(P.splice(F,0,V),N.push(V))}return s==="wait"&&N.length&&(P=N),D(g3(P)),b(v),null}const{forceRender:U}=et.useContext(GA);return yt.jsx(yt.Fragment,{children:R.map(P=>{const F=ax(P),V=o&&!p?!1:v===R||_.includes(F),L=()=>{if(A.has(F))A.set(F,!0);else return;let B=!0;A.forEach(W=>{W||(B=!1)}),B&&(U?.(),D(T.current),o&&m?.(),n&&n())};return yt.jsx(bY,{isPresent:V,initial:!x.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:h,onExitComplete:V?void 0:L,anchorX:u,children:P},F)})})},v4=et.createContext({strict:!1}),v3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dm={};for(const i in v3)dm[i]={isEnabled:t=>v3[i].some(e=>!!t[e])};function TY(i){for(const t in i)dm[t]={...dm[t],...i[t]}}const EY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function C1(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||EY.has(i)}let y4=i=>!C1(i);function AY(i){typeof i=="function"&&(y4=t=>t.startsWith("on")?!C1(t):i(t))}try{AY(require("@emotion/is-prop-valid").default)}catch{}function wY(i,t,e){const n={};for(const a in i)a==="values"&&typeof i.values=="object"||(y4(a)||e===!0&&C1(a)||!t&&!C1(a)||i.draggable&&a.startsWith("onDrag"))&&(n[a]=i[a]);return n}const SS=et.createContext({});function bS(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function ov(i){return typeof i=="string"||Array.isArray(i)}const d2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p2=["initial",...d2];function MS(i){return bS(i.animate)||p2.some(t=>ov(i[t]))}function _4(i){return!!(MS(i)||i.variants)}function CY(i,t){if(MS(i)){const{initial:e,animate:n}=i;return{initial:e===!1||ov(e)?e:void 0,animate:ov(n)?n:void 0}}return i.inherit!==!1?t:{}}function RY(i){const{initial:t,animate:e}=CY(i,et.useContext(SS));return et.useMemo(()=>({initial:t,animate:e}),[y3(t),y3(e)])}function y3(i){return Array.isArray(i)?i.join(" "):i}const lv={};function DY(i){for(const t in i)lv[t]=i[t],JA(t)&&(lv[t].isCSSVariable=!0)}function x4(i,{layout:t,layoutId:e}){return Am.has(i)||i.startsWith("origin")||(t||e!==void 0)&&(!!lv[i]||i==="opacity")}const NY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OY=Em.length;function UY(i,t,e){let n="",a=!0;for(let s=0;s<OY;s++){const o=Em[s],u=i[o];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(o.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||e){const p=u4(u,u2[o]);if(!h){a=!1;const m=NY[o]||o;n+=`${m}(${p}) `}e&&(t[o]=p)}}return n=n.trim(),e?n=e(t,a?"":n):a&&(n="none"),n}function m2(i,t,e){const{style:n,vars:a,transformOrigin:s}=i;let o=!1,u=!1;for(const h in t){const p=t[h];if(Am.has(h)){o=!0;continue}else if(JA(h)){a[h]=p;continue}else{const m=u4(p,u2[h]);h.startsWith("origin")?(u=!0,s[h]=m):n[h]=m}}if(t.transform||(o||e?n.transform=UY(t,i.transform,e):n.transform&&(n.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=s;n.transformOrigin=`${h} ${p} ${m}`}}const g2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function S4(i,t,e){for(const n in t)!Ka(t[n])&&!x4(n,e)&&(i[n]=t[n])}function LY({transformTemplate:i},t){return et.useMemo(()=>{const e=g2();return m2(e,t,i),Object.assign({},e.vars,e.style)},[t])}function PY(i,t){const e=i.style||{},n={};return S4(n,e,i),Object.assign(n,LY(i,t)),n}function zY(i,t){const e={},n=PY(i,t);return i.drag&&i.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(e.tabIndex=0),e.style=n,e}const BY={offset:"stroke-dashoffset",array:"stroke-dasharray"},IY={offset:"strokeDashoffset",array:"strokeDasharray"};function FY(i,t,e=1,n=0,a=!0){i.pathLength=1;const s=a?BY:IY;i[s.offset]=Ge.transform(-n);const o=Ge.transform(t),u=Ge.transform(e);i[s.array]=`${o} ${u}`}function b4(i,{attrX:t,attrY:e,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:o=0,...u},h,p,m){if(m2(i,u,p),h){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:v,style:_}=i;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=m?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),n!==void 0&&(v.scale=n),a!==void 0&&FY(v,a,s,o,!1)}const M4=()=>({...g2(),attrs:{}}),T4=i=>typeof i=="string"&&i.toLowerCase()==="svg";function VY(i,t,e,n){const a=et.useMemo(()=>{const s=M4();return b4(s,t,T4(n),i.transformTemplate,i.style),{...s.attrs,style:{...s.style}}},[t]);if(i.style){const s={};S4(s,i.style,i),a.style={...s,...a.style}}return a}const HY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v2(i){return typeof i!="string"||i.includes("-")?!1:!!(HY.indexOf(i)>-1||/[A-Z]/u.test(i))}function GY(i,t,e,{latestValues:n},a,s=!1){const u=(v2(i)?VY:zY)(t,n,a,i),h=wY(t,typeof i=="string",s),p=i!==et.Fragment?{...h,...u,ref:e}:{},{children:m}=t,v=et.useMemo(()=>Ka(m)?m.get():m,[m]);return et.createElement(i,{...p,children:v})}function _3(i){const t=[{},{}];return i?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function y2(i,t,e,n){if(typeof t=="function"){const[a,s]=_3(n);t=t(e!==void 0?e:i.custom,a,s)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[a,s]=_3(n);t=t(e!==void 0?e:i.custom,a,s)}return t}function xx(i){return Ka(i)?i.get():i}function kY({scrapeMotionValuesFromProps:i,createRenderState:t},e,n,a){return{latestValues:XY(e,n,a,i),renderState:t()}}function XY(i,t,e,n){const a={},s=n(i,{});for(const _ in s)a[_]=xx(s[_]);let{initial:o,animate:u}=i;const h=MS(i),p=_4(i);t&&p&&!h&&i.inherit!==!1&&(o===void 0&&(o=t.initial),u===void 0&&(u=t.animate));let m=e?e.initial===!1:!1;m=m||o===!1;const v=m?u:o;if(v&&typeof v!="boolean"&&!bS(v)){const _=Array.isArray(v)?v:[v];for(let x=0;x<_.length;x++){const T=y2(i,_[x]);if(T){const{transitionEnd:A,transition:E,...b}=T;for(const R in b){let D=b[R];if(Array.isArray(D)){const N=m?D.length-1:0;D=D[N]}D!==null&&(a[R]=D)}for(const R in A)a[R]=A[R]}}}return a}const E4=i=>(t,e)=>{const n=et.useContext(SS),a=et.useContext(xS),s=()=>kY(i,t,n,a);return e?s():kA(s)};function _2(i,t,e){const{style:n}=i,a={};for(const s in n)(Ka(n[s])||t.style&&Ka(t.style[s])||x4(s,i)||e?.getValue(s)?.liveStyle!==void 0)&&(a[s]=n[s]);return a}const qY=E4({scrapeMotionValuesFromProps:_2,createRenderState:g2});function A4(i,t,e){const n=_2(i,t,e);for(const a in i)if(Ka(i[a])||Ka(t[a])){const s=Em.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=i[a]}return n}const YY=E4({scrapeMotionValuesFromProps:A4,createRenderState:M4}),jY=Symbol.for("motionComponentSymbol");function Bp(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function WY(i,t,e){return et.useCallback(n=>{n&&i.onMount&&i.onMount(n),t&&(n?t.mount(n):t.unmount()),e&&(typeof e=="function"?e(n):Bp(e)&&(e.current=n))},[t])}const x2=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZY="framerAppearId",w4="data-"+x2(ZY),C4=et.createContext({});function KY(i,t,e,n,a){const{visualElement:s}=et.useContext(SS),o=et.useContext(v4),u=et.useContext(xS),h=et.useContext(h2).reducedMotion,p=et.useRef(null);n=n||o.renderer,!p.current&&n&&(p.current=n(i,{visualState:t,parent:s,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,v=et.useContext(C4);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&QY(p.current,e,a,v);const _=et.useRef(!1);et.useInsertionEffect(()=>{m&&_.current&&m.update(e,u)});const x=e[w4],T=et.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return TL(()=>{m&&(_.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),T.current&&m.animationState&&m.animationState.animateChanges())}),et.useEffect(()=>{m&&(!T.current&&m.animationState&&m.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),T.current=!1),m.enteringChildren=void 0)}),m}function QY(i,t,e,n){const{layoutId:a,layout:s,drag:o,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=t;i.projection=new e(i.latestValues,t["data-framer-portal-id"]?void 0:R4(i.parent)),i.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!o||u&&Bp(u),visualElement:i,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:h,layoutRoot:p})}function R4(i){if(i)return i.options.allowProjection!==!1?i.projection:R4(i.parent)}function HM(i,{forwardMotionProps:t=!1}={},e,n){e&&TY(e);const a=v2(i)?YY:qY;function s(u,h){let p;const m={...et.useContext(h2),...u,layoutId:JY(u)},{isStatic:v}=m,_=RY(u),x=a(u,v);if(!v&&XA){$Y();const T=tj(m);p=T.MeasureLayout,_.visualElement=KY(i,x,m,n,T.ProjectionNode)}return yt.jsxs(SS.Provider,{value:_,children:[p&&_.visualElement?yt.jsx(p,{visualElement:_.visualElement,...m}):null,GY(i,u,WY(x,_.visualElement,h),x,v,t)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=et.forwardRef(s);return o[jY]=i,o}function JY({layoutId:i}){const t=et.useContext(GA).id;return t&&i!==void 0?t+"-"+i:i}function $Y(i,t){et.useContext(v4).strict}function tj(i){const{drag:t,layout:e}=dm;if(!t&&!e)return{};const n={...t,...e};return{MeasureLayout:t?.isEnabled(i)||e?.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function ej(i,t){if(typeof Proxy>"u")return HM;const e=new Map,n=(s,o)=>HM(s,o,i,t),a=(s,o)=>n(s,o);return new Proxy(a,{get:(s,o)=>o==="create"?n:(e.has(o)||e.set(o,HM(o,void 0,i,t)),e.get(o))})}function D4({top:i,left:t,right:e,bottom:n}){return{x:{min:t,max:e},y:{min:i,max:n}}}function nj({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function ij(i,t){if(!t)return i;const e=t({x:i.left,y:i.top}),n=t({x:i.right,y:i.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function GM(i){return i===void 0||i===1}function nE({scale:i,scaleX:t,scaleY:e}){return!GM(i)||!GM(t)||!GM(e)}function Eh(i){return nE(i)||N4(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function N4(i){return x3(i.x)||x3(i.y)}function x3(i){return i&&i!=="0%"}function R1(i,t,e){const n=i-e,a=t*n;return e+a}function S3(i,t,e,n,a){return a!==void 0&&(i=R1(i,a,n)),R1(i,e,n)+t}function iE(i,t=0,e=1,n,a){i.min=S3(i.min,t,e,n,a),i.max=S3(i.max,t,e,n,a)}function O4(i,{x:t,y:e}){iE(i.x,t.translate,t.scale,t.originPoint),iE(i.y,e.translate,e.scale,e.originPoint)}const b3=.999999999999,M3=1.0000000000001;function aj(i,t,e,n=!1){const a=e.length;if(!a)return;t.x=t.y=1;let s,o;for(let u=0;u<a;u++){s=e[u],o=s.projectionDelta;const{visualElement:h}=s.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Fp(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,O4(i,o)),n&&Eh(s.latestValues)&&Fp(i,s.latestValues))}t.x<M3&&t.x>b3&&(t.x=1),t.y<M3&&t.y>b3&&(t.y=1)}function Ip(i,t){i.min=i.min+t,i.max=i.max+t}function T3(i,t,e,n,a=.5){const s=_i(i.min,i.max,a);iE(i,t,e,s,n)}function Fp(i,t){T3(i.x,t.x,t.scaleX,t.scale,t.originX),T3(i.y,t.y,t.scaleY,t.scale,t.originY)}function U4(i,t){return D4(ij(i.getBoundingClientRect(),t))}function sj(i,t,e){const n=U4(i,e),{scroll:a}=t;return a&&(Ip(n.x,a.offset.x),Ip(n.y,a.offset.y)),n}const E3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vp=()=>({x:E3(),y:E3()}),A3=()=>({min:0,max:0}),Ii=()=>({x:A3(),y:A3()}),aE={current:null},L4={current:!1};function rj(){if(L4.current=!0,!!XA)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>aE.current=i.matches;i.addEventListener("change",t),t()}else aE.current=!1}const oj=new WeakMap;function lj(i,t,e){for(const n in t){const a=t[n],s=e[n];if(Ka(a))i.addValue(n,a);else if(Ka(s))i.addValue(n,hm(a,{owner:i}));else if(s!==a)if(i.hasValue(n)){const o=i.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=i.getStaticValue(n);i.addValue(n,hm(o!==void 0?o:a,{owner:i}))}}for(const n in e)t[n]===void 0&&i.removeValue(n);return t}const w3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uj{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=o2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=js.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,ci.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=MS(e),this.isVariantNode=_4(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const _ in v){const x=v[_];h[_]!==void 0&&Ka(x)&&x.set(h[_])}}mount(t){this.current=t,oj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),L4.current||rj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aE.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ef(this.notifyUpdate),ef(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Am.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ci.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in dm){const e=dm[t];if(!e)continue;const{isEnabled:n,Feature:a}=e;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ii()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<w3.length;n++){const a=w3[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,o=t[s];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=lj(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&e!==void 0&&(n=hm(e===null?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(EL(n)||wL(n))?n=parseFloat(n):!vY(n)&&nf.test(e)&&(n=l4(t,e)),this.setBaseTarget(t,Ka(n)?n.get():n)),Ka(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let n;if(typeof e=="string"||typeof e=="object"){const s=y2(this.props,e,this.presenceContext?.custom);s&&(n=s[t])}if(e&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ka(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new ZA),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){c2.render(this.render)}}class P4 extends uj{constructor(){super(...arguments),this.KeyframeResolver=sY}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ka(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function z4(i,{style:t,vars:e},n,a){const s=i.style;let o;for(o in t)s[o]=t[o];a?.applyProjectionStyles(s,n);for(o in e)s.setProperty(o,e[o])}function cj(i){return window.getComputedStyle(i)}class fj extends P4{constructor(){super(...arguments),this.type="html",this.renderInstance=z4}readValueFromInstance(t,e){if(Am.has(e))return this.projection?.isProjecting?ZT(e):Tq(t,e);{const n=cj(t),a=(JA(e)?n.getPropertyValue(e):n[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return U4(t,e)}build(t,e,n){m2(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return _2(t,e,n)}}const B4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hj(i,t,e,n){z4(i,t,void 0,n);for(const a in t.attrs)i.setAttribute(B4.has(a)?a:x2(a),t.attrs[a])}class dj extends P4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ii}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Am.has(e)){const n=o4(e);return n&&n.default||0}return e=B4.has(e)?e:x2(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return A4(t,e,n)}build(t,e,n){b4(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,a){hj(t,e,n,a)}mount(t){this.isSVGTag=T4(t.tagName),super.mount(t)}}const pj=(i,t)=>v2(i)?new dj(t):new fj(t,{allowProjection:i!==et.Fragment});function jp(i,t,e){const n=i.getProps();return y2(n,t,e!==void 0?e:n.custom,i)}const sE=i=>Array.isArray(i);function mj(i,t,e){i.hasValue(t)?i.getValue(t).set(e):i.addValue(t,hm(e))}function gj(i){return sE(i)?i[i.length-1]||0:i}function vj(i,t){const e=jp(i,t);let{transitionEnd:n={},transition:a={},...s}=e||{};s={...s,...n};for(const o in s){const u=gj(s[o]);mj(i,o,u)}}function yj(i){return!!(Ka(i)&&i.add)}function rE(i,t){const e=i.getValue("willChange");if(yj(e))return e.add(t);if(!e&&Pu.WillChange){const n=new Pu.WillChange("auto");i.addValue("willChange",n),n.add(t)}}function I4(i){return i.props[w4]}const _j=i=>i!==null;function xj(i,{repeat:t,repeatType:e="loop"},n){const a=i.filter(_j),s=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[s]}const Sj={type:"spring",stiffness:500,damping:25,restSpeed:10},bj=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),Mj={type:"keyframes",duration:.8},Tj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ej=(i,{keyframes:t})=>t.length>2?Mj:Am.has(i)?i.startsWith("scale")?bj(t[1]):Sj:Tj;function Aj({when:i,delay:t,delayChildren:e,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:u,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const S2=(i,t,e,n={},a,s)=>o=>{const u=l2(n,i)||{},h=u.delay||n.delay||0;let{elapsed:p=0}=n;p=p-Ul(h);const m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-p,onUpdate:_=>{t.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:i,motionValue:t,element:s?void 0:a};Aj(u)||Object.assign(m,Ej(i,m)),m.duration&&(m.duration=Ul(m.duration)),m.repeatDelay&&(m.repeatDelay=Ul(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(tE(m),m.delay===0&&(v=!0)),(Pu.instantAnimations||Pu.skipAnimations)&&(v=!0,tE(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,v&&!s&&t.get()!==void 0){const _=xj(m.keyframes,u);if(_!==void 0){ci.update(()=>{m.onUpdate(_),m.onComplete()});return}}return u.isSync?new r2(m):new jq(m)};function wj({protectedKeys:i,needsAnimating:t},e){const n=i.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,n}function F4(i,t,{delay:e=0,transitionOverride:n,type:a}={}){let{transition:s=i.getDefaultTransition(),transitionEnd:o,...u}=t;n&&(s=n);const h=[],p=a&&i.animationState&&i.animationState.getState()[a];for(const m in u){const v=i.getValue(m,i.latestValues[m]??null),_=u[m];if(_===void 0||p&&wj(p,m))continue;const x={delay:e,...l2(s||{},m)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===T&&!x.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const b=I4(i);if(b){const R=window.MotionHandoffAnimation(b,m,ci);R!==null&&(x.startTime=R,A=!0)}}rE(i,m),v.start(S2(m,v,_,i.shouldReduceMotion&&a4.has(m)?{type:!1}:x,i,A));const E=v.animation;E&&h.push(E)}return o&&Promise.all(h).then(()=>{ci.update(()=>{o&&vj(i,o)})}),h}function V4(i,t,e,n=0,a=1){const s=Array.from(i).sort((p,m)=>p.sortNodePosition(m)).indexOf(t),o=i.size,u=(o-1)*n;return typeof e=="function"?e(s,o):a===1?s*n:u-s*n}function oE(i,t,e={}){const n=jp(i,t,e.type==="exit"?i.presenceContext?.custom:void 0);let{transition:a=i.getDefaultTransition()||{}}=n||{};e.transitionOverride&&(a=e.transitionOverride);const s=n?()=>Promise.all(F4(i,n,e)):()=>Promise.resolve(),o=i.variantChildren&&i.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:v}=a;return Cj(i,t,h,p,m,v,e)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,p]=u==="beforeChildren"?[s,o]:[o,s];return h().then(()=>p())}else return Promise.all([s(),o(e.delay)])}function Cj(i,t,e=0,n=0,a=0,s=1,o){const u=[];for(const h of i.variantChildren)h.notify("AnimationStart",t),u.push(oE(h,t,{...o,delay:e+(typeof n=="function"?0:n)+V4(i.variantChildren,h,n,a,s)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(u)}function Rj(i,t,e={}){i.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>oE(i,s,e));n=Promise.all(a)}else if(typeof t=="string")n=oE(i,t,e);else{const a=typeof t=="function"?jp(i,t,e.custom):t;n=Promise.all(F4(i,a,e))}return n.then(()=>{i.notify("AnimationComplete",t)})}function H4(i,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==i.length)return!1;for(let n=0;n<e;n++)if(t[n]!==i[n])return!1;return!0}const Dj=p2.length;function G4(i){if(!i)return;if(!i.isControllingVariants){const e=i.parent?G4(i.parent)||{}:{};return i.props.initial!==void 0&&(e.initial=i.props.initial),e}const t={};for(let e=0;e<Dj;e++){const n=p2[e],a=i.props[n];(ov(a)||a===!1)&&(t[n]=a)}return t}const Nj=[...d2].reverse(),Oj=d2.length;function Uj(i){return t=>Promise.all(t.map(({animation:e,options:n})=>Rj(i,e,n)))}function Lj(i){let t=Uj(i),e=C3(),n=!0;const a=h=>(p,m)=>{const v=jp(i,m,h==="exit"?i.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:x,...T}=v;p={...p,...T,...x}}return p};function s(h){t=h(i)}function o(h){const{props:p}=i,m=G4(i.parent)||{},v=[],_=new Set;let x={},T=1/0;for(let E=0;E<Oj;E++){const b=Nj[E],R=e[b],D=p[b]!==void 0?p[b]:m[b],N=ov(D),U=b===h?R.isActive:null;U===!1&&(T=E);let P=D===m[b]&&D!==p[b]&&N;if(P&&n&&i.manuallyAnimateOnMount&&(P=!1),R.protectedKeys={...x},!R.isActive&&U===null||!D&&!R.prevProp||bS(D)||typeof D=="boolean")continue;const F=Pj(R.prevProp,D);let V=F||b===h&&R.isActive&&!P&&N||E>T&&N,L=!1;const B=Array.isArray(D)?D:[D];let W=B.reduce(a(b),{});U===!1&&(W={});const{prevResolvedValues:$={}}=R,it={...$,...W},ct=q=>{V=!0,_.has(q)&&(L=!0,_.delete(q)),R.needsAnimating[q]=!0;const j=i.getValue(q);j&&(j.liveStyle=!1)};for(const q in it){const j=W[q],rt=$[q];if(x.hasOwnProperty(q))continue;let k=!1;sE(j)&&sE(rt)?k=!H4(j,rt):k=j!==rt,k?j!=null?ct(q):_.add(q):j!==void 0&&_.has(q)?ct(q):R.protectedKeys[q]=!0}R.prevProp=D,R.prevResolvedValues=W,R.isActive&&(x={...x,...W}),n&&i.blockInitialAnimation&&(V=!1);const ut=P&&F;V&&(!ut||L)&&v.push(...B.map(q=>{const j={type:b};if(typeof q=="string"&&n&&!ut&&i.manuallyAnimateOnMount&&i.parent){const{parent:rt}=i,k=jp(rt,q);if(rt.enteringChildren&&k){const{delayChildren:nt}=k.transition||{};j.delay=V4(rt.enteringChildren,i,nt)}}return{animation:q,options:j}}))}if(_.size){const E={};if(typeof p.initial!="boolean"){const b=jp(i,Array.isArray(p.initial)?p.initial[0]:p.initial);b&&b.transition&&(E.transition=b.transition)}_.forEach(b=>{const R=i.getBaseTarget(b),D=i.getValue(b);D&&(D.liveStyle=!0),E[b]=R??null}),v.push({animation:E})}let A=!!v.length;return n&&(p.initial===!1||p.initial===p.animate)&&!i.manuallyAnimateOnMount&&(A=!1),n=!1,A?t(v):Promise.resolve()}function u(h,p){if(e[h].isActive===p)return Promise.resolve();i.variantChildren?.forEach(v=>v.animationState?.setActive(h,p)),e[h].isActive=p;const m=o(h);for(const v in e)e[v].protectedKeys={};return m}return{animateChanges:o,setActive:u,setAnimateFunction:s,getState:()=>e,reset:()=>{e=C3(),n=!0}}}function Pj(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!H4(t,i):!1}function Sh(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C3(){return{animate:Sh(!0),whileInView:Sh(),whileHover:Sh(),whileTap:Sh(),whileDrag:Sh(),whileFocus:Sh(),exit:Sh()}}class hf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zj extends hf{constructor(t){super(t),t.animationState||(t.animationState=Lj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bS(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Bj=0;class Ij extends hf{constructor(){super(...arguments),this.id=Bj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Fj={animation:{Feature:zj},exit:{Feature:Ij}};function uv(i,t,e,n={passive:!0}){return i.addEventListener(t,e,n),()=>i.removeEventListener(t,e)}function Rv(i){return{point:{x:i.pageX,y:i.pageY}}}const Vj=i=>t=>f2(t)&&i(t,Rv(t));function w0(i,t,e,n){return uv(i,t,Vj(e),n)}const k4=1e-4,Hj=1-k4,Gj=1+k4,X4=.01,kj=0-X4,Xj=0+X4;function Ts(i){return i.max-i.min}function qj(i,t,e){return Math.abs(i-t)<=e}function R3(i,t,e,n=.5){i.origin=n,i.originPoint=_i(t.min,t.max,i.origin),i.scale=Ts(e)/Ts(t),i.translate=_i(e.min,e.max,i.origin)-i.originPoint,(i.scale>=Hj&&i.scale<=Gj||isNaN(i.scale))&&(i.scale=1),(i.translate>=kj&&i.translate<=Xj||isNaN(i.translate))&&(i.translate=0)}function C0(i,t,e,n){R3(i.x,t.x,e.x,n?n.originX:void 0),R3(i.y,t.y,e.y,n?n.originY:void 0)}function D3(i,t,e){i.min=e.min+t.min,i.max=i.min+Ts(t)}function Yj(i,t,e){D3(i.x,t.x,e.x),D3(i.y,t.y,e.y)}function N3(i,t,e){i.min=t.min-e.min,i.max=i.min+Ts(t)}function R0(i,t,e){N3(i.x,t.x,e.x),N3(i.y,t.y,e.y)}function Zr(i){return[i("x"),i("y")]}const q4=({current:i})=>i?i.ownerDocument.defaultView:null,O3=(i,t)=>Math.abs(i-t);function jj(i,t){const e=O3(i.x,t.x),n=O3(i.y,t.y);return Math.sqrt(e**2+n**2)}class Y4{constructor(t,e,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=XM(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,T=jj(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!T)return;const{point:A}=_,{timestamp:E}=Da;this.history.push({...A,timestamp:E});const{onStart:b,onMove:R}=this.handlers;x||(b&&b(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,_)},this.handlePointerMove=(_,x)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=kM(x,this.transformPagePoint),ci.update(this.updatePoint,!0)},this.handlePointerUp=(_,x)=>{this.end();const{onEnd:T,onSessionEnd:A,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=XM(_.type==="pointercancel"?this.lastMoveEventInfo:kM(x,this.transformPagePoint),this.history);this.startEvent&&T&&T(_,b),A&&A(_,b)},!f2(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const u=Rv(t),h=kM(u,this.transformPagePoint),{point:p}=h,{timestamp:m}=Da;this.history=[{...p,timestamp:m}];const{onSessionStart:v}=e;v&&v(t,XM(h,this.history)),this.removeListeners=Av(w0(this.contextWindow,"pointermove",this.handlePointerMove),w0(this.contextWindow,"pointerup",this.handlePointerUp),w0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ef(this.updatePoint)}}function kM(i,t){return t?{point:t(i.point)}:i}function U3(i,t){return{x:i.x-t.x,y:i.y-t.y}}function XM({point:i},t){return{point:i,delta:U3(i,j4(t)),offset:U3(i,Wj(t)),velocity:Zj(t,.1)}}function Wj(i){return i[0]}function j4(i){return i[i.length-1]}function Zj(i,t){if(i.length<2)return{x:0,y:0};let e=i.length-1,n=null;const a=j4(i);for(;e>=0&&(n=i[e],!(a.timestamp-n.timestamp>Ul(t)));)e--;if(!n)return{x:0,y:0};const s=to(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Kj(i,{min:t,max:e},n){return t!==void 0&&i<t?i=n?_i(t,i,n.min):Math.max(i,t):e!==void 0&&i>e&&(i=n?_i(e,i,n.max):Math.min(i,e)),i}function L3(i,t,e){return{min:t!==void 0?i.min+t:void 0,max:e!==void 0?i.max+e-(i.max-i.min):void 0}}function Qj(i,{top:t,left:e,bottom:n,right:a}){return{x:L3(i.x,e,a),y:L3(i.y,t,n)}}function P3(i,t){let e=t.min-i.min,n=t.max-i.max;return t.max-t.min<i.max-i.min&&([e,n]=[n,e]),{min:e,max:n}}function Jj(i,t){return{x:P3(i.x,t.x),y:P3(i.y,t.y)}}function $j(i,t){let e=.5;const n=Ts(i),a=Ts(t);return a>n?e=av(t.min,t.max-n,i.min):n>a&&(e=av(i.min,i.max-a,t.min)),Lu(0,1,e)}function tW(i,t){const e={};return t.min!==void 0&&(e.min=t.min-i.min),t.max!==void 0&&(e.max=t.max-i.min),e}const lE=.35;function eW(i=lE){return i===!1?i=0:i===!0&&(i=lE),{x:z3(i,"left","right"),y:z3(i,"top","bottom")}}function z3(i,t,e){return{min:B3(i,t),max:B3(i,e)}}function B3(i,t){return typeof i=="number"?i:i[t]||0}const nW=new WeakMap;class iW{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ii(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Rv(v).point)},o=(v,_)=>{const{drag:x,dragPropagation:T,onDragStart:A}=this.getProps();if(x&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uY(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zr(b=>{let R=this.getAxisMotionValue(b).get()||0;if(Ll.test(R)){const{projection:D}=this.visualElement;if(D&&D.layout){const N=D.layout.layoutBox[b];N&&(R=Ts(N)*(parseFloat(R)/100))}}this.originPoint[b]=R}),A&&ci.postRender(()=>A(v,_)),rE(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:x,dragDirectionLock:T,onDirectionLock:A,onDrag:E}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:b}=_;if(T&&this.currentDirection===null){this.currentDirection=aW(b),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",_.point,b),this.updateAxis("y",_.point,b),this.visualElement.render(),E&&E(v,_)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Zr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Y4(t,{onSessionStart:s,onStart:o,onMove:u,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:q4(this.visualElement)})}stop(t,e){const n=t||this.latestPointerEvent,a=e||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&ci.postRender(()=>u(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:a}=this.getProps();if(!n||!sx(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Kj(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Bp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Qj(n.layoutBox,t):this.constraints=!1,this.elastic=eW(e),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Zr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=tW(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Bp(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=sj(n,a.root,this.visualElement.getTransformPagePoint());let o=Jj(a.layout.layoutBox,s);if(e){const u=e(nj(o));this.hasMutatedConstraints=!!u,u&&(o=D4(u))}return o}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=Zr(m=>{if(!sx(m,e,this.currentDirection))return;let v=h&&h[m]||{};o&&(v={min:0,max:0});const _=a?200:1e6,x=a?40:1e7,T={type:"inertia",velocity:n?t[m]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...v};return this.startAxisValueAnimation(m,T)});return Promise.all(p).then(u)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return rE(this.visualElement,t),n.start(S2(t,n,0,e,this.visualElement,!1))}stopAnimation(){Zr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zr(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[e];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Zr(e=>{const{drag:n}=this.getProps();if(!sx(e,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(e);if(a&&a.layout){const{min:o,max:u}=a.layout.layoutBox[e];s.set(t[e]-_i(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!Bp(e)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Zr(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const h=u.get();a[o]=$j({min:h,max:h},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zr(o=>{if(!sx(o,t,null))return;const u=this.getAxisMotionValue(o),{min:h,max:p}=this.constraints[o];u.set(_i(h,p,a[o]))})}addListeners(){if(!this.visualElement.current)return;nW.set(this.visualElement,this);const t=this.visualElement.current,e=w0(t,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();Bp(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ci.read(n);const o=uv(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Zr(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())}));return()=>{o(),e(),s(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=lE,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:u}}}function sx(i,t,e){return(t===!0||t===i)&&(e===null||e===i)}function aW(i,t=10){let e=null;return Math.abs(i.y)>t?e="y":Math.abs(i.x)>t&&(e="x"),e}class sW extends hf{constructor(t){super(t),this.removeGroupControls=eo,this.removeListeners=eo,this.controls=new iW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eo}unmount(){this.removeGroupControls(),this.removeListeners()}}const I3=i=>(t,e)=>{i&&ci.postRender(()=>i(t,e))};class rW extends hf{constructor(){super(...arguments),this.removePointerDownListener=eo}onPointerDown(t){this.session=new Y4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q4(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:I3(t),onStart:I3(e),onMove:n,onEnd:(s,o)=>{delete this.session,a&&ci.postRender(()=>a(s,o))}}}mount(){this.removePointerDownListener=w0(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function F3(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const i0={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(Ge.test(i))i=parseFloat(i);else return i;const e=F3(i,t.target.x),n=F3(i,t.target.y);return`${e}% ${n}%`}},oW={correct:(i,{treeScale:t,projectionDelta:e})=>{const n=i,a=nf.parse(i);if(a.length>5)return n;const s=nf.createTransformer(i),o=typeof a[0]!="number"?1:0,u=e.x.scale*t.x,h=e.y.scale*t.y;a[0+o]/=u,a[1+o]/=h;const p=_i(u,h,.5);return typeof a[2+o]=="number"&&(a[2+o]/=p),typeof a[3+o]=="number"&&(a[3+o]/=p),s(a)}};let qM=!1;class lW extends et.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;DY(uW),s&&(e.group&&e.group.add(s),n&&n.register&&a&&n.register(s),qM&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Sx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:a,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,qM=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||ci.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),c2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:a}=t;qM=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function W4(i){const[t,e]=m4(),n=et.useContext(GA);return yt.jsx(lW,{...i,layoutGroup:n,switchLayoutGroup:et.useContext(C4),isPresent:t,safeToRemove:e})}const uW={borderRadius:{...i0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:i0,borderTopRightRadius:i0,borderBottomLeftRadius:i0,borderBottomRightRadius:i0,boxShadow:oW};function cW(i,t,e){const n=Ka(i)?i:hm(i);return n.start(S2("",n,t,e)),n.animation}const fW=(i,t)=>i.depth-t.depth;class hW{constructor(){this.children=[],this.isDirty=!1}add(t){qA(this.children,t),this.isDirty=!0}remove(t){YA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fW),this.isDirty=!1,this.children.forEach(t)}}function dW(i,t){const e=js.now(),n=({timestamp:a})=>{const s=a-e;s>=t&&(ef(n),i(s-t))};return ci.setup(n,!0),()=>ef(n)}const Z4=["TopLeft","TopRight","BottomLeft","BottomRight"],pW=Z4.length,V3=i=>typeof i=="string"?parseFloat(i):i,H3=i=>typeof i=="number"||Ge.test(i);function mW(i,t,e,n,a,s){a?(i.opacity=_i(0,e.opacity??1,gW(n)),i.opacityExit=_i(t.opacity??1,0,vW(n))):s&&(i.opacity=_i(t.opacity??1,e.opacity??1,n));for(let o=0;o<pW;o++){const u=`border${Z4[o]}Radius`;let h=G3(t,u),p=G3(e,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||H3(h)===H3(p)?(i[u]=Math.max(_i(V3(h),V3(p),n),0),(Ll.test(p)||Ll.test(h))&&(i[u]+="%")):i[u]=p}(t.rotate||e.rotate)&&(i.rotate=_i(t.rotate||0,e.rotate||0,n))}function G3(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const gW=K4(0,.5,PL),vW=K4(.5,.95,eo);function K4(i,t,e){return n=>n<i?0:n>t?1:e(av(i,t,n))}function k3(i,t){i.min=t.min,i.max=t.max}function Yr(i,t){k3(i.x,t.x),k3(i.y,t.y)}function X3(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function q3(i,t,e,n,a){return i-=t,i=R1(i,1/e,n),a!==void 0&&(i=R1(i,1/a,n)),i}function yW(i,t=0,e=1,n=.5,a,s=i,o=i){if(Ll.test(t)&&(t=parseFloat(t),t=_i(o.min,o.max,t/100)-o.min),typeof t!="number")return;let u=_i(s.min,s.max,n);i===s&&(u-=t),i.min=q3(i.min,t,e,u,a),i.max=q3(i.max,t,e,u,a)}function Y3(i,t,[e,n,a],s,o){yW(i,t[e],t[n],t[a],t.scale,s,o)}const _W=["x","scaleX","originX"],xW=["y","scaleY","originY"];function j3(i,t,e,n){Y3(i.x,t,_W,e?e.x:void 0,n?n.x:void 0),Y3(i.y,t,xW,e?e.y:void 0,n?n.y:void 0)}function W3(i){return i.translate===0&&i.scale===1}function Q4(i){return W3(i.x)&&W3(i.y)}function Z3(i,t){return i.min===t.min&&i.max===t.max}function SW(i,t){return Z3(i.x,t.x)&&Z3(i.y,t.y)}function K3(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function J4(i,t){return K3(i.x,t.x)&&K3(i.y,t.y)}function Q3(i){return Ts(i.x)/Ts(i.y)}function J3(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class bW{constructor(){this.members=[]}add(t){qA(this.members,t),t.scheduleRender()}remove(t){if(YA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let n;for(let a=e;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MW(i,t,e){let n="";const a=i.x.translate/t.x,s=i.y.translate/t.y,o=e?.z||0;if((a||s||o)&&(n=`translate3d(${a}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:_,skewX:x,skewY:T}=e;p&&(n=`perspective(${p}px) ${n}`),m&&(n+=`rotate(${m}deg) `),v&&(n+=`rotateX(${v}deg) `),_&&(n+=`rotateY(${_}deg) `),x&&(n+=`skewX(${x}deg) `),T&&(n+=`skewY(${T}deg) `)}const u=i.x.scale*t.x,h=i.y.scale*t.y;return(u!==1||h!==1)&&(n+=`scale(${u}, ${h})`),n||"none"}const YM=["","X","Y","Z"],TW=1e3;let EW=0;function jM(i,t,e,n){const{latestValues:a}=t;a[i]&&(e[i]=a[i],t.setStaticValue(i,0),n&&(n[i]=0))}function $4(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const e=I4(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:s}=i.options;window.MotionCancelOptimisedAnimation(e,"transform",ci,!(a||s))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&$4(n)}function tP({attachResizeListener:i,defaultParent:t,measureScroll:e,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},u=t?.()){this.id=EW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CW),this.nodes.forEach(OW),this.nodes.forEach(UW),this.nodes.forEach(RW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new hW)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ZA),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const h=this.eventHandlers.get(o);h&&h.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=p4(o)&&!mY(o),this.instance=o;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),i){let m,v=0;const _=()=>this.root.updateBlockedByResize=!1;ci.read(()=>{v=window.innerWidth}),i(o,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,m&&m(),m=dW(_,250),Sx.hasAnimatedSinceResize&&(Sx.hasAnimatedSinceResize=!1,this.nodes.forEach(eD)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||p.getDefaultTransition()||IW,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=p.getProps(),b=!this.targetLayout||!J4(this.targetLayout,x),R=!v&&_;if(this.options.layoutRoot||this.resumeFrom||R||v&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...l2(T,"layout"),onPlay:A,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(m,R)}else v||eD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ef(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NW),this.nodes.forEach(AW),this.nodes.forEach(wW)):this.nodes.forEach(tD),this.clearAllSnapshots();const u=js.now();Da.delta=Lu(0,1e3/60,u-Da.timestamp),Da.timestamp=u,Da.isProcessing=!0,PM.update.process(Da),PM.preRender.process(Da),PM.render.process(Da),Da.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,c2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DW),this.sharedNodes.forEach(PW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ci.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ci.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ts(this.snapshot.measuredBox.x)&&!Ts(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ii(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Q4(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;o&&this.instance&&(u||Eh(this.latestValues)||m)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return o&&(h=this.removeTransform(h)),FW(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ii();const u=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(VW))){const{scroll:p}=this.root;p&&(Ip(u.x,p.offset.x),Ip(u.y,p.offset.y))}return u}removeElementScroll(o){const u=Ii();if(Yr(u,o),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:v}=p;p!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&Yr(u,o),Ip(u.x,m.offset.x),Ip(u.y,m.offset.y))}return u}applyTransform(o,u=!1){const h=Ii();Yr(h,o);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Fp(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Eh(m.latestValues)&&Fp(h,m.latestValues)}return Eh(this.latestValues)&&Fp(h,this.latestValues),h}removeTransform(o){const u=Ii();Yr(u,o);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Eh(p.latestValues))continue;nE(p.latestValues)&&p.updateSnapshot();const m=Ii(),v=p.measurePageBox();Yr(m,v),j3(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Eh(this.latestValues)&&j3(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Da.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=Da.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ii(),this.relativeTargetOrigin=Ii(),R0(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ii(),this.targetWithTransforms=Ii()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yr(this.target,this.layout.layoutBox),O4(this.target,this.targetDelta)):Yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ii(),this.relativeTargetOrigin=Ii(),R0(this.relativeTargetOrigin,this.target,_.target),Yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nE(this.parent.latestValues)||N4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),u=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Da.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Yr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;aj(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ii());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X3(this.prevProjectionDelta.x,this.projectionDelta.x),X3(this.prevProjectionDelta.y,this.projectionDelta.y)),C0(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!J3(this.projectionDelta.x,this.prevProjectionDelta.x)||!J3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vp(),this.projectionDelta=Vp(),this.projectionDeltaWithTransform=Vp()}setAnimationOrigin(o,u=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},v=Vp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=Ii(),x=h?h.source:void 0,T=this.layout?this.layout.source:void 0,A=x!==T,E=this.getStack(),b=!E||E.members.length<=1,R=!!(A&&!b&&this.options.crossfade===!0&&!this.path.some(BW));this.animationProgress=0;let D;this.mixTargetDelta=N=>{const U=N/1e3;nD(v.x,o.x,U),nD(v.y,o.y,U),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(R0(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zW(this.relativeTarget,this.relativeTargetOrigin,_,U),D&&SW(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Ii()),Yr(D,this.relativeTarget)),A&&(this.animationValues=m,mW(m,p,this.latestValues,U,R,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ef(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ci.update(()=>{Sx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hm(0)),this.currentAnimation=cW(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:m}=o;if(!(!u||!h||!p)){if(this!==o&&this.layout&&p&&eP(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Ii();const v=Ts(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+v;const _=Ts(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+_}Yr(u,h),Fp(u,m),C0(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new bW),this.sharedNodes.get(o).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:h}=o;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&jM("z",o,p,this.animationValues);for(let m=0;m<YM.length;m++)jM(`rotate${YM[m]}`,o,p,this.animationValues),jM(`skew${YM[m]}`,o,p,this.animationValues);o.render();for(const m in p)o.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);o.scheduleRender()}applyProjectionStyles(o,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=xx(u?.pointerEvents)||"",o.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=xx(u?.pointerEvents)||""),this.hasProjected&&!Eh(this.latestValues)&&(o.transform=h?h({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=MW(this.projectionDeltaWithTransform,this.treeScale,m);h&&(v=h(m,v)),o.transform=v;const{x:_,y:x}=this.projectionDelta;o.transformOrigin=`${_.origin*100}% ${x.origin*100}% 0`,p.animationValues?o.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in lv){if(m[T]===void 0)continue;const{correct:A,applyTo:E,isCSSVariable:b}=lv[T],R=v==="none"?m[T]:A(m[T],p);if(E){const D=E.length;for(let N=0;N<D;N++)o[E[N]]=R}else b?this.options.visualElement.renderState.vars[T]=R:o[T]=R}this.options.layoutId&&(o.pointerEvents=p===this?xx(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach($3),this.root.sharedNodes.clear()}}}function AW(i){i.updateLayout()}function wW(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:n}=i.layout,{animationType:a}=i.options,s=t.source!==i.layout.source;a==="size"?Zr(m=>{const v=s?t.measuredBox[m]:t.layoutBox[m],_=Ts(v);v.min=e[m].min,v.max=v.min+_}):eP(a,t.layoutBox,e)&&Zr(m=>{const v=s?t.measuredBox[m]:t.layoutBox[m],_=Ts(e[m]);v.max=v.min+_,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[m].max=i.relativeTarget[m].min+_)});const o=Vp();C0(o,e,t.layoutBox);const u=Vp();s?C0(u,i.applyTransform(n,!0),t.measuredBox):C0(u,e,t.layoutBox);const h=!Q4(o);let p=!1;if(!i.resumeFrom){const m=i.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:_}=m;if(v&&_){const x=Ii();R0(x,t.layoutBox,v.layoutBox);const T=Ii();R0(T,e,_.layoutBox),J4(x,T)||(p=!0),m.options.layoutRoot&&(i.relativeTarget=T,i.relativeTargetOrigin=x,i.relativeParent=m)}}}i.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:o,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(i.isLead()){const{onExitComplete:e}=i.options;e&&e()}i.options.transition=void 0}function CW(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function RW(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function DW(i){i.clearSnapshot()}function $3(i){i.clearMeasurements()}function tD(i){i.isLayoutDirty=!1}function NW(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function eD(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function OW(i){i.resolveTargetDelta()}function UW(i){i.calcProjection()}function LW(i){i.resetSkewAndRotation()}function PW(i){i.removeLeadSnapshot()}function nD(i,t,e){i.translate=_i(t.translate,0,e),i.scale=_i(t.scale,1,e),i.origin=t.origin,i.originPoint=t.originPoint}function iD(i,t,e,n){i.min=_i(t.min,e.min,n),i.max=_i(t.max,e.max,n)}function zW(i,t,e,n){iD(i.x,t.x,e.x,n),iD(i.y,t.y,e.y,n)}function BW(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const IW={duration:.45,ease:[.4,0,.1,1]},aD=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),sD=aD("applewebkit/")&&!aD("chrome/")?Math.round:eo;function rD(i){i.min=sD(i.min),i.max=sD(i.max)}function FW(i){rD(i.x),rD(i.y)}function eP(i,t,e){return i==="position"||i==="preserve-aspect"&&!qj(Q3(t),Q3(e),.2)}function VW(i){return i!==i.root&&i.scroll?.wasRoot}const HW=tP({attachResizeListener:(i,t)=>uv(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),WM={current:void 0},nP=tP({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!WM.current){const i=new HW({});i.mount(window),i.setOptions({layoutScroll:!0}),WM.current=i}return WM.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),GW={pan:{Feature:rW},drag:{Feature:sW,ProjectionNode:nP,MeasureLayout:W4}};function oD(i,t,e){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,s=n[a];s&&ci.postRender(()=>s(t,Rv(t)))}class kW extends hf{mount(){const{current:t}=this.node;t&&(this.unmount=cY(t,(e,n)=>(oD(this.node,n,"Start"),a=>oD(this.node,a,"End"))))}unmount(){}}class XW extends hf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Av(uv(this.node.current,"focus",()=>this.onFocus()),uv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lD(i,t,e){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),s=n[a];s&&ci.postRender(()=>s(t,Rv(t)))}class qW extends hf{mount(){const{current:t}=this.node;t&&(this.unmount=pY(t,(e,n)=>(lD(this.node,n,"Start"),(a,{success:s})=>lD(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uE=new WeakMap,ZM=new WeakMap,YW=i=>{const t=uE.get(i.target);t&&t(i)},jW=i=>{i.forEach(YW)};function WW({root:i,...t}){const e=i||document;ZM.has(e)||ZM.set(e,{});const n=ZM.get(e),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(jW,{root:i,...t})),n[a]}function ZW(i,t,e){const n=WW(t);return uE.set(i,e),n.observe(i),()=>{uE.delete(i),n.unobserve(i)}}const KW={some:0,all:1};class QW extends hf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:a="some",once:s}=t,o={root:e?e.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:KW[a]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,s&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),_=p?m:v;_&&_(h)};return ZW(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(JW(t,e))&&this.startObserver()}unmount(){}}function JW({viewport:i={}},{viewport:t={}}={}){return e=>i[e]!==t[e]}const $W={inView:{Feature:QW},tap:{Feature:qW},focus:{Feature:XW},hover:{Feature:kW}},tZ={layout:{ProjectionNode:nP,MeasureLayout:W4}},eZ={...Fj,...$W,...GW,...tZ},Hp=ej(eZ,pj);function nZ({content:i,selectedId:t}){const e=i.find(a=>a.id===t),n={1:"/personalpage/assets/mercurio.jpg",2:"/personalpage/assets/venere.jpg",3:"/personalpage/assets/earth.jpg",4:"/personalpage/assets/moon.jpg",5:"/personalpage/assets/mars.jpg"};return yt.jsx("div",{className:"tb01",children:yt.jsxs("div",{className:" tb02 ",children:[yt.jsx("div",{className:" mainTabletContent",children:yt.jsx(g4,{mode:"wait",children:e?yt.jsxs(yt.Fragment,{children:[yt.jsx(Hp.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:2,ease:"easeInOut"},style:{position:"relative"},children:yt.jsxs(AT,{camera:{position:[0,0,5]},className:"canvasTwo",children:[yt.jsx("ambientLight",{intensity:3.7}),yt.jsx("pointLight",{position:[10,10,10]}),yt.jsx(GT,{size:1.2,position:[-.2,1,1],textureUrl:n[t]||"/personalpage/assets/earth.jpg"})]})},e.id),yt.jsx(rk,{className:"textDisplayTablet",title:e.title,text:e.items})]}):yt.jsx(yt.Fragment,{children:yt.jsx(Hp.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6},style:{position:"relative"},children:yt.jsxs(AT,{camera:{position:[0,0,5]},className:"canvasTwo",children:[yt.jsx("ambientLight",{intensity:3.7}),yt.jsx("pointLight",{position:[10,10,10]}),yt.jsx(GT,{size:1.2,position:[-.2,1,1],textureUrl:n[t]||"/personalpage/assets/earth.jpg"})]})},"default")})})}),yt.jsx("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 w-10 h-1 rounded-full bg-gray-700 shadow-inner sm:hidden"}),yt.jsx("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 w-3 h-3 rounded-full bg-gray-700 sm:hidden"}),yt.jsx("div",{className:"absolute left-0 top-1/4 w-1 h-16 rounded-r-full bg-gray-700 sm:hidden"}),yt.jsx("div",{className:"absolute right-0 top-1/4 w-1 h-16 rounded-l-full bg-gray-700 sm:hidden"}),yt.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 rounded-full bg-gray-700 hidden sm:block"})," ",yt.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-1 h-10 rounded-full bg-gray-700 hidden sm:block"})," ",yt.jsx("div",{className:"absolute top-0 left-1/4 w-16 h-1 rounded-b-full bg-gray-700 hidden sm:block"})," ",yt.jsx("div",{className:"absolute bottom-0 left-1/4 w-16 h-1 rounded-t-full bg-gray-700 hidden sm:block"})," "]})})}/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function cE(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=Array(t);e<t;e++)n[e]=i[e];return n}function iZ(i){if(Array.isArray(i))return i}function aZ(i){if(Array.isArray(i))return cE(i)}function sZ(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function rZ(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,iP(n.key),n)}}function oZ(i,t,e){return t&&rZ(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function bx(i,t){var e=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!e){if(Array.isArray(i)||(e=b2(i))||t){e&&(i=e);var n=0,a=function(){};return{s:a,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(h){throw h},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,u=!1;return{s:function(){e=e.call(i)},n:function(){var h=e.next();return o=h.done,h},e:function(h){u=!0,s=h},f:function(){try{o||e.return==null||e.return()}finally{if(u)throw s}}}}function yn(i,t,e){return(t=iP(t))in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function lZ(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function uZ(i,t){var e=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var n,a,s,o,u=[],h=!0,p=!1;try{if(s=(e=e.call(i)).next,t===0){if(Object(e)!==e)return;h=!1}else for(;!(h=(n=s.call(e)).done)&&(u.push(n.value),u.length!==t);h=!0);}catch(m){p=!0,a=m}finally{try{if(!h&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(p)throw a}}return u}}function cZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uD(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),e.push.apply(e,n)}return e}function Jt(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(e),!0).forEach(function(n){yn(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):uD(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function TS(i,t){return iZ(i)||uZ(i,t)||b2(i,t)||cZ()}function Fo(i){return aZ(i)||lZ(i)||b2(i)||fZ()}function hZ(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function iP(i){var t=hZ(i,"string");return typeof t=="symbol"?t:t+""}function D1(i){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(i)}function b2(i,t){if(i){if(typeof i=="string")return cE(i,t);var e={}.toString.call(i).slice(8,-1);return e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set"?Array.from(i):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?cE(i,t):void 0}}var cD=function(){},M2={},aP={},sP=null,rP={mark:cD,measure:cD};try{typeof window<"u"&&(M2=window),typeof document<"u"&&(aP=document),typeof MutationObserver<"u"&&(sP=MutationObserver),typeof performance<"u"&&(rP=performance)}catch{}var dZ=M2.navigator||{},fD=dZ.userAgent,hD=fD===void 0?"":fD,af=M2,ii=aP,dD=sP,rx=rP;af.document;var Fu=!!ii.documentElement&&!!ii.head&&typeof ii.addEventListener=="function"&&typeof ii.createElement=="function",oP=~hD.indexOf("MSIE")||~hD.indexOf("Trident/"),KM,pZ=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,mZ=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Slab Press|Slab|Whiteboard)?.*/i,lP={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"}},gZ={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},uP=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],La="classic",Dv="duotone",cP="sharp",fP="sharp-duotone",hP="chisel",dP="etch",pP="jelly",mP="jelly-duo",gP="jelly-fill",vP="notdog",yP="notdog-duo",_P="slab",xP="slab-press",SP="thumbprint",bP="whiteboard",vZ="Classic",yZ="Duotone",_Z="Sharp",xZ="Sharp Duotone",SZ="Chisel",bZ="Etch",MZ="Jelly",TZ="Jelly Duo",EZ="Jelly Fill",AZ="Notdog",wZ="Notdog Duo",CZ="Slab",RZ="Slab Press",DZ="Thumbprint",NZ="Whiteboard",MP=[La,Dv,cP,fP,hP,dP,pP,mP,gP,vP,yP,_P,xP,SP,bP];KM={},yn(yn(yn(yn(yn(yn(yn(yn(yn(yn(KM,La,vZ),Dv,yZ),cP,_Z),fP,xZ),hP,SZ),dP,bZ),pP,MZ),mP,TZ),gP,EZ),vP,AZ),yn(yn(yn(yn(yn(KM,yP,wZ),_P,CZ),xP,RZ),SP,DZ),bP,NZ);var OZ={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"}},UZ={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"}},LZ=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),PZ={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},whiteboard:{semibold:"fawsb"}},TP=["fak","fa-kit","fakd","fa-kit-duotone"],pD={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},zZ=["kit"],BZ="kit",IZ="kit-duotone",FZ="Kit",VZ="Kit Duotone";yn(yn({},BZ,FZ),IZ,VZ);var HZ={kit:{"fa-kit":"fak"}},GZ={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},kZ={kit:{fak:"fa-kit"}},mD={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},QM,ox={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},XZ=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],qZ="classic",YZ="duotone",jZ="sharp",WZ="sharp-duotone",ZZ="chisel",KZ="etch",QZ="jelly",JZ="jelly-duo",$Z="jelly-fill",tK="notdog",eK="notdog-duo",nK="slab",iK="slab-press",aK="thumbprint",sK="whiteboard",rK="Classic",oK="Duotone",lK="Sharp",uK="Sharp Duotone",cK="Chisel",fK="Etch",hK="Jelly",dK="Jelly Duo",pK="Jelly Fill",mK="Notdog",gK="Notdog Duo",vK="Slab",yK="Slab Press",_K="Thumbprint",xK="Whiteboard";QM={},yn(yn(yn(yn(yn(yn(yn(yn(yn(yn(QM,qZ,rK),YZ,oK),jZ,lK),WZ,uK),ZZ,cK),KZ,fK),QZ,hK),JZ,dK),$Z,pK),tK,mK),yn(yn(yn(yn(yn(QM,eK,gK),nK,vK),iK,yK),aK,_K),sK,xK);var SK="kit",bK="kit-duotone",MK="Kit",TK="Kit Duotone";yn(yn({},SK,MK),bK,TK);var EK={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"}},AK={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"]},fE={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"}},wK=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],EP=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr"].concat(XZ,wK),CK=["solid","regular","light","thin","duotone","brands","semibold"],AP=[1,2,3,4,5,6,7,8,9,10],RK=AP.concat([11,12,13,14,15,16,17,18,19,20]),DK=["aw","fw","pull-left","pull-right"],NK=[].concat(Fo(Object.keys(AK)),CK,DK,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",ox.GROUP,ox.SWAP_OPACITY,ox.PRIMARY,ox.SECONDARY]).concat(AP.map(function(i){return"".concat(i,"x")})).concat(RK.map(function(i){return"w-".concat(i)})),OK={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},zu="___FONT_AWESOME___",hE=16,wP="fa",CP="svg-inline--fa",Zh="data-fa-i2svg",dE="data-fa-pseudo-element",UK="data-fa-pseudo-element-pending",T2="data-prefix",E2="data-icon",gD="fontawesome-i2svg",LK="async",PK=["HTML","HEAD","STYLE","SCRIPT"],RP=["::before","::after",":before",":after"],DP=(function(){try{return!0}catch{return!1}})();function Nv(i){return new Proxy(i,{get:function(e,n){return n in e?e[n]:e[La]}})}var NP=Jt({},lP);NP[La]=Jt(Jt(Jt(Jt({},{"fa-duotone":"duotone"}),lP[La]),pD.kit),pD["kit-duotone"]);var zK=Nv(NP),pE=Jt({},PZ);pE[La]=Jt(Jt(Jt(Jt({},{duotone:"fad"}),pE[La]),mD.kit),mD["kit-duotone"]);var vD=Nv(pE),mE=Jt({},fE);mE[La]=Jt(Jt({},mE[La]),kZ.kit);var A2=Nv(mE),gE=Jt({},EK);gE[La]=Jt(Jt({},gE[La]),HZ.kit);Nv(gE);var BK=pZ,OP="fa-layers-text",IK=mZ,FK=Jt({},OZ);Nv(FK);var VK=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],JM=gZ,HK=[].concat(Fo(zZ),Fo(NK)),D0=af.FontAwesomeConfig||{};function GK(i){var t=ii.querySelector("script["+i+"]");if(t)return t.getAttribute(i)}function kK(i){return i===""?!0:i==="false"?!1:i==="true"?!0:i}if(ii&&typeof ii.querySelector=="function"){var XK=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];XK.forEach(function(i){var t=TS(i,2),e=t[0],n=t[1],a=kK(GK(e));a!=null&&(D0[n]=a)})}var UP={styleDefault:"solid",familyDefault:La,cssPrefix:wP,replacementClass:CP,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};D0.familyPrefix&&(D0.cssPrefix=D0.familyPrefix);var pm=Jt(Jt({},UP),D0);pm.autoReplaceSvg||(pm.observeMutations=!1);var Re={};Object.keys(UP).forEach(function(i){Object.defineProperty(Re,i,{enumerable:!0,set:function(e){pm[i]=e,N0.forEach(function(n){return n(Re)})},get:function(){return pm[i]}})});Object.defineProperty(Re,"familyPrefix",{enumerable:!0,set:function(t){pm.cssPrefix=t,N0.forEach(function(e){return e(Re)})},get:function(){return pm.cssPrefix}});af.FontAwesomeConfig=Re;var N0=[];function qK(i){return N0.push(i),function(){N0.splice(N0.indexOf(i),1)}}var Cp=hE,Dl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function YK(i){if(!(!i||!Fu)){var t=ii.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=i;for(var e=ii.head.childNodes,n=null,a=e.length-1;a>-1;a--){var s=e[a],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(n=s)}return ii.head.insertBefore(t,n),i}}var jK="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function yD(){for(var i=12,t="";i-- >0;)t+=jK[Math.random()*62|0];return t}function wm(i){for(var t=[],e=(i||[]).length>>>0;e--;)t[e]=i[e];return t}function w2(i){return i.classList?wm(i.classList):(i.getAttribute("class")||"").split(" ").filter(function(t){return t})}function LP(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function WK(i){return Object.keys(i||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(LP(i[e]),'" ')},"").trim()}function ES(i){return Object.keys(i||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(i[e].trim(),";")},"")}function C2(i){return i.size!==Dl.size||i.x!==Dl.x||i.y!==Dl.y||i.rotate!==Dl.rotate||i.flipX||i.flipY}function ZK(i){var t=i.transform,e=i.containerWidth,n=i.iconWidth,a={transform:"translate(".concat(e/2," 256)")},s="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)"),h={transform:"".concat(s," ").concat(o," ").concat(u)},p={transform:"translate(".concat(n/2*-1," -256)")};return{outer:a,inner:h,path:p}}function KK(i){var t=i.transform,e=i.width,n=e===void 0?hE:e,a=i.height,s=a===void 0?hE:a,o="";return oP?o+="translate(".concat(t.x/Cp-n/2,"em, ").concat(t.y/Cp-s/2,"em) "):o+="translate(calc(-50% + ".concat(t.x/Cp,"em), calc(-50% + ").concat(t.y/Cp,"em)) "),o+="scale(".concat(t.size/Cp*(t.flipX?-1:1),", ").concat(t.size/Cp*(t.flipY?-1:1),") "),o+="rotate(".concat(t.rotate,"deg) "),o}var QK=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function PP(){var i=wP,t=CP,e=Re.cssPrefix,n=Re.replacementClass,a=QK;if(e!==i||n!==t){var s=new RegExp("\\.".concat(i,"\\-"),"g"),o=new RegExp("\\--".concat(i,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");a=a.replace(s,".".concat(e,"-")).replace(o,"--".concat(e,"-")).replace(u,".".concat(n))}return a}var _D=!1;function $M(){Re.autoAddCss&&!_D&&(YK(PP()),_D=!0)}var JK={mixout:function(){return{dom:{css:PP,insertCss:$M}}},hooks:function(){return{beforeDOMElementCreation:function(){$M()},beforeI2svg:function(){$M()}}}},Bu=af||{};Bu[zu]||(Bu[zu]={});Bu[zu].styles||(Bu[zu].styles={});Bu[zu].hooks||(Bu[zu].hooks={});Bu[zu].shims||(Bu[zu].shims=[]);var Bo=Bu[zu],zP=[],BP=function(){ii.removeEventListener("DOMContentLoaded",BP),N1=1,zP.map(function(t){return t()})},N1=!1;Fu&&(N1=(ii.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ii.readyState),N1||ii.addEventListener("DOMContentLoaded",BP));function $K(i){Fu&&(N1?setTimeout(i,0):zP.push(i))}function Ov(i){var t=i.tag,e=i.attributes,n=e===void 0?{}:e,a=i.children,s=a===void 0?[]:a;return typeof i=="string"?LP(i):"<".concat(t," ").concat(WK(n),">").concat(s.map(Ov).join(""),"</").concat(t,">")}function xD(i,t,e){if(i&&i[t]&&i[t][e])return{prefix:t,iconName:e,icon:i[t][e]}}var tT=function(t,e,n,a){var s=Object.keys(t),o=s.length,u=e,h,p,m;for(n===void 0?(h=1,m=t[s[0]]):(h=0,m=n);h<o;h++)p=s[h],m=u(m,t[p],p,t);return m};function IP(i){return Fo(i).length!==1?null:i.codePointAt(0).toString(16)}function SD(i){return Object.keys(i).reduce(function(t,e){var n=i[e],a=!!n.icon;return a?t[n.iconName]=n.icon:t[e]=n,t},{})}function vE(i,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.skipHooks,a=n===void 0?!1:n,s=SD(t);typeof Bo.hooks.addPack=="function"&&!a?Bo.hooks.addPack(i,SD(t)):Bo.styles[i]=Jt(Jt({},Bo.styles[i]||{}),s),i==="fas"&&vE("fa",t)}var cv=Bo.styles,tQ=Bo.shims,FP=Object.keys(A2),eQ=FP.reduce(function(i,t){return i[t]=Object.keys(A2[t]),i},{}),R2=null,VP={},HP={},GP={},kP={},XP={};function nQ(i){return~HK.indexOf(i)}function iQ(i,t){var e=t.split("-"),n=e[0],a=e.slice(1).join("-");return n===i&&a!==""&&!nQ(a)?a:null}var qP=function(){var t=function(s){return tT(cv,function(o,u,h){return o[h]=tT(u,s,{}),o},{})};VP=t(function(a,s,o){if(s[3]&&(a[s[3]]=o),s[2]){var u=s[2].filter(function(h){return typeof h=="number"});u.forEach(function(h){a[h.toString(16)]=o})}return a}),HP=t(function(a,s,o){if(a[o]=o,s[2]){var u=s[2].filter(function(h){return typeof h=="string"});u.forEach(function(h){a[h]=o})}return a}),XP=t(function(a,s,o){var u=s[2];return a[o]=o,u.forEach(function(h){a[h]=o}),a});var e="far"in cv||Re.autoFetchSvg,n=tT(tQ,function(a,s){var o=s[0],u=s[1],h=s[2];return u==="far"&&!e&&(u="fas"),typeof o=="string"&&(a.names[o]={prefix:u,iconName:h}),typeof o=="number"&&(a.unicodes[o.toString(16)]={prefix:u,iconName:h}),a},{names:{},unicodes:{}});GP=n.names,kP=n.unicodes,R2=AS(Re.styleDefault,{family:Re.familyDefault})};qK(function(i){R2=AS(i.styleDefault,{family:Re.familyDefault})});qP();function D2(i,t){return(VP[i]||{})[t]}function aQ(i,t){return(HP[i]||{})[t]}function Lh(i,t){return(XP[i]||{})[t]}function YP(i){return GP[i]||{prefix:null,iconName:null}}function sQ(i){var t=kP[i],e=D2("fas",i);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function sf(){return R2}var jP=function(){return{prefix:null,iconName:null,rest:[]}};function rQ(i){var t=La,e=FP.reduce(function(n,a){return n[a]="".concat(Re.cssPrefix,"-").concat(a),n},{});return MP.forEach(function(n){(i.includes(e[n])||i.some(function(a){return eQ[n].includes(a)}))&&(t=n)}),t}function AS(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.family,n=e===void 0?La:e,a=zK[n][i];if(n===Dv&&!i)return"fad";var s=vD[n][i]||vD[n][a],o=i in Bo.styles?i:null,u=s||o||null;return u}function oQ(i){var t=[],e=null;return i.forEach(function(n){var a=iQ(Re.cssPrefix,n);a?e=a:n&&t.push(n)}),{iconName:e,rest:t}}function bD(i){return i.sort().filter(function(t,e,n){return n.indexOf(t)===e})}var MD=EP.concat(TP);function wS(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.skipLookups,n=e===void 0?!1:e,a=null,s=bD(i.filter(function(x){return MD.includes(x)})),o=bD(i.filter(function(x){return!MD.includes(x)})),u=s.filter(function(x){return a=x,!uP.includes(x)}),h=TS(u,1),p=h[0],m=p===void 0?null:p,v=rQ(s),_=Jt(Jt({},oQ(o)),{},{prefix:AS(m,{family:v})});return Jt(Jt(Jt({},_),fQ({values:i,family:v,styles:cv,config:Re,canonical:_,givenPrefix:a})),lQ(n,a,_))}function lQ(i,t,e){var n=e.prefix,a=e.iconName;if(i||!n||!a)return{prefix:n,iconName:a};var s=t==="fa"?YP(a):{},o=Lh(n,a);return a=s.iconName||o||a,n=s.prefix||n,n==="far"&&!cv.far&&cv.fas&&!Re.autoFetchSvg&&(n="fas"),{prefix:n,iconName:a}}var uQ=MP.filter(function(i){return i!==La||i!==Dv}),cQ=Object.keys(fE).filter(function(i){return i!==La}).map(function(i){return Object.keys(fE[i])}).flat();function fQ(i){var t=i.values,e=i.family,n=i.canonical,a=i.givenPrefix,s=a===void 0?"":a,o=i.styles,u=o===void 0?{}:o,h=i.config,p=h===void 0?{}:h,m=e===Dv,v=t.includes("fa-duotone")||t.includes("fad"),_=p.familyDefault==="duotone",x=n.prefix==="fad"||n.prefix==="fa-duotone";if(!m&&(v||_||x)&&(n.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(n.prefix="fab"),!n.prefix&&uQ.includes(e)){var T=Object.keys(u).find(function(E){return cQ.includes(E)});if(T||p.autoFetchSvg){var A=LZ.get(e).defaultShortPrefixId;n.prefix=A,n.iconName=Lh(n.prefix,n.iconName)||n.iconName}}return(n.prefix==="fa"||s==="fa")&&(n.prefix=sf()||"fas"),n}var hQ=(function(){function i(){sZ(this,i),this.definitions={}}return oZ(i,[{key:"add",value:function(){for(var e=this,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(u){e.definitions[u]=Jt(Jt({},e.definitions[u]||{}),o[u]),vE(u,o[u]);var h=A2[La][u];h&&vE(h,o[u]),qP()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,n){var a=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(a).map(function(s){var o=a[s],u=o.prefix,h=o.iconName,p=o.icon,m=p[2];e[u]||(e[u]={}),m.length>0&&m.forEach(function(v){typeof v=="string"&&(e[u][v]=p)}),e[u][h]=p}),e}}])})(),TD=[],Gp={},Wp={},dQ=Object.keys(Wp);function pQ(i,t){var e=t.mixoutsTo;return TD=i,Gp={},Object.keys(Wp).forEach(function(n){dQ.indexOf(n)===-1&&delete Wp[n]}),TD.forEach(function(n){var a=n.mixout?n.mixout():{};if(Object.keys(a).forEach(function(o){typeof a[o]=="function"&&(e[o]=a[o]),D1(a[o])==="object"&&Object.keys(a[o]).forEach(function(u){e[o]||(e[o]={}),e[o][u]=a[o][u]})}),n.hooks){var s=n.hooks();Object.keys(s).forEach(function(o){Gp[o]||(Gp[o]=[]),Gp[o].push(s[o])})}n.provides&&n.provides(Wp)}),e}function yE(i,t){for(var e=arguments.length,n=new Array(e>2?e-2:0),a=2;a<e;a++)n[a-2]=arguments[a];var s=Gp[i]||[];return s.forEach(function(o){t=o.apply(null,[t].concat(n))}),t}function Kh(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var a=Gp[i]||[];a.forEach(function(s){s.apply(null,e)})}function rf(){var i=arguments[0],t=Array.prototype.slice.call(arguments,1);return Wp[i]?Wp[i].apply(null,t):void 0}function _E(i){i.prefix==="fa"&&(i.prefix="fas");var t=i.iconName,e=i.prefix||sf();if(t)return t=Lh(e,t)||t,xD(WP.definitions,e,t)||xD(Bo.styles,e,t)}var WP=new hQ,mQ=function(){Re.autoReplaceSvg=!1,Re.observeMutations=!1,Kh("noAuto")},gQ={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fu?(Kh("beforeI2svg",t),rf("pseudoElements2svg",t),rf("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.autoReplaceSvgRoot;Re.autoReplaceSvg===!1&&(Re.autoReplaceSvg=!0),Re.observeMutations=!0,$K(function(){yQ({autoReplaceSvgRoot:e}),Kh("watch",t)})}},vQ={icon:function(t){if(t===null)return null;if(D1(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Lh(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=AS(t[0]);return{prefix:n,iconName:Lh(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Re.cssPrefix,"-"))>-1||t.match(BK))){var a=wS(t.split(" "),{skipLookups:!0});return{prefix:a.prefix||sf(),iconName:Lh(a.prefix,a.iconName)||a.iconName}}if(typeof t=="string"){var s=sf();return{prefix:s,iconName:Lh(s,t)||t}}}},Er={noAuto:mQ,config:Re,dom:gQ,parse:vQ,library:WP,findIconDefinition:_E,toHtml:Ov},yQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.autoReplaceSvgRoot,n=e===void 0?ii:e;(Object.keys(Bo.styles).length>0||Re.autoFetchSvg)&&Fu&&Re.autoReplaceSvg&&Er.dom.i2svg({node:n})};function CS(i,t){return Object.defineProperty(i,"abstract",{get:t}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(function(n){return Ov(n)})}}),Object.defineProperty(i,"node",{get:function(){if(Fu){var n=ii.createElement("div");return n.innerHTML=i.html,n.children}}}),i}function _Q(i){var t=i.children,e=i.main,n=i.mask,a=i.attributes,s=i.styles,o=i.transform;if(C2(o)&&e.found&&!n.found){var u=e.width,h=e.height,p={x:u/h/2,y:.5};a.style=ES(Jt(Jt({},s),{},{"transform-origin":"".concat(p.x+o.x/16,"em ").concat(p.y+o.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}function xQ(i){var t=i.prefix,e=i.iconName,n=i.children,a=i.attributes,s=i.symbol,o=s===!0?"".concat(t,"-").concat(Re.cssPrefix,"-").concat(e):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Jt(Jt({},a),{},{id:o}),children:n}]}]}function SQ(i){var t=["aria-label","aria-labelledby","title","role"];return t.some(function(e){return e in i})}function N2(i){var t=i.icons,e=t.main,n=t.mask,a=i.prefix,s=i.iconName,o=i.transform,u=i.symbol,h=i.maskId,p=i.extra,m=i.watchable,v=m===void 0?!1:m,_=n.found?n:e,x=_.width,T=_.height,A=[Re.replacementClass,s?"".concat(Re.cssPrefix,"-").concat(s):""].filter(function(U){return p.classes.indexOf(U)===-1}).filter(function(U){return U!==""||!!U}).concat(p.classes).join(" "),E={children:[],attributes:Jt(Jt({},p.attributes),{},{"data-prefix":a,"data-icon":s,class:A,role:p.attributes.role||"img",viewBox:"0 0 ".concat(x," ").concat(T)})};!SQ(p.attributes)&&!p.attributes["aria-hidden"]&&(E.attributes["aria-hidden"]="true"),v&&(E.attributes[Zh]="");var b=Jt(Jt({},E),{},{prefix:a,iconName:s,main:e,mask:n,maskId:h,transform:o,symbol:u,styles:Jt({},p.styles)}),R=n.found&&e.found?rf("generateAbstractMask",b)||{children:[],attributes:{}}:rf("generateAbstractIcon",b)||{children:[],attributes:{}},D=R.children,N=R.attributes;return b.children=D,b.attributes=N,u?xQ(b):_Q(b)}function ED(i){var t=i.content,e=i.width,n=i.height,a=i.transform,s=i.extra,o=i.watchable,u=o===void 0?!1:o,h=Jt(Jt({},s.attributes),{},{class:s.classes.join(" ")});u&&(h[Zh]="");var p=Jt({},s.styles);C2(a)&&(p.transform=KK({transform:a,width:e,height:n}),p["-webkit-transform"]=p.transform);var m=ES(p);m.length>0&&(h.style=m);var v=[];return v.push({tag:"span",attributes:h,children:[t]}),v}function bQ(i){var t=i.content,e=i.extra,n=Jt(Jt({},e.attributes),{},{class:e.classes.join(" ")}),a=ES(e.styles);a.length>0&&(n.style=a);var s=[];return s.push({tag:"span",attributes:n,children:[t]}),s}var eT=Bo.styles;function xE(i){var t=i[0],e=i[1],n=i.slice(4),a=TS(n,1),s=a[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(Re.cssPrefix,"-").concat(JM.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Re.cssPrefix,"-").concat(JM.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Re.cssPrefix,"-").concat(JM.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:t,height:e,icon:o}}var MQ={found:!1,width:512,height:512};function TQ(i,t){!DP&&!Re.showMissingIcons&&i&&console.error('Icon with name "'.concat(i,'" and prefix "').concat(t,'" is missing.'))}function SE(i,t){var e=t;return t==="fa"&&Re.styleDefault!==null&&(t=sf()),new Promise(function(n,a){if(e==="fa"){var s=YP(i)||{};i=s.iconName||i,t=s.prefix||t}if(i&&t&&eT[t]&&eT[t][i]){var o=eT[t][i];return n(xE(o))}TQ(i,t),n(Jt(Jt({},MQ),{},{icon:Re.showMissingIcons&&i?rf("missingIconAbstract")||{}:{}}))})}var AD=function(){},bE=Re.measurePerformance&&rx&&rx.mark&&rx.measure?rx:{mark:AD,measure:AD},c0='FA "7.0.1"',EQ=function(t){return bE.mark("".concat(c0," ").concat(t," begins")),function(){return ZP(t)}},ZP=function(t){bE.mark("".concat(c0," ").concat(t," ends")),bE.measure("".concat(c0," ").concat(t),"".concat(c0," ").concat(t," begins"),"".concat(c0," ").concat(t," ends"))},O2={begin:EQ,end:ZP},Mx=function(){};function wD(i){var t=i.getAttribute?i.getAttribute(Zh):null;return typeof t=="string"}function AQ(i){var t=i.getAttribute?i.getAttribute(T2):null,e=i.getAttribute?i.getAttribute(E2):null;return t&&e}function wQ(i){return i&&i.classList&&i.classList.contains&&i.classList.contains(Re.replacementClass)}function CQ(){if(Re.autoReplaceSvg===!0)return Tx.replace;var i=Tx[Re.autoReplaceSvg];return i||Tx.replace}function RQ(i){return ii.createElementNS("http://www.w3.org/2000/svg",i)}function DQ(i){return ii.createElement(i)}function KP(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.ceFn,n=e===void 0?i.tag==="svg"?RQ:DQ:e;if(typeof i=="string")return ii.createTextNode(i);var a=n(i.tag);Object.keys(i.attributes||[]).forEach(function(o){a.setAttribute(o,i.attributes[o])});var s=i.children||[];return s.forEach(function(o){a.appendChild(KP(o,{ceFn:n}))}),a}function NQ(i){var t=" ".concat(i.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Tx={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(a){e.parentNode.insertBefore(KP(a),e)}),e.getAttribute(Zh)===null&&Re.keepOriginalSource){var n=ii.createComment(NQ(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){var e=t[0],n=t[1];if(~w2(e).indexOf(Re.replacementClass))return Tx.replace(t);var a=new RegExp("".concat(Re.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var s=n[0].attributes.class.split(" ").reduce(function(u,h){return h===Re.replacementClass||h.match(a)?u.toSvg.push(h):u.toNode.push(h),u},{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}var o=n.map(function(u){return Ov(u)}).join(`
`);e.setAttribute(Zh,""),e.innerHTML=o}};function CD(i){i()}function QP(i,t){var e=typeof t=="function"?t:Mx;if(i.length===0)e();else{var n=CD;Re.mutateApproach===LK&&(n=af.requestAnimationFrame||CD),n(function(){var a=CQ(),s=O2.begin("mutate");i.map(a),s(),e()})}}var U2=!1;function JP(){U2=!0}function ME(){U2=!1}var O1=null;function RD(i){if(dD&&Re.observeMutations){var t=i.treeCallback,e=t===void 0?Mx:t,n=i.nodeCallback,a=n===void 0?Mx:n,s=i.pseudoElementsCallback,o=s===void 0?Mx:s,u=i.observeMutationsRoot,h=u===void 0?ii:u;O1=new dD(function(p){if(!U2){var m=sf();wm(p).forEach(function(v){if(v.type==="childList"&&v.addedNodes.length>0&&!wD(v.addedNodes[0])&&(Re.searchPseudoElements&&o(v.target),e(v.target)),v.type==="attributes"&&v.target.parentNode&&Re.searchPseudoElements&&o([v.target],!0),v.type==="attributes"&&wD(v.target)&&~VK.indexOf(v.attributeName))if(v.attributeName==="class"&&AQ(v.target)){var _=wS(w2(v.target)),x=_.prefix,T=_.iconName;v.target.setAttribute(T2,x||m),T&&v.target.setAttribute(E2,T)}else wQ(v.target)&&a(v.target)})}}),Fu&&O1.observe(h,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function OQ(){O1&&O1.disconnect()}function UQ(i){var t=i.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(n,a){var s=a.split(":"),o=s[0],u=s.slice(1);return o&&u.length>0&&(n[o]=u.join(":").trim()),n},{})),e}function LQ(i){var t=i.getAttribute("data-prefix"),e=i.getAttribute("data-icon"),n=i.innerText!==void 0?i.innerText.trim():"",a=wS(w2(i));return a.prefix||(a.prefix=sf()),t&&e&&(a.prefix=t,a.iconName=e),a.iconName&&a.prefix||(a.prefix&&n.length>0&&(a.iconName=aQ(a.prefix,i.innerText)||D2(a.prefix,IP(i.innerText))),!a.iconName&&Re.autoFetchSvg&&i.firstChild&&i.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=i.firstChild.data)),a}function PQ(i){var t=wm(i.attributes).reduce(function(e,n){return e.name!=="class"&&e.name!=="style"&&(e[n.name]=n.value),e},{});return t}function zQ(){return{iconName:null,prefix:null,transform:Dl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function DD(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},e=LQ(i),n=e.iconName,a=e.prefix,s=e.rest,o=PQ(i),u=yE("parseNodeAttributes",{},i),h=t.styleParser?UQ(i):[];return Jt({iconName:n,prefix:a,transform:Dl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:h,attributes:o}},u)}var BQ=Bo.styles;function $P(i){var t=Re.autoReplaceSvg==="nest"?DD(i,{styleParser:!1}):DD(i);return~t.extra.classes.indexOf(OP)?rf("generateLayersText",i,t):rf("generateSvgReplacementMutation",i,t)}function IQ(){return[].concat(Fo(TP),Fo(EP))}function ND(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Fu)return Promise.resolve();var e=ii.documentElement.classList,n=function(v){return e.add("".concat(gD,"-").concat(v))},a=function(v){return e.remove("".concat(gD,"-").concat(v))},s=Re.autoFetchSvg?IQ():uP.concat(Object.keys(BQ));s.includes("fa")||s.push("fa");var o=[".".concat(OP,":not([").concat(Zh,"])")].concat(s.map(function(m){return".".concat(m,":not([").concat(Zh,"])")})).join(", ");if(o.length===0)return Promise.resolve();var u=[];try{u=wm(i.querySelectorAll(o))}catch{}if(u.length>0)n("pending"),a("complete");else return Promise.resolve();var h=O2.begin("onTree"),p=u.reduce(function(m,v){try{var _=$P(v);_&&m.push(_)}catch(x){DP||x.name==="MissingIcon"&&console.error(x)}return m},[]);return new Promise(function(m,v){Promise.all(p).then(function(_){QP(_,function(){n("active"),n("complete"),a("pending"),typeof t=="function"&&t(),h(),m()})}).catch(function(_){h(),v(_)})})}function FQ(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;$P(i).then(function(e){e&&QP([e],t)})}function VQ(i){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=(t||{}).icon?t:_E(t||{}),a=e.mask;return a&&(a=(a||{}).icon?a:_E(a||{})),i(n,Jt(Jt({},e),{},{mask:a}))}}var HQ=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transform,a=n===void 0?Dl:n,s=e.symbol,o=s===void 0?!1:s,u=e.mask,h=u===void 0?null:u,p=e.maskId,m=p===void 0?null:p,v=e.classes,_=v===void 0?[]:v,x=e.attributes,T=x===void 0?{}:x,A=e.styles,E=A===void 0?{}:A;if(t){var b=t.prefix,R=t.iconName,D=t.icon;return CS(Jt({type:"icon"},t),function(){return Kh("beforeDOMElementCreation",{iconDefinition:t,params:e}),N2({icons:{main:xE(D),mask:h?xE(h.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:R,transform:Jt(Jt({},Dl),a),symbol:o,maskId:m,extra:{attributes:T,styles:E,classes:_}})})}},GQ={mixout:function(){return{icon:VQ(HQ)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=ND,e.nodeCallback=FQ,e}}},provides:function(t){t.i2svg=function(e){var n=e.node,a=n===void 0?ii:n,s=e.callback,o=s===void 0?function(){}:s;return ND(a,o)},t.generateSvgReplacementMutation=function(e,n){var a=n.iconName,s=n.prefix,o=n.transform,u=n.symbol,h=n.mask,p=n.maskId,m=n.extra;return new Promise(function(v,_){Promise.all([SE(a,s),h.iconName?SE(h.iconName,h.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(x){var T=TS(x,2),A=T[0],E=T[1];v([e,N2({icons:{main:A,mask:E},prefix:s,iconName:a,transform:o,symbol:u,maskId:p,extra:m,watchable:!0})])}).catch(_)})},t.generateAbstractIcon=function(e){var n=e.children,a=e.attributes,s=e.main,o=e.transform,u=e.styles,h=ES(u);h.length>0&&(a.style=h);var p;return C2(o)&&(p=rf("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),n.push(p||s.icon),{children:n,attributes:a}}}},kQ={mixout:function(){return{layer:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.classes,s=a===void 0?[]:a;return CS({type:"layer"},function(){Kh("beforeDOMElementCreation",{assembler:e,params:n});var o=[];return e(function(u){Array.isArray(u)?u.map(function(h){o=o.concat(h.abstract)}):o=o.concat(u.abstract)}),[{tag:"span",attributes:{class:["".concat(Re.cssPrefix,"-layers")].concat(Fo(s)).join(" ")},children:o}]})}}}},XQ={mixout:function(){return{counter:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n.title;var a=n.classes,s=a===void 0?[]:a,o=n.attributes,u=o===void 0?{}:o,h=n.styles,p=h===void 0?{}:h;return CS({type:"counter",content:e},function(){return Kh("beforeDOMElementCreation",{content:e,params:n}),bQ({content:e.toString(),extra:{attributes:u,styles:p,classes:["".concat(Re.cssPrefix,"-layers-counter")].concat(Fo(s))}})})}}}},qQ={mixout:function(){return{text:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.transform,s=a===void 0?Dl:a,o=n.classes,u=o===void 0?[]:o,h=n.attributes,p=h===void 0?{}:h,m=n.styles,v=m===void 0?{}:m;return CS({type:"text",content:e},function(){return Kh("beforeDOMElementCreation",{content:e,params:n}),ED({content:e,transform:Jt(Jt({},Dl),s),extra:{attributes:p,styles:v,classes:["".concat(Re.cssPrefix,"-layers-text")].concat(Fo(u))}})})}}},provides:function(t){t.generateLayersText=function(e,n){var a=n.transform,s=n.extra,o=null,u=null;if(oP){var h=parseInt(getComputedStyle(e).fontSize,10),p=e.getBoundingClientRect();o=p.width/h,u=p.height/h}return Promise.resolve([e,ED({content:e.innerHTML,width:o,height:u,transform:a,extra:s,watchable:!0})])}}},tz=new RegExp('"',"ug"),OD=[1105920,1112319],UD=Jt(Jt(Jt(Jt({},{FontAwesome:{normal:"fas",400:"fas"}}),UZ),OK),GZ),TE=Object.keys(UD).reduce(function(i,t){return i[t.toLowerCase()]=UD[t],i},{}),YQ=Object.keys(TE).reduce(function(i,t){var e=TE[t];return i[t]=e[900]||Fo(Object.entries(e))[0][1],i},{});function jQ(i){var t=i.replace(tz,"");return IP(Fo(t)[0]||"")}function WQ(i){var t=i.getPropertyValue("font-feature-settings").includes("ss01"),e=i.getPropertyValue("content"),n=e.replace(tz,""),a=n.codePointAt(0),s=a>=OD[0]&&a<=OD[1],o=n.length===2?n[0]===n[1]:!1;return s||o||t}function ZQ(i,t){var e=i.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(t),a=isNaN(n)?"normal":n;return(TE[e]||{})[a]||YQ[e]}function LD(i,t){var e="".concat(UK).concat(t.replace(":","-"));return new Promise(function(n,a){if(i.getAttribute(e)!==null)return n();var s=wm(i.children),o=s.filter(function(P){return P.getAttribute(dE)===t})[0],u=af.getComputedStyle(i,t),h=u.getPropertyValue("font-family"),p=h.match(IK),m=u.getPropertyValue("font-weight"),v=u.getPropertyValue("content");if(o&&!p)return i.removeChild(o),n();if(p&&v!=="none"&&v!==""){var _=u.getPropertyValue("content"),x=ZQ(h,m),T=jQ(_),A=p[0].startsWith("FontAwesome"),E=WQ(u),b=D2(x,T),R=b;if(A){var D=sQ(T);D.iconName&&D.prefix&&(b=D.iconName,x=D.prefix)}if(b&&!E&&(!o||o.getAttribute(T2)!==x||o.getAttribute(E2)!==R)){i.setAttribute(e,R),o&&i.removeChild(o);var N=zQ(),U=N.extra;U.attributes[dE]=t,SE(b,x).then(function(P){var F=N2(Jt(Jt({},N),{},{icons:{main:P,mask:jP()},prefix:x,iconName:R,extra:U,watchable:!0})),V=ii.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?i.insertBefore(V,i.firstChild):i.appendChild(V),V.outerHTML=F.map(function(L){return Ov(L)}).join(`
`),i.removeAttribute(e),n()}).catch(a)}else n()}else n()})}function KQ(i){return Promise.all([LD(i,"::before"),LD(i,"::after")])}function QQ(i){return i.parentNode!==document.head&&!~PK.indexOf(i.tagName.toUpperCase())&&!i.getAttribute(dE)&&(!i.parentNode||i.parentNode.tagName!=="svg")}var JQ=function(t){return!!t&&RP.some(function(e){return t.includes(e)})},$Q=function(t){if(!t)return[];var e=new Set,n=t.split(/,(?![^()]*\))/).map(function(h){return h.trim()});n=n.flatMap(function(h){return h.includes("(")?h:h.split(",").map(function(p){return p.trim()})});var a=bx(n),s;try{for(a.s();!(s=a.n()).done;){var o=s.value;if(JQ(o)){var u=RP.reduce(function(h,p){return h.replace(p,"")},o);u!==""&&u!=="*"&&e.add(u)}}}catch(h){a.e(h)}finally{a.f()}return e};function PD(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Fu){var e;if(t)e=i;else if(Re.searchPseudoElementsFullScan)e=i.querySelectorAll("*");else{var n=new Set,a=bx(document.styleSheets),s;try{for(a.s();!(s=a.n()).done;){var o=s.value;try{var u=bx(o.cssRules),h;try{for(u.s();!(h=u.n()).done;){var p=h.value,m=$Q(p.selectorText),v=bx(m),_;try{for(v.s();!(_=v.n()).done;){var x=_.value;n.add(x)}}catch(A){v.e(A)}finally{v.f()}}}catch(A){u.e(A)}finally{u.f()}}catch(A){Re.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(o.href," (").concat(A.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(A){a.e(A)}finally{a.f()}if(!n.size)return;var T=Array.from(n).join(", ");try{e=i.querySelectorAll(T)}catch{}}return new Promise(function(A,E){var b=wm(e).filter(QQ).map(KQ),R=O2.begin("searchPseudoElements");JP(),Promise.all(b).then(function(){R(),ME(),A()}).catch(function(){R(),ME(),E()})})}}var tJ={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=PD,e}}},provides:function(t){t.pseudoElements2svg=function(e){var n=e.node,a=n===void 0?ii:n;Re.searchPseudoElements&&PD(a)}}},zD=!1,eJ={mixout:function(){return{dom:{unwatch:function(){JP(),zD=!0}}}},hooks:function(){return{bootstrap:function(){RD(yE("mutationObserverCallbacks",{}))},noAuto:function(){OQ()},watch:function(e){var n=e.observeMutationsRoot;zD?ME():RD(yE("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},BD=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(n,a){var s=a.toLowerCase().split("-"),o=s[0],u=s.slice(1).join("-");if(o&&u==="h")return n.flipX=!0,n;if(o&&u==="v")return n.flipY=!0,n;if(u=parseFloat(u),isNaN(u))return n;switch(o){case"grow":n.size=n.size+u;break;case"shrink":n.size=n.size-u;break;case"left":n.x=n.x-u;break;case"right":n.x=n.x+u;break;case"up":n.y=n.y-u;break;case"down":n.y=n.y+u;break;case"rotate":n.rotate=n.rotate+u;break}return n},e)},nJ={mixout:function(){return{parse:{transform:function(e){return BD(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,n){var a=n.getAttribute("data-fa-transform");return a&&(e.transform=BD(a)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var n=e.main,a=e.transform,s=e.containerWidth,o=e.iconWidth,u={transform:"translate(".concat(s/2," 256)")},h="translate(".concat(a.x*32,", ").concat(a.y*32,") "),p="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),m="rotate(".concat(a.rotate," 0 0)"),v={transform:"".concat(h," ").concat(p," ").concat(m)},_={transform:"translate(".concat(o/2*-1," -256)")},x={outer:u,inner:v,path:_};return{tag:"g",attributes:Jt({},x.outer),children:[{tag:"g",attributes:Jt({},x.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:Jt(Jt({},n.icon.attributes),x.path)}]}]}}}},nT={x:0,y:0,width:"100%",height:"100%"};function ID(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i.attributes&&(i.attributes.fill||t)&&(i.attributes.fill="black"),i}function iJ(i){return i.tag==="g"?i.children:[i]}var aJ={hooks:function(){return{parseNodeAttributes:function(e,n){var a=n.getAttribute("data-fa-mask"),s=a?wS(a.split(" ").map(function(o){return o.trim()})):jP();return s.prefix||(s.prefix=sf()),e.mask=s,e.maskId=n.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var n=e.children,a=e.attributes,s=e.main,o=e.mask,u=e.maskId,h=e.transform,p=s.width,m=s.icon,v=o.width,_=o.icon,x=ZK({transform:h,containerWidth:v,iconWidth:p}),T={tag:"rect",attributes:Jt(Jt({},nT),{},{fill:"white"})},A=m.children?{children:m.children.map(ID)}:{},E={tag:"g",attributes:Jt({},x.inner),children:[ID(Jt({tag:m.tag,attributes:Jt(Jt({},m.attributes),x.path)},A))]},b={tag:"g",attributes:Jt({},x.outer),children:[E]},R="mask-".concat(u||yD()),D="clip-".concat(u||yD()),N={tag:"mask",attributes:Jt(Jt({},nT),{},{id:R,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[T,b]},U={tag:"defs",children:[{tag:"clipPath",attributes:{id:D},children:iJ(_)},N]};return n.push(U,{tag:"rect",attributes:Jt({fill:"currentColor","clip-path":"url(#".concat(D,")"),mask:"url(#".concat(R,")")},nT)}),{children:n,attributes:a}}}},sJ={provides:function(t){var e=!1;af.matchMedia&&(e=af.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var n=[],a={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Jt(Jt({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Jt(Jt({},s),{},{attributeName:"opacity"}),u={tag:"circle",attributes:Jt(Jt({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||u.children.push({tag:"animate",attributes:Jt(Jt({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Jt(Jt({},o),{},{values:"1;0;1;1;0;1;"})}),n.push(u),n.push({tag:"path",attributes:Jt(Jt({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Jt(Jt({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:Jt(Jt({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Jt(Jt({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},rJ={hooks:function(){return{parseNodeAttributes:function(e,n){var a=n.getAttribute("data-fa-symbol"),s=a===null?!1:a===""?!0:a;return e.symbol=s,e}}}},oJ=[JK,GQ,kQ,XQ,qQ,tJ,eJ,nJ,aJ,sJ,rJ];pQ(oJ,{mixoutsTo:Er});Er.noAuto;var lJ=Er.config;Er.library;Er.dom;var ez=Er.parse;Er.findIconDefinition;Er.toHtml;var uJ=Er.icon;Er.layer;Er.text;Er.counter;function cJ(i){return i=i-0,i===i}function nz(i){return cJ(i)?i:(i=i.replaceAll(/[_-]+(.)?/g,(t,e)=>e?e.toUpperCase():""),i.charAt(0).toLowerCase()+i.slice(1))}function fJ(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Rp=new Map,hJ=1e3;function dJ(i){if(Rp.has(i))return Rp.get(i);const t={};let e=0;const n=i.length;for(;e<n;){const a=i.indexOf(";",e),s=a===-1?n:a,o=i.slice(e,s).trim();if(o){const u=o.indexOf(":");if(u>0){const h=o.slice(0,u).trim(),p=o.slice(u+1).trim();if(h&&p){const m=nz(h);t[m.startsWith("webkit")?fJ(m):m]=p}}}e=s+1}if(Rp.size===hJ){const a=Rp.keys().next().value;a&&Rp.delete(a)}return Rp.set(i,t),t}function iz(i,t,e={}){if(typeof t=="string")return t;const n=(t.children||[]).map(p=>iz(i,p)),a=t.attributes||{},s={};for(const[p,m]of Object.entries(a))switch(!0){case p==="class":{s.className=m,delete a.class;break}case p==="style":{s.style=dJ(String(m));break}case p.startsWith("aria-"):case p.startsWith("data-"):{s[p.toLowerCase()]=m;break}default:s[nz(p)]=m}const{style:o,"aria-label":u,...h}=e;return o&&(s.style=s.style?{...s.style,...o}:o),u&&(s["aria-label"]=u,s["aria-hidden"]="false"),i(t.tag,{...h,...s},...n)}var FD=(i,t)=>{const e=et.useId();return i||(t?e:void 0)},pJ=class{constructor(i="react-fontawesome"){this.enabled=!1;let t=!1;try{t=typeof process<"u"&&!1}catch{}this.scope=i,this.enabled=t}log(...i){this.enabled&&console.log(`[${this.scope}]`,...i)}warn(...i){this.enabled&&console.warn(`[${this.scope}]`,...i)}error(...i){this.enabled&&console.error(`[${this.scope}]`,...i)}},mJ="searchPseudoElementsFullScan"in lJ?"7.0.0":"6.0.0",gJ=Number.parseInt(mJ)>=7,yu={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},vJ={left:"fa-pull-left",right:"fa-pull-right"},yJ={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},_J={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},_u={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function xJ(i){const{beat:t,fade:e,beatFade:n,bounce:a,shake:s,spin:o,spinPulse:u,spinReverse:h,pulse:p,fixedWidth:m,inverse:v,border:_,flip:x,size:T,rotation:A,pull:E,swapOpacity:b,rotateBy:R,widthAuto:D,className:N}=i,U=[];return N&&U.push(...N.split(" ")),t&&U.push(yu.beat),e&&U.push(yu.fade),n&&U.push(yu.beatFade),a&&U.push(yu.bounce),s&&U.push(yu.shake),o&&U.push(yu.spin),h&&U.push(yu.spinReverse),u&&U.push(yu.spinPulse),p&&U.push(yu.pulse),m&&U.push(_u.fixedWidth),v&&U.push(_u.inverse),_&&U.push(_u.border),x===!0&&U.push(_u.flip),(x==="horizontal"||x==="both")&&U.push(_u.flipHorizontal),(x==="vertical"||x==="both")&&U.push(_u.flipVertical),T!=null&&U.push(_J[T]),A!=null&&A!==0&&U.push(yJ[A]),E!=null&&U.push(vJ[E]),b&&U.push(_u.swapOpacity),gJ&&(R&&U.push(_u.rotateBy),D&&U.push(_u.widthAuto)),U}var SJ=i=>typeof i=="object"&&"icon"in i&&!!i.icon;function VD(i){if(i)return SJ(i)?i:ez.icon(i)}function bJ(i){return Object.keys(i)}var HD=new pJ("FontAwesomeIcon"),az={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},MJ=new Set(Object.keys(az)),jr=AE.forwardRef((i,t)=>{const e={...az,...i},{icon:n,mask:a,symbol:s,title:o,titleId:u,maskId:h,transform:p}=e,m=FD(h,!!a),v=FD(u,!!o),_=VD(n);if(!_)return HD.error("Icon lookup is undefined",n),null;const x=xJ(e),T=typeof p=="string"?ez.transform(p):p,A=VD(a),E=uJ(_,{...x.length>0&&{classes:x},...T&&{transform:T},...A&&{mask:A},symbol:s,title:o,titleId:v,maskId:m});if(!E)return HD.error("Could not find icon",_),null;const{abstract:b}=E,R={ref:t};for(const D of bJ(e))MJ.has(D)||(R[D]=e[D]);return TJ(b[0],R)});jr.displayName="FontAwesomeIcon";var TJ=iz.bind(null,AE.createElement);/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var EJ={prefix:"fab",iconName:"bootstrap",icon:[576,512,[],"f836","M333.5 201.4c0-22.1-15.6-34.3-43-34.3l-50.4 0 0 71.2 42.5 0c32.8-.1 50.9-13.3 50.9-36.9zM517 188.6c-9.5-30.9-10.9-68.8-9.8-98.1 1.1-30.5-22.7-58.5-54.7-58.5L123.7 32c-32.1 0-55.8 28.1-54.7 58.5 1 29.3-.3 67.2-9.8 98.1-9.6 31-25.7 50.6-52.2 53.1l0 28.5c26.4 2.5 42.6 22.1 52.2 53.1 9.5 30.9 10.9 68.8 9.8 98.1-1.1 30.5 22.7 58.5 54.7 58.5l328.7 0c32.1 0 55.8-28.1 54.7-58.5-1-29.3 .3-67.2 9.8-98.1 9.6-31 25.7-50.6 52.1-53.1l0-28.5c-26.3-2.5-42.5-22.1-52-53.1zM300.2 375.1l-97.9 0 0-238.3 97.4 0c43.3 0 71.7 23.4 71.7 59.4 0 25.3-19.1 47.9-43.5 51.8l0 1.3c33.2 3.6 55.5 26.6 55.5 58.3 0 42.1-31.3 67.5-83.2 67.5zm-10-108.7l-50.1 0 0 78.4 52.3 0c34.2 0 52.3-13.7 52.3-39.5 0-25.7-18.6-38.9-54.5-38.9z"]},AJ={prefix:"fab",iconName:"css3-alt",icon:[384,512,[],"f38b","M0 32L34.9 427.8 192 480 349.1 427.8 384 32 0 32zm313.1 80l-4.8 47.3-115.3 49.3-.3 .1 111.5 0-12.8 146.6-98.2 28.7-98.8-29.2-6.4-73.9 48.9 0 3.2 38.3 52.6 13.3 54.7-15.4 3.7-61.6-166.3-.5 0-.1-.2 .1-3.6-46.3 112.1-46.7 6.5-2.7-122.9 0-5.8-47.3 242.2 0z"]},wJ={prefix:"fab",iconName:"github",icon:[512,512,[],"f09b","M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},CJ={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32L31.9 32C14.3 32 0 46.5 0 64.3L0 447.7C0 465.5 14.3 480 31.9 480L416 480c17.6 0 32-14.5 32-32.3l0-383.4C448 46.5 433.6 32 416 32zM135.4 416l-66.4 0 0-213.8 66.5 0 0 213.8-.1 0zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77zM384.3 416l-66.4 0 0-104c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9l0 105.8-66.4 0 0-213.8 63.7 0 0 29.2 .9 0c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9l0 117.2z"]},RJ={prefix:"fab",iconName:"react",icon:[512,512,[],"f41b","M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1 .9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2 .6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9-53.4 18.5-91.7 47.7-91.7 77.9 0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zM136.9 187.2c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zM115.7 320.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6 .4 19.5 .6 29.5 .6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8 .9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zM256 301.8a45.8 45.8 0 1 0 0-91.6 45.8 45.8 0 1 0 0 91.6z"]},DJ={prefix:"fab",iconName:"js",icon:[448,512,[],"f3b8","M0 32l0 448 448 0 0-448-448 0zM243.8 381.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5L152 385.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5l0-143.1 42.1 0 0 143.7zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43L301 382.1c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6z"]},NJ={prefix:"fab",iconName:"html5",icon:[384,512,[],"f13b","M0 32L34.9 427.8 191.5 480 349.1 427.8 384 32 0 32zM308.2 159.9l-183.8 0 4.1 49.4 175.6 0-13.6 148.4-97.9 27 0 .3-1.1 0-98.7-27.3-6-75.8 47.7 0 3.5 38.1 53.5 14.5 53.7-14.5 6-62.2-166.9 0-12.8-145.6 241.1 0-4.4 47.7z"]};/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var OJ={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"]},UJ={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M128 320L24.5 320c-24.9 0-40.2-27.1-27.4-48.5L50 183.3C58.7 168.8 74.3 160 91.2 160l95 0c76.1-128.9 189.6-135.4 265.5-124.3 12.8 1.9 22.8 11.9 24.6 24.6 11.1 75.9 4.6 189.4-124.3 265.5l0 95c0 16.9-8.8 32.5-23.3 41.2l-88.2 52.9c-21.3 12.8-48.5-2.6-48.5-27.4L192 384c0-35.3-28.7-64-64-64l-.1 0zM400 160a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},LJ={prefix:"fas",iconName:"hand-spock",icon:[512,512,[128406],"f259","M214.9 23.7C210.3 6.6 192.8-3.5 175.7 1.1s-27.2 22.1-22.6 39.2L206 237.8c2.5 9.2-4.5 18.2-14 18.2-6.4 0-12-4.2-13.9-10.3L134.6 102.7c-5.1-16.9-23-26.4-39.9-21.3s-26.4 23-21.3 39.9l62.8 206.4c2.4 7.9-7.2 13.8-13.2 8.1L67.6 283c-16-15.2-41.3-14.6-56.6 1.4S-3.6 325.7 12.4 341L124.8 448c43.1 41.1 100.4 64 160 64l19.1 0c.1 0 .1-.1 .1-.1s.1-.1 .1-.1c58.3-3.5 108.6-43.2 125.3-99.7l81.2-275c5-16.9-4.7-34.7-21.6-39.8s-34.7 4.7-39.8 21.6L411.5 247.1c-1.6 5.3-6.4 8.9-12 8.9-7.9 0-13.8-7.3-12.2-15.1l36-170.3c3.7-17.3-7.4-34.3-24.7-37.9s-34.3 7.4-37.9 24.7L323.1 235.1c-2.6 12.2-13.3 20.9-25.8 20.9-11.9 0-22.4-8-25.4-19.5l-57-212.8z"]},PJ={prefix:"fas",iconName:"graduation-cap",icon:[576,512,[127891,"mortar-board"],"f19d","M48 195.8l209.2 86.1c9.8 4 20.2 6.1 30.8 6.1s21-2.1 30.8-6.1l242.4-99.8c9-3.7 14.8-12.4 14.8-22.1s-5.8-18.4-14.8-22.1L318.8 38.1C309 34.1 298.6 32 288 32s-21 2.1-30.8 6.1L14.8 137.9C5.8 141.6 0 150.3 0 160L0 456c0 13.3 10.7 24 24 24s24-10.7 24-24l0-260.2zm48 71.7L96 384c0 53 86 96 192 96s192-43 192-96l0-116.6-142.9 58.9c-15.6 6.4-32.2 9.7-49.1 9.7s-33.5-3.3-49.1-9.7L96 267.4z"]};function zJ(){const[i,t]=et.useState(!0);et.useEffect(()=>{const o=setTimeout(()=>t(!1),2500);return()=>clearTimeout(o)},[]);const[e]=et.useState([{id:1,title:"Formazione",items:[yt.jsx(yt.Fragment,{children:yt.jsxs("ul",{children:[yt.jsxs("li",{children:[" ",yt.jsx(jr,{icon:PJ,size:"2x"})," Laure triennale in ",yt.jsx("i",{children:"Scienze Psicologiche della personalità e delle e relazioni interpersonali"}),"   ."]}),yt.jsxs("li",{children:["Corso enaip in ",yt.jsx("i",{children:'"Tecnico di produzione multimediale"'}),"."]}),yt.jsxs("li",{children:["Corso Aulab  ",yt.jsx("i",{children:'"Sviluppatore web fullstack"'}),"."]}),yt.jsx("li",{children:"Approfondimenti e specializzazione in React e tecnologie moderne tramite corsi online e autoformazione."})]})})]},{id:2,title:"Esperienza",items:[yt.jsx(yt.Fragment,{children:yt.jsxs("ul",{children:[yt.jsx("li",{children:"Libero professionista: produzioni multimediali per case editrici scolastiche."}),yt.jsx("li",{children:" Project manager presso Libre."}),yt.jsx("li",{children:" Collaborazione con il gruppo editoriale SEI - La Scuola "})]})})]},{id:3,title:"Skills",items:[yt.jsxs(yt.Fragment,{children:[yt.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px",maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[yt.jsxs("div",{children:[yt.jsx(jr,{icon:NJ,size:"2x"}),yt.jsx("div",{children:"HTML"})]}),yt.jsxs("div",{children:[yt.jsx(jr,{icon:AJ,size:"2x"}),yt.jsx("div",{children:"CSS"})]}),yt.jsxs("div",{children:[yt.jsx(jr,{icon:DJ,size:"2x"}),yt.jsx("div",{children:"JavaScript"})]}),yt.jsxs("div",{children:[yt.jsx(jr,{icon:EJ,size:"2x"}),yt.jsx("div",{children:"Bootstrap"})]}),yt.jsxs("div",{children:[yt.jsx(jr,{icon:RJ,size:"2x"}),yt.jsx("div",{children:"React"})]}),yt.jsxs("div",{children:[yt.jsx(jr,{icon:wJ,size:"2x"}),yt.jsx("div",{children:"GitHub"})]})]}),yt.jsx("p",{children:"P.s. Questo sito è stato realizzato usando React, Motion e React Three Fiber."})]})]},{id:4,title:"Contatti",items:[yt.jsxs("ul",{children:[yt.jsxs("li",{children:[" ",yt.jsx(jr,{icon:OJ}),"Email: marco.pino.psy@gmail.com "]}),yt.jsxs("li",{children:[" ",yt.jsx(jr,{icon:CJ}),yt.jsx("a",{href:"https://www.linkedin.com/in/marco-pino-multimedia/",target:"_blank",rel:"noopener noreferrer",children:"Linkedin"})]})]})]},{id:5,title:"Portfolio",items:[yt.jsxs(yt.Fragment,{children:[yt.jsx("h1",{children:yt.jsx("i",{children:"Coming Soon..."})}),yt.jsxs("span",{children:[" ",yt.jsx("br",{})," "]}),yt.jsxs("span",{children:["  ",yt.jsx(jr,{icon:UJ,size:"2x"})]})]})]},{id:6,title:"",items:[yt.jsxs("div",{children:[yt.jsx("h1",{children:" Ciao!"}),yt.jsx("p",{children:"Sono Marco Pino, uno sviluppatore web appassionato di frontend e nuove tecnologie. Dopo diverse esperienze lavorative in altri settori, ho scelto di dedicarmi alla programmazione perché mi entusiasma creare soluzioni utili e dinamiche per il web. Se cerchi una persona motivata, con voglia di crescere e di contribuire al tuo team o ai tuoi progetti digitali, contattami: potremmo fare grandi cose insieme."}),yt.jsxs("h3",{children:["Pace e prosperità (cit.) ",yt.jsx(jr,{icon:LJ,size:"2x"})]})]})]}]),[n,a]=et.useState(6),s=o=>{a(o)};return yt.jsxs(yt.Fragment,{children:[yt.jsx(g4,{children:i&&yt.jsxs(Hp.div,{className:"fixed inset-0 flex flex-col items-center justify-center bg-black z-50",initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[yt.jsx(Hp.img,{src:OR,alt:"Logo",className:"w-32 h-32  mb-2",initial:{scale:0},animate:{scale:2},transition:{duration:.8,ease:"easeOut"}}),yt.jsx(Hp.div,{className:"w-12 h-12 border-4 border-t-transparent border-white rounded-full",animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"}}),yt.jsx(Hp.p,{className:"mt-4 text-white font-semibold",initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{repeat:1/0,duration:2},children:"Caricamento..."})]},"loader")}),!i&&yt.jsxs(yt.Fragment,{children:[yt.jsx("div",{className:"canvasContainer",children:yt.jsxs(AT,{camera:{position:[0,0,5]},className:"canvas",children:[yt.jsx("ambientLight",{intensity:3.7}),yt.jsx("pointLight",{position:[10,10,10]}),yt.jsx(GT,{size:3.5,position:[0,0,0],textureUrl:"/personalpage/assets/earth.jpg"})]})}),yt.jsxs("div",{className:"contenuti",children:[yt.jsx(nZ,{className:"tablet",content:e,selectedId:n,children:"Pagina di Marco Pino"}),yt.jsx("div",{id:"containerTwo",children:yt.jsx(SX,{onNavClick:s,logo:OR,logoAlt:"Company Logo",items:[{id:1,label:"Formazione",href:"/formazione"},{id:2,label:"Esperienza",href:"/esperienza"},{id:3,label:"Skills",href:"/skills"},{id:4,label:"Contatti",href:"/contatti"},{id:5,label:"Portfolio",href:"/portfolio"}],activeHref:"/",className:"custom-nav  m-5",ease:"power2.easeOut",baseColor:"#000000",pillColor:"#ffffff",hoveredPillTextColor:"#ffffff",pillTextColor:"#000000"})})]})]})]})}$z.createRoot(document.getElementById("root")).render(yt.jsx(et.StrictMode,{children:yt.jsx(hB,{children:yt.jsx(zJ,{})})}));
